  <!DOCTYPE html>
  <html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Neovim user documentation">
    <link href="/css/normalize.min.css" rel="stylesheet">
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/main.css" rel="stylesheet">
    <link href="help.css" rel="stylesheet">
    <title> Eval - Neovim docs</title>
  </head>
  <body>
    <header class="container">
    <nav class="navbar navbar-expand-lg">
      <div>
        <a href="/" class="navbar-brand" aria-label="logo">
          <!--TODO: use <img src="â€¦.svg"> here instead. Need one that has green lettering instead of gray. -->
              <svg xmlns="http://www.w3.org/2000/svg" role="img" width="173" height="50" viewBox="0 0 742 214" aria-label="Neovim">
      <title>Neovim</title>
      <defs>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="a">
          <stop stop-color="#16B0ED" stop-opacity=".8" offset="0%" />
          <stop stop-color="#0F59B2" stop-opacity=".837" offset="100%" />
        </linearGradient>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="b">
          <stop stop-color="#7DB643" offset="0%" />
          <stop stop-color="#367533" offset="100%" />
        </linearGradient>
        <linearGradient x1="50%" y1="0%" x2="50%" y2="100%" id="c">
          <stop stop-color="#88C649" stop-opacity=".8" offset="0%" />
          <stop stop-color="#439240" stop-opacity=".84" offset="100%" />
        </linearGradient>
      </defs>
      <g fill="none" fill-rule="evenodd">
        <path
          d="M.027 45.459L45.224-.173v212.171L.027 166.894V45.459z"
          fill="url(#a)"
          transform="translate(1 1)"
        />
        <path
          d="M129.337 45.89L175.152-.149l-.928 212.146-45.197-45.104.31-121.005z"
          fill="url(#b)"
          transform="matrix(-1 0 0 1 305 1)"
        />
        <path
          d="M45.194-.137L162.7 179.173l-32.882 32.881L12.25 33.141 45.194-.137z"
          fill="url(#c)"
          transform="translate(1 1)"
        />
        <path
          d="M46.234 84.032l-.063 7.063-36.28-53.563 3.36-3.422 32.983 49.922z"
          fill-opacity=".13"
          fill="#000"
        />
        <g fill="#444">
          <path
            d="M227 154V64.44h4.655c1.55 0 2.445.75 2.685 2.25l.806 13.502c4.058-5.16 8.786-9.316 14.188-12.466 5.4-3.15 11.413-4.726 18.037-4.726 4.893 0 9.205.781 12.935 2.34 3.729 1.561 6.817 3.811 9.264 6.751 2.448 2.942 4.297 6.48 5.55 10.621 1.253 4.14 1.88 8.821 1.88 14.042V154h-8.504V96.754c0-8.402-1.91-14.987-5.729-19.757-3.82-4.771-9.667-7.156-17.544-7.156-5.851 0-11.28 1.516-16.292 4.545-5.013 3.032-9.489 7.187-13.427 12.467V154H227zM350.624 63c5.066 0 9.755.868 14.069 2.605 4.312 1.738 8.052 4.268 11.219 7.592s5.638 7.412 7.419 12.264C385.11 90.313 386 95.883 386 102.17c0 1.318-.195 2.216-.588 2.696-.393.48-1.01.719-1.851.719h-64.966v1.70c0 6.708.784 12.609 2.353 17.7 1.567 5.09 3.8 9.357 6.695 12.802 2.895 3.445 6.393 6.034 10.495 7.771 4.1 1.738 8.686 2.606 13.752 2.606 4.524 0 8.446-.494 11.762-1.483 3.317-.988 6.108-2.097 8.37-3.324 2.261-1.227 4.056-2.336 5.383-3.324 1.326-.988 2.292-1.482 2.895-1.482.784 0 1.388.3 1.81.898l2.352 2.875c-1.448 1.797-3.362 3.475-5.745 5.031-2.383 1.558-5.038 2.891-7.962 3.998-2.926 1.109-6.062 1.991-9.41 2.65a52.21 52.21 0 01-10.088.989c-6.152 0-11.762-1.064-16.828-3.19-5.067-2.125-9.415-5.225-13.043-9.298-3.63-4.074-6.435-9.06-8.415-14.96C310.99 121.655 310 114.9 310 107.294c0-6.408.92-12.323 2.76-17.744 1.84-5.421 4.493-10.093 7.961-14.016 3.467-3.922 7.72-6.991 12.758-9.209C338.513 64.11 344.229 63 350.624 63zm.573 6c-4.696 0-8.904.702-12.623 2.105-3.721 1.404-6.936 3.421-9.65 6.053-2.713 2.631-4.908 5.79-6.586 9.474S319.55 94.439 319 99h60c0-4.679-.672-8.874-2.013-12.588-1.343-3.712-3.232-6.856-5.67-9.43-2.44-2.571-5.367-4.545-8.782-5.92-3.413-1.374-7.192-2.062-11.338-2.062zM435.546 63c6.526 0 12.368 1.093 17.524 3.28 5.154 2.186 9.5 5.286 13.04 9.298 3.538 4.013 6.238 8.85 8.099 14.51 1.861 5.66 2.791 11.994 2.791 19.002 0 7.008-.932 13.327-2.791 18.957-1.861 5.631-4.561 10.452-8.099 14.465-3.54 4.012-7.886 7.097-13.04 9.254-5.156 2.156-10.998 3.234-17.524 3.234-6.529 0-12.369-1.078-17.525-3.234-5.155-2.157-9.517-5.242-13.085-9.254-3.57-4.013-6.285-8.836-8.145-14.465-1.861-5.63-2.791-11.95-2.791-18.957 0-7.008.93-13.342 2.791-19.002 1.861-5.66 4.576-10.496 8.145-14.51 3.568-4.012 7.93-7.112 13.085-9.299C423.177 64.094 429.017 63 435.546 63zm-.501 86c5.341 0 10.006-.918 13.997-2.757 3.99-1.838 7.32-4.474 9.992-7.909 2.67-3.435 4.664-7.576 5.986-12.428 1.317-4.85 1.98-10.288 1.98-16.316 0-5.965-.66-11.389-1.98-16.27-1.322-4.88-3.316-9.053-5.986-12.519-2.67-3.463-6-6.13-9.992-7.999-3.991-1.867-8.657-2.802-13.997-2.802s-10.008.935-13.997 2.802c-3.991 1.87-7.322 4.536-9.992 8-2.671 3.465-4.68 7.637-6.03 12.518-1.35 4.881-2.026 10.305-2.026 16.27 0 6.026.675 11.465 2.025 16.316 1.35 4.852 3.36 8.993 6.031 12.428 2.67 3.435 6 6.07 9.992 7.91 3.99 1.838 8.656 2.756 13.997 2.756z"
            fill="currentColor"
          />
          <path
            d="M530.57 152h-20.05L474 60h18.35c1.61 0 2.967.39 4.072 1.166 1.103.778 1.865 1.763 2.283 2.959l17.722 49.138a92.762 92.762 0 012.551 8.429c.686 2.751 1.298 5.5 1.835 8.25.537-2.75 1.148-5.499 1.835-8.25a77.713 77.713 0 012.64-8.429l18.171-49.138c.417-1.196 1.164-2.181 2.238-2.96 1.074-.776 2.356-1.165 3.849-1.165H567l-36.43 92zM572 61h23v92h-23zM610 153V60.443h13.624c2.887 0 4.78 1.354 5.682 4.06l1.443 6.856a52.7 52.7 0 015.097-4.962 32.732 32.732 0 015.683-3.879 30.731 30.731 0 016.496-2.57c2.314-.632 4.855-.948 7.624-.948 5.832 0 10.63 1.579 14.39 4.736 3.758 3.157 6.57 7.352 8.434 12.585 1.444-3.068 3.248-5.698 5.413-7.894 2.165-2.194 4.541-3.984 7.127-5.367a32.848 32.848 0 018.254-3.068 39.597 39.597 0 018.796-.992c5.111 0 9.653.783 13.622 2.345 3.97 1.565 7.307 3.849 10.014 6.857 2.706 3.007 4.766 6.675 6.18 11.005C739.29 83.537 740 88.5 740 94.092V153h-22.284V94.092c0-5.894-1.294-10.329-3.878-13.306-2.587-2.977-6.376-4.465-11.368-4.465-2.286 0-4.404.391-6.358 1.172a15.189 15.189 0 00-5.144 3.383c-1.473 1.474-2.631 3.324-3.474 5.548-.842 2.225-1.263 4.781-1.263 7.668V153h-22.37V94.092c0-6.194-1.249-10.704-3.744-13.532-2.497-2.825-6.18-4.24-11.051-4.24-3.19 0-6.18.798-8.976 2.391-2.799 1.593-5.399 3.775-7.804 6.54V153H610zM572 30h23v19h-23z"
            fill="currentColor"
            fill-opacity=".8"
          />
        </g>
      </g>
    </svg>
  
          <!--<img src="https://neovim.io/logos/neovim-logo.svg" width="173" height="50" alt="Neovim" />-->
        </a>
      </div>
    </nav>
  </header>

  <div class="container golden-grid help-body">
  <div class="col-wide">
  <a name="eval.txt"></a><a name="expression"></a><h1> Eval</h1>
  <p>
    <i>
    Nvim <code>:help</code> pages, <a href="https://github.com/neovim/neovim/blob/master/scripts/gen_help_html.lua">generated</a>
    from <a href="https://github.com/neovim/neovim/blob/master/runtime/doc/eval.txt">source</a>
    using the <a href="https://github.com/neovim/tree-sitter-vimdoc">tree-sitter-vimdoc</a> parser.
    </i>
  </p>
  <hr/>
  <div class="old-help-para">Expression evaluation <a name="expr"></a><span class="help-tag">expr</span> <a name="E15"></a><span class="help-tag">E15</span> <a name="eval"></a><span class="help-tag">eval</span>
</div>
<div class="old-help-para">Using expressions is introduced in chapter 41 of the user manual <a href="usr_41.html#usr_41.txt">usr_41.txt</a>.
</div>
<a name="_-1.-variables-"></a><h2 class="help-heading">1. Variables<span class="help-heading-tags">						<a name="variables"></a><span class="help-tag">variables</span></h2>
<div class="old-help-para">1.1 Variable types ~
						<a name="E712"></a><span class="help-tag-right">E712</span> <a name="E896"></a><span class="help-tag">E896</span> <a name="E897"></a><span class="help-tag">E897</span> <a name="E899"></a><span class="help-tag">E899</span>
There are seven types of variables:
</div>
<div class="old-help-para">							<a name="Number"></a><span class="help-tag-right">Number</span> <a name="Integer"></a><span class="help-tag">Integer</span>
Number		A 32 or 64 bit signed number.  <a href="eval.html#expr-number">expr-number</a>
		The number of bits is available in <a href="eval.html#v%3Anumbersize">v:numbersize</a>.
		Examples:  -123  0x10  0177  0o177  0b1011
</div>
<div class="old-help-para">Float		A floating point number. <a href="eval.html#floating-point-format">floating-point-format</a> <a name="Float"></a><span class="help-tag">Float</span>
		Examples: 123.456  1.15e-6  -1.1e3
</div>
<div class="old-help-para">String		A NUL terminated string of 8-bit unsigned characters (bytes).
		<a href="eval.html#expr-string">expr-string</a> Examples: "ab\txx\"--"
</div>
<div class="old-help-para">Funcref		A reference to a function <a href="eval.html#Funcref">Funcref</a>.
		Example: function("strlen")
		It can be bound to a dictionary and arguments, it then works
		like a Partial.
		Example: function("Callback", [arg], myDict)
</div>
<div class="old-help-para">List		An ordered sequence of items, see <a href="eval.html#List">List</a> for details.
		Example: [1, 2, ['a',]]
</div>
<div class="old-help-para">Dictionary	An associative, unordered array: Each entry has a key and a
		value. <a href="eval.html#Dictionary">Dictionary</a>
		Examples:
			<code>{"blue":}</code> "#0000ff", "red": "#ff0000"}
			#<code>{blue:}</code> "#0000ff", red: "#ff0000"}
</div>
<div class="old-help-para">Blob		Binary Large Object. Stores any sequence of bytes.  See <a href="eval.html#Blob">Blob</a>
		for details.
		Example: 0zFF00ED015DAF
		0z is an empty Blob.
</div>
<div class="old-help-para">The Number and String types are converted automatically, depending on how they
are used.
</div>
<div class="old-help-para">Conversion from a Number to a String is by making the ASCII representation of
the Number.  Examples:
<div class="help-column_heading">Number 123	--&gt;	String "123"</div><div class="help-column_heading">Number 0	--&gt;	String "0"</div><div class="help-column_heading">Number -1	--&gt;	String "-1"</div>							<a name="octal"></a><span class="help-tag-right">octal</span>
Conversion from a String to a Number is done by converting the first digits to
a number.  Hexadecimal "0xf9", Octal "017" or "0o17", and Binary "0b10"
numbers are recognized.  If the String doesn't start with digits, the result
is zero. Examples:
<div class="help-column_heading">String "456"	--&gt;	Number 456</div><div class="help-column_heading">String "6bar"	--&gt;	Number 6</div><div class="help-column_heading">String "foo"	--&gt;	Number 0</div><div class="help-column_heading">String "0xf1"	--&gt;	Number 241</div><div class="help-column_heading">String "0100"	--&gt;	Number 64</div><div class="help-column_heading">String "0o100"	--&gt;	Number 64</div><div class="help-column_heading">String "0b101"	--&gt;	Number 5</div><div class="help-column_heading">String "-8"	--&gt;	Number -8</div><div class="help-column_heading">String "+8"	--&gt;	Number 0</div></div>
<div class="old-help-para">To force conversion from String to Number, add zero to it:<pre>:echo "0100" + 0
</pre>
<div class="help-column_heading">64</div></div>
<div class="old-help-para">To avoid a leading zero to cause octal conversion, or for using a different
base, use <a href="builtin.html#str2nr()">str2nr()</a>.
</div>
<div class="old-help-para">						<a name="TRUE"></a><span class="help-tag-right">TRUE</span> <a name="FALSE"></a><span class="help-tag">FALSE</span> <a name="Boolean"></a><span class="help-tag">Boolean</span>
For boolean operators Numbers are used.  Zero is FALSE, non-zero is TRUE.
You can also use <a href="eval.html#v%3Afalse">v:false</a> and <a href="eval.html#v%3Atrue">v:true</a>.
When TRUE is returned from a function it is the Number one, FALSE is the
number zero.
</div>
<div class="old-help-para">Note that in the command:<pre>:if "foo"
:" NOT executed
</pre>
"foo" is converted to 0, which means FALSE.  If the string starts with a
non-zero number it means TRUE:<pre>:if "8foo"
:" executed
</pre>
To test for a non-empty string, use empty():<pre>:if !empty("foo")
</pre>
							<a name="non-zero-arg"></a><span class="help-tag-right">non-zero-arg</span>
Function arguments often behave slightly different from <a href="eval.html#TRUE">TRUE</a>: If the
argument is present and it evaluates to a non-zero Number, <a href="eval.html#v%3Atrue">v:true</a> or a
non-empty String, then the value is considered to be TRUE.
Note that " " and "0" are also non-empty strings, thus considered to be TRUE.
A List, Dictionary or Float is not a Number or String, thus evaluate to FALSE.
</div>
<div class="old-help-para">				<a name="E745"></a><span class="help-tag-right">E745</span> <a name="E728"></a><span class="help-tag">E728</span> <a name="E703"></a><span class="help-tag">E703</span> <a name="E729"></a><span class="help-tag">E729</span> <a name="E730"></a><span class="help-tag">E730</span> <a name="E731"></a><span class="help-tag">E731</span>
				<a name="E974"></a><span class="help-tag-right">E974</span> <a name="E975"></a><span class="help-tag">E975</span> <a name="E976"></a><span class="help-tag">E976</span>
<a href="eval.html#List">List</a>, <a href="eval.html#Dictionary">Dictionary</a>, <a href="eval.html#Funcref">Funcref</a>, and <a href="eval.html#Blob">Blob</a> types are not automatically
converted.
</div>
<div class="old-help-para">							<a name="E805"></a><span class="help-tag-right">E805</span> <a name="E806"></a><span class="help-tag">E806</span> <a name="E808"></a><span class="help-tag">E808</span>
When mixing Number and Float the Number is converted to Float.  Otherwise
there is no automatic conversion of Float.  You can use str2float() for String
to Float, printf() for Float to String and float2nr() for Float to Number.
</div>
<div class="old-help-para">					<a name="E362"></a><span class="help-tag-right">E362</span> <a name="E891"></a><span class="help-tag">E891</span> <a name="E892"></a><span class="help-tag">E892</span> <a name="E893"></a><span class="help-tag">E893</span> <a name="E894"></a><span class="help-tag">E894</span> <a name="E907"></a><span class="help-tag">E907</span>
When expecting a Float a Number can also be used, but nothing else.
</div>
<div class="old-help-para">					<a name="no-type-checking"></a><span class="help-tag-right">no-type-checking</span>
You will not get an error if you try to change the type of a variable.
</div>
<div class="old-help-para">1.2 Function references ~
							<a name="Funcref"></a><span class="help-tag-right">Funcref</span> <a name="E695"></a><span class="help-tag">E695</span> <a name="E718"></a><span class="help-tag">E718</span>
A Funcref variable is obtained with the <a href="builtin.html#function()">function()</a> function, the <a href="builtin.html#funcref()">funcref()</a>
function or created with the lambda expression <a href="eval.html#expr-lambda">expr-lambda</a>.  It can be used
in an expression in the place of a function name, before the parenthesis
around the arguments, to invoke the function it refers to.  Example:<pre>:let Fn = function("MyFunc")
:echo Fn()
</pre>
							<a name="E704"></a><span class="help-tag-right">E704</span> <a name="E705"></a><span class="help-tag">E705</span> <a name="E707"></a><span class="help-tag">E707</span>
A Funcref variable must start with a capital, "s:", "w:", "t:" or "b:".  You
can use "g:" but the following name must still start with a capital.  You
cannot have both a Funcref variable and a function with the same name.
</div>
<div class="old-help-para">A special case is defining a function and directly assigning its Funcref to a
Dictionary entry.  Example:<pre>:function dict.init() dict
:   let self.val = 0
:endfunction
</pre>
The key of the Dictionary can start with a lower case letter.  The actual
function name is not used here.  Also see <a href="eval.html#numbered-function">numbered-function</a>.
</div>
<div class="old-help-para">A Funcref can also be used with the <a href="userfunc.html#%3Acall">:call</a> command:<pre>:call Fn()
:call dict.init()
</pre>
The name of the referenced function can be obtained with <a href="builtin.html#string()">string()</a>.<pre>:let func = string(Fn)
</pre>
You can use <a href="builtin.html#call()">call()</a> to invoke a Funcref and use a list variable for the
arguments:<pre>:let r = call(Fn, mylist)
</pre>
								<a name="Partial"></a><span class="help-tag-right">Partial</span>
A Funcref optionally binds a Dictionary and/or arguments.  This is also called
a Partial.  This is created by passing the Dictionary and/or arguments to
function() or funcref().  When calling the function the Dictionary and/or
arguments will be passed to the function.  Example:<pre>let Cb = function('Callback', ['foo'], myDict)
call Cb('bar')
</pre>
This will invoke the function as if using:<pre>call myDict.Callback('foo', 'bar')
</pre>
Note that binding a function to a Dictionary also happens when the function is
a member of the Dictionary:<pre>let myDict.myFunction = MyFunction
call myDict.myFunction()
</pre>
Here MyFunction() will get myDict passed as "self".  This happens when the
"myFunction" member is accessed.  When assigning "myFunction" to otherDict
and calling it, it will be bound to otherDict:<pre>let otherDict.myFunction = myDict.myFunction
call otherDict.myFunction()
</pre>
Now "self" will be "otherDict".  But when the dictionary was bound explicitly
this won't happen:<pre>let myDict.myFunction = function(MyFunction, myDict)
let otherDict.myFunction = myDict.myFunction
call otherDict.myFunction()
</pre>
Here "self" will be "myDict", because it was bound explicitly.
</div>
<div class="old-help-para">1.3 Lists ~
						<a name="list"></a><span class="help-tag-right">list</span> <a name="List"></a><span class="help-tag">List</span> <a name="Lists"></a><span class="help-tag">Lists</span> <a name="E686"></a><span class="help-tag">E686</span>
A List is an ordered sequence of items.  An item can be of any type.  Items
can be accessed by their index number.  Items can be added and removed at any
position in the sequence.
</div>
<div class="old-help-para"><div class="help-column_heading">List creation</div>							<a name="E696"></a><span class="help-tag-right">E696</span> <a name="E697"></a><span class="help-tag">E697</span>
A List is created with a comma-separated list of items in square brackets.
Examples:<pre>:let mylist = [1, two, 3, "four"]
:let emptylist = []
</pre>
An item can be any expression.  Using a List for an item creates a
List of Lists:<pre>:let nestlist = [[11, 12], [21, 22], [31, 32]]
</pre>
An extra comma after the last item is ignored.
</div>
<div class="old-help-para"><div class="help-column_heading">List index</div>							<a name="list-index"></a><span class="help-tag-right">list-index</span> <a name="E684"></a><span class="help-tag">E684</span>
An item in the List can be accessed by putting the index in square brackets
after the List.  Indexes are zero-based, thus the first item has index zero.<pre>:let item = mylist[0]                " get the first item: 1
:let item = mylist[2]                " get the third item: 3
</pre>
When the resulting item is a list this can be repeated:<pre>:let item = nestlist[0][1]        " get the first list, second item: 12
</pre>
A negative index is counted from the end.  Index -1 refers to the last item in
the List, -2 to the last but one item, etc.<pre>:let last = mylist[-1]                " get the last item: "four"
</pre>
To avoid an error for an invalid index use the <a href="builtin.html#get()">get()</a> function.  When an item
is not available it returns zero or the default value you specify:<pre>:echo get(mylist, idx)
:echo get(mylist, idx, "NONE")
</pre>
L<div class="help-column_heading">ist concatenation</div></div>
<div class="old-help-para">Two lists can be concatenated with the "+" operator:<pre>:let longlist = mylist + [5, 6]
:let mylist += [7, 8]
</pre>
To prepend or append an item turn the item into a list by putting [] around
it.  To change a list in-place see <a href="eval.html#list-modification">list-modification</a> below.
</div>
<div class="old-help-para"><div class="help-column_heading">Sublist</div>							<a name="sublist"></a><span class="help-tag-right">sublist</span>
A part of the List can be obtained by specifying the first and last index,
separated by a colon in square brackets:<pre>:let shortlist = mylist[2:-1]        " get List [3, "four"]
</pre>
Omitting the first index is similar to zero.  Omitting the last index is
similar to -1.<pre>:let endlist = mylist[2:]        " from item 2 to the end: [3, "four"]
:let shortlist = mylist[2:2]        " List with one item: [3]
:let otherlist = mylist[:]        " make a copy of the List
</pre>
If the first index is beyond the last item of the List or the second item is
before the first item, the result is an empty list.  There is no error
message.
</div>
<div class="old-help-para">If the second index is equal to or greater than the length of the list the
length minus one is used:<pre>:let mylist = [0, 1, 2, 3]
:echo mylist[2:8]                " result: [2, 3]
</pre>
NOTE: mylist[s:e] means using the variable "s:e" as index.  Watch out for
using a single letter variable before the ":".  Insert a space when needed:
mylist[s : e].
</div>
<div class="old-help-para"><div class="help-column_heading">List identity</div>							<a name="list-identity"></a><span class="help-tag-right">list-identity</span>
When variable "aa" is a list and you assign it to another variable "bb", both
variables refer to the same list.  Thus changing the list "aa" will also
change "bb":<pre>:let aa = [1, 2, 3]
:let bb = aa
:call add(aa, 4)
:echo bb
</pre>
	[1, 2, 3, 4]
</div>
<div class="old-help-para">Making a copy of a list is done with the <a href="builtin.html#copy()">copy()</a> function.  Using [:] also
works, as explained above.  This creates a shallow copy of the list: Changing
a list item in the list will also change the item in the copied list:<pre>:let aa = [[1, 'a'], 2, 3]
:let bb = copy(aa)
:call add(aa, 4)
:let aa[0][1] = 'aaa'
:echo aa
</pre>
	[[1, aaa], 2, 3, 4]<pre>:echo bb
</pre>
	[[1, aaa], 2, 3]
</div>
<div class="old-help-para">To make a completely independent list use <a href="builtin.html#deepcopy()">deepcopy()</a>.  This also makes a
copy of the values in the list, recursively.  Up to a hundred levels deep.
</div>
<div class="old-help-para">The operator "is" can be used to check if two variables refer to the same
List.  "isnot" does the opposite.  In contrast "==" compares if two lists have
the same value.<pre>:let alist = [1, 2, 3]
:let blist = [1, 2, 3]
:echo alist is blist
</pre>
	0<pre>:echo alist == blist
</pre>
	1
</div>
<div class="old-help-para">Note about comparing lists: Two lists are considered equal if they have the
same length and all items compare equal, as with using "==".  There is one
exception: When comparing a number with a string they are considered
different.  There is no automatic type conversion, as with using "==" on
variables.  Example:<pre>echo 4 == "4"
</pre>
	1<pre>echo [4] == ["4"]
</pre>
	0
</div>
<div class="old-help-para">Thus comparing Lists is more strict than comparing numbers and strings.  You
can compare simple values this way too by putting them in a list:<pre>:let a = 5
:let b = "5"
:echo a == b
</pre>
	1<pre>:echo [a] == [b]
</pre>
	0
</div>
<div class="old-help-para"><div class="help-column_heading">List unpack</div></div>
<div class="old-help-para">To unpack the items in a list to individual variables, put the variables in
square brackets, like list items:<pre>:let [var1, var2] = mylist
</pre>
When the number of variables does not match the number of items in the list
this produces an error.  To handle any extra items from the list append ";"
and a variable name:<pre>:let [var1, var2; rest] = mylist
</pre>
This works like:<pre>:let var1 = mylist[0]
:let var2 = mylist[1]
:let rest = mylist[2:]
</pre>
Except that there is no error if there are only two items.  "rest" will be an
empty list then.
</div>
<div class="old-help-para"><div class="help-column_heading">List modification</div>							<a name="list-modification"></a><span class="help-tag-right">list-modification</span>
To change a specific item of a list use <a href="eval.html#%3Alet">:let</a> this way:<pre>:let list[4] = "four"
:let listlist[0][3] = item
</pre>
To change part of a list you can specify the first and last item to be
modified.  The value must at least have the number of items in the range:<pre>:let list[3:5] = [3, 4, 5]
</pre>
Adding and removing items from a list is done with functions.  Here are a few
examples:<pre>:call insert(list, 'a')                " prepend item 'a'
:call insert(list, 'a', 3)        " insert item 'a' before list[3]
:call add(list, "new")                " append String item
:call add(list, [1, 2])                " append a List as one new item
:call extend(list, [1, 2])        " extend the list with two more items
:let i = remove(list, 3)        " remove item 3
:unlet list[3]                        " idem
:let l = remove(list, 3, -1)        " remove items 3 to last item
:unlet list[3 : ]                " idem
:call filter(list, 'v:val !~ "x"')  " remove items with an 'x'
</pre>
Changing the order of items in a list:<pre>:call sort(list)                " sort a list alphabetically
:call reverse(list)                " reverse the order of items
:call uniq(sort(list))                " sort and remove duplicates
</pre>
F<div class="help-column_heading">or loop</div></div>
<div class="old-help-para">The <a href="eval.html#%3Afor">:for</a> loop executes commands for each item in a <a href="eval.html#List">List</a>, <a href="eval.html#String">String</a> or <a href="eval.html#Blob">Blob</a>.
A variable is set to each item in sequence.  Example with a List:<pre>:for item in mylist
:   call Doit(item)
:endfor
</pre>
This works like:<pre>:let index = 0
:while index &lt; len(mylist)
:   let item = mylist[index]
:   :call Doit(item)
:   let index = index + 1
:endwhile
</pre>
If all you want to do is modify each item in the list then the <a href="builtin.html#map()">map()</a>
function will be a simpler method than a for loop.
</div>
<div class="old-help-para">Just like the <a href="eval.html#%3Alet">:let</a> command, <a href="eval.html#%3Afor">:for</a> also accepts a list of variables.  This
requires the argument to be a List of Lists.<pre>:for [lnum, col] in [[1, 3], [2, 8], [3, 0]]
:   call Doit(lnum, col)
:endfor
</pre>
This works like a <a href="eval.html#%3Alet">:let</a> command is done for each list item.  Again, the types
must remain the same to avoid an error.
</div>
<div class="old-help-para">It is also possible to put remaining items in a List variable:<pre>:for [i, j; rest] in listlist
:   call Doit(i, j)
:   if !empty(rest)
:      echo "remainder: " .. string(rest)
:   endif
:endfor
</pre>
For a Blob one byte at a time is used.
</div>
<div class="old-help-para">For a String one character, including any composing characters, is used as a
String.  Example:<pre>for c in text
  echo 'This character is ' .. c
endfor
</pre>
L<div class="help-column_heading">ist functions</div>						<a name="E714"></a><span class="help-tag-right">E714</span>
Functions that are useful with a List:<pre>:let r = call(funcname, list)        " call a function with an argument list
:if empty(list)                        " check if list is empty
:let l = len(list)                " number of items in list
:let big = max(list)                " maximum value in list
:let small = min(list)                " minimum value in list
:let xs = count(list, 'x')        " count nr of times 'x' appears in list
:let i = index(list, 'x')        " index of first 'x' in list
:let lines = getline(1, 10)        " get ten text lines from buffer
:call append('$', lines)        " append text lines in buffer
:let list = split("a b c")        " create list from items in a string
:let string = join(list, ', ')        " create string from list items
:let s = string(list)                " String representation of list
:call map(list, '"&gt;&gt; " .. v:val')  " prepend "&gt;&gt; " to each item
</pre>
Don't forget that a combination of features can make things simple.  For
example, to add up all the numbers in a list:<pre>:exe 'let sum = ' .. join(nrlist, '+')
</pre>
1.4 Dictionaries ~
				 <a name="Dict"></a><span class="help-tag-right">Dict</span> <a name="dict"></a><span class="help-tag">dict</span> <a name="Dictionaries"></a><span class="help-tag">Dictionaries</span> <a name="Dictionary"></a><span class="help-tag">Dictionary</span>
A Dictionary is an associative array: Each entry has a key and a value.  The
entry can be located with the key.  The entries are stored without a specific
ordering.
</div>
<div class="old-help-para"><div class="help-column_heading">Dictionary creation</div>						<a name="E720"></a><span class="help-tag-right">E720</span> <a name="E721"></a><span class="help-tag">E721</span> <a name="E722"></a><span class="help-tag">E722</span> <a name="E723"></a><span class="help-tag">E723</span>
A Dictionary is created with a comma-separated list of entries in curly
braces.  Each entry has a key and a value, separated by a colon.  Each key can
only appear once.  Examples:<pre>:let mydict = {1: 'one', 2: 'two', 3: 'three'}
:let emptydict = {}
</pre>
							<a name="E713"></a><span class="help-tag-right">E713</span> <a name="E716"></a><span class="help-tag">E716</span> <a name="E717"></a><span class="help-tag">E717</span>
A key is always a String.  You can use a Number, it will be converted to a
String automatically.  Thus the String and the number 4 will find the same
entry.  Note that the String and the Number 04 are different, since the
Number will be converted to the String, leading zeros are dropped.  The
empty string can also be used as a key.
						<a name="literal-Dict"></a><span class="help-tag-right">literal-Dict</span> <a name="%23%7B%7D"></a><span class="help-tag">#{}</span>
To avoid having to put quotes around every key the #{} form can be used.  This
does require the key to consist only of ASCII letters, digits, and.
Example:<pre>:let mydict = #{zero: 0, one_key: 1, two-key: 2, 333: 3}
</pre>
Note that 333 here is the string "333".  Empty keys are not possible with #{}.
</div>
<div class="old-help-para">A value can be any expression.  Using a Dictionary for a value creates a
nested Dictionary:<pre>:let nestdict = {1: {11: 'a', 12: 'b'}, 2: {21: 'c'}}
</pre>
An extra comma after the last entry is ignored.
</div>
<div class="old-help-para"><div class="help-column_heading">Accessing entries</div></div>
<div class="old-help-para">The normal way to access an entry is by putting the key in square brackets:<pre>:let val = mydict["one"]
:let mydict["four"] = 4
</pre>
You can add new entries to an existing Dictionary this way, unlike Lists.
</div>
<div class="old-help-para">For keys that consist entirely of letters, digits and underscore the following
form can be used <a href="eval.html#expr-entry">expr-entry</a>:<pre>:let val = mydict.one
:let mydict.four = 4
</pre>
Since an entry can be any type, also a List and a Dictionary, the indexing and
key lookup can be repeated:<pre>:echo dict.key[idx].key
</pre>
D<div class="help-column_heading">ictionary to List conversion</div></div>
<div class="old-help-para">You may want to loop over the entries in a dictionary.  For this you need to
turn the Dictionary into a List and pass it to <a href="eval.html#%3Afor">:for</a>.
</div>
<div class="old-help-para">Most often you want to loop over the keys, using the <a href="builtin.html#keys()">keys()</a> function:<pre>:for key in keys(mydict)
:   echo key .. ': ' .. mydict[key]
:endfor
</pre>
The List of keys is unsorted.  You may want to sort them first:<pre>:for key in sort(keys(mydict))
</pre>
To loop over the values use the <a href="builtin.html#values()">values()</a> function:<pre>:for v in values(mydict)
:   echo "value: " .. v
:endfor
</pre>
If you want both the key and the value use the <a href="builtin.html#items()">items()</a> function.  It returns
a List in which each item is a List with two items, the key and the value:<pre>:for [key, value] in items(mydict)
:   echo key .. ': ' .. value
:endfor
</pre>
D<div class="help-column_heading">ictionary identity</div>							<a name="dict-identity"></a><span class="help-tag-right">dict-identity</span>
Just like Lists you need to use <a href="builtin.html#copy()">copy()</a> and <a href="builtin.html#deepcopy()">deepcopy()</a> to make a copy of a
Dictionary.  Otherwise, assignment results in referring to the same
Dictionary:<pre>:let onedict = {'a': 1, 'b': 2}
:let adict = onedict
:let adict['a'] = 11
:echo onedict['a']
11
</pre>
Two Dictionaries compare equal if all the key-value pairs compare equal.  For
more info see <a href="eval.html#list-identity">list-identity</a>.
</div>
<div class="old-help-para"><div class="help-column_heading">Dictionary modification</div>							<a name="dict-modification"></a><span class="help-tag-right">dict-modification</span>
To change an already existing entry of a Dictionary, or to add a new entry,
use <a href="eval.html#%3Alet">:let</a> this way:<pre>:let dict[4] = "four"
:let dict['one'] = item
</pre>
Removing an entry from a Dictionary is done with <a href="builtin.html#remove()">remove()</a> or <a href="eval.html#%3Aunlet">:unlet</a>.
Three ways to remove the entry with key "aaa" from dict:<pre>:let i = remove(dict, 'aaa')
:unlet dict.aaa
:unlet dict['aaa']
</pre>
Merging a Dictionary with another is done with <a href="builtin.html#extend()">extend()</a>:<pre>:call extend(adict, bdict)
</pre>
This extends adict with all entries from bdict.  Duplicate keys cause entries
in adict to be overwritten.  An optional third argument can change this.
Note that the order of entries in a Dictionary is irrelevant, thus don't
expect ":echo adict" to show the items from bdict after the older entries in
adict.
</div>
<div class="old-help-para">Weeding out entries from a Dictionary can be done with <a href="builtin.html#filter()">filter()</a>:<pre>:call filter(dict, 'v:val =~ "x"')
</pre>
This removes all entries from "dict" with a value not matching.
This can also be used to remove all entries:<pre>call filter(dict, 0)
</pre>
D<div class="help-column_heading">ictionary function</div>				<a name="Dictionary-function"></a><span class="help-tag-right">Dictionary-function</span> <a name="self"></a><span class="help-tag">self</span> <a name="E725"></a><span class="help-tag">E725</span> <a name="E862"></a><span class="help-tag">E862</span>
When a function is defined with the "dict" attribute it can be used in a
special way with a dictionary.  Example:<pre>:function Mylen() dict
:   return len(self.data)
:endfunction
:let mydict = {'data': [0, 1, 2, 3], 'len': function("Mylen")}
:echo mydict.len()
</pre>
This is like a method in object oriented programming.  The entry in the
Dictionary is a <a href="eval.html#Funcref">Funcref</a>.  The local variable "self" refers to the dictionary
the function was invoked from.
</div>
<div class="old-help-para">It is also possible to add a function without the "dict" attribute as a
Funcref to a Dictionary, but the "self" variable is not available then.
</div>
<div class="old-help-para">				<a name="numbered-function"></a><span class="help-tag-right">numbered-function</span> <a name="anonymous-function"></a><span class="help-tag">anonymous-function</span>
To avoid the extra name for the function it can be defined and directly
assigned to a Dictionary in this way:<pre>:let mydict = {'data': [0, 1, 2, 3]}
:function mydict.len()
:   return len(self.data)
:endfunction
:echo mydict.len()
</pre>
The function will then get a number and the value of dict.len is a <a href="eval.html#Funcref">Funcref</a>
that references this function.  The function can only be used through a
<a href="eval.html#Funcref">Funcref</a>.  It will automatically be deleted when there is no <a href="eval.html#Funcref">Funcref</a>
remaining that refers to it.
</div>
<div class="old-help-para">It is not necessary to use the "dict" attribute for a numbered function.
</div>
<div class="old-help-para">If you get an error for a numbered function, you can find out what it is with
a trick.  Assuming the function is 42, the command is:<pre>:function g:42
</pre>
F<div class="help-column_heading">unctions for Dictionaries</div>							<a name="E715"></a><span class="help-tag-right">E715</span>
Functions that can be used with a Dictionary:<pre>:if has_key(dict, 'foo')        " TRUE if dict has entry with key "foo"
:if empty(dict)                        " TRUE if dict is empty
:let l = len(dict)                " number of items in dict
:let big = max(dict)                " maximum value in dict
:let small = min(dict)                " minimum value in dict
:let xs = count(dict, 'x')        " count nr of times 'x' appears in dict
:let s = string(dict)                " String representation of dict
:call map(dict, '"&gt;&gt; " .. v:val')  " prepend "&gt;&gt; " to each item
</pre>
1.5 Blobs ~
						<a name="blob"></a><span class="help-tag-right">blob</span> <a name="Blob"></a><span class="help-tag">Blob</span> <a name="Blobs"></a><span class="help-tag">Blobs</span> <a name="E978"></a><span class="help-tag">E978</span>
A Blob is a binary object.  It can be used to read an image from a file and
send it over a channel, for example.
</div>
<div class="old-help-para">A Blob mostly behaves like a <a href="eval.html#List">List</a> of numbers, where each number has the
value of an 8-bit byte, from 0 to 255.
</div>
<div class="old-help-para"><div class="help-column_heading">Blob creation</div></div>
<div class="old-help-para">A Blob can be created with a <a href="eval.html#blob-literal">blob-literal</a>:<pre>:let b = 0zFF00ED015DAF
</pre>
Dots can be inserted between bytes (pair of hex characters) for readability,
they don't change the value:<pre>:let b = 0zFF00.ED01.5DAF
</pre>
A blob can be read from a file with <a href="builtin.html#readfile()">readfile()</a> passing the <code>{type}</code> argument
set to "B", for example:<pre>:let b = readfile('image.png', 'B')
</pre>
B<div class="help-column_heading">lob index</div>							<a name="blob-index"></a><span class="help-tag-right">blob-index</span> <a name="E979"></a><span class="help-tag">E979</span>
A byte in the Blob can be accessed by putting the index in square brackets
after the Blob.  Indexes are zero-based, thus the first byte has index zero.<pre>:let myblob = 0z00112233
:let byte = myblob[0]                " get the first byte: 0x00
:let byte = myblob[2]                " get the third byte: 0x22
</pre>
A negative index is counted from the end.  Index -1 refers to the last byte in
the Blob, -2 to the last but one byte, etc.<pre>:let last = myblob[-1]                " get the last byte: 0x33
</pre>
To avoid an error for an invalid index use the <a href="builtin.html#get()">get()</a> function.  When an item
is not available it returns -1 or the default value you specify:<pre>:echo get(myblob, idx)
:echo get(myblob, idx, 999)
</pre>
B<div class="help-column_heading">lob iteration</div></div>
<div class="old-help-para">The <a href="eval.html#%3Afor">:for</a> loop executes commands for each byte of a Blob.  The loop variable is
set to each byte in the Blob.  Example:<pre>:for byte in 0z112233
:   call Doit(byte)
:endfor
</pre>
This calls Doit() with 0x11, 0x22 and 0x33.
</div>
<div class="old-help-para"><div class="help-column_heading">Blob concatenation</div></div>
<div class="old-help-para">Two blobs can be concatenated with the "+" operator:<pre>:let longblob = myblob + 0z4455
:let myblob += 0z6677
</pre>
To change a blob in-place see <a href="eval.html#blob-modification">blob-modification</a> below.
</div>
<div class="old-help-para"><div class="help-column_heading">Part of a blob</div></div>
<div class="old-help-para">A part of the Blob can be obtained by specifying the first and last index,
separated by a colon in square brackets:<pre>:let myblob = 0z00112233
:let shortblob = myblob[1:2]        " get 0z1122
:let shortblob = myblob[2:-1]        " get 0z2233
</pre>
Omitting the first index is similar to zero.  Omitting the last index is
similar to -1.<pre>:let endblob = myblob[2:]        " from item 2 to the end: 0z2233
:let shortblob = myblob[2:2]        " Blob with one byte: 0z22
:let otherblob = myblob[:]        " make a copy of the Blob
</pre>
If the first index is beyond the last byte of the Blob or the second index is
before the first index, the result is an empty Blob.  There is no error
message.
</div>
<div class="old-help-para">If the second index is equal to or greater than the length of the Blob the
length minus one is used:<pre>:echo myblob[2:8]                " result: 0z2233
</pre>
B<div class="help-column_heading">lob modification</div>							<a name="blob-modification"></a><span class="help-tag-right">blob-modification</span>
To change a specific byte of a blob use <a href="eval.html#%3Alet">:let</a> this way:<pre>:let blob[4] = 0x44
</pre>
When the index is just one beyond the end of the Blob, it is appended. Any
higher index is an error.
</div>
<div class="old-help-para">To change a sequence of bytes the [:] notation can be used:<pre>let blob[1:3] = 0z445566
</pre>
The length of the replaced bytes must be exactly the same as the value
provided. <a name="E972"></a><span class="help-tag">E972</span>
</div>
<div class="old-help-para">To change part of a blob you can specify the first and last byte to be
modified.  The value must have the same number of bytes in the range:<pre>:let blob[3:5] = 0z334455
</pre>
You can also use the functions <a href="builtin.html#add()">add()</a>, <a href="builtin.html#remove()">remove()</a> and <a href="builtin.html#insert()">insert()</a>.
</div>
<div class="old-help-para"><div class="help-column_heading">Blob identity</div></div>
<div class="old-help-para">Blobs can be compared for equality:<pre>if blob == 0z001122
</pre>
And for equal identity:<pre>if blob is otherblob
</pre>
							<a name="blob-identity"></a><span class="help-tag-right">blob-identity</span> <a name="E977"></a><span class="help-tag">E977</span>
When variable "aa" is a Blob and you assign it to another variable "bb", both
variables refer to the same Blob.  Then the "is" operator returns true.
</div>
<div class="old-help-para">When making a copy using [:] or <a href="builtin.html#copy()">copy()</a> the values are the same, but the
identity is different:<pre>:let blob = 0z112233
:let blob2 = blob
:echo blob == blob2
</pre>
	1<pre>:echo blob is blob2
</pre>
	1<pre>:let blob3 = blob[:]
:echo blob == blob3
</pre>
	1<pre>:echo blob is blob3
</pre>
	0
</div>
<div class="old-help-para">Making a copy of a Blob is done with the <a href="builtin.html#copy()">copy()</a> function.  Using [:] also
works, as explained above.
</div>
<div class="old-help-para">1.6 More about variables ~
							<a name="more-variables"></a><span class="help-tag-right">more-variables</span>
If you need to know the type of a variable or expression, use the <a href="builtin.html#type()">type()</a>
function.
</div>
<div class="old-help-para">When the flag is included in the <a href="options.html#'shada'">'shada'</a> option, global variables that
start with an uppercase letter, and don't contain a lowercase letter, are
stored in the shada file <a href="starting.html#shada-file">shada-file</a>.
</div>
<div class="old-help-para">When the <a href="options.html#'sessionoptions'">'sessionoptions'</a> option contains "global", global variables that
start with an uppercase letter and contain at least one lowercase letter are
stored in the session file <a href="starting.html#session-file">session-file</a>.
</div>
<div class="old-help-para"><div class="help-column_heading">variable name		can be stored where</div>my_var_6		not
My_Var_6		session file
MY_VAR_6		shada file
</div>
<div class="old-help-para">It's possible to form a variable name with curly braces, see
<a href="eval.html#curly-braces-names">curly-braces-names</a>.
</div>
<a name="_-2.-expression-syntax-"></a><h2 class="help-heading">2. Expression syntax<span class="help-heading-tags">					<a name="expression-syntax"></a><span class="help-tag">expression-syntax</span></h2>
<div class="old-help-para">Expression syntax summary, from least to most significant:
</div>
<div class="old-help-para"><a href="eval.html#expr1">expr1</a>	expr2
	expr2 ? expr1 : expr1	if-then-else
</div>
<div class="old-help-para"><a href="eval.html#expr2">expr2</a>	expr3
	expr3 || expr3 ...	logical OR
</div>
<div class="old-help-para"><a href="eval.html#expr3">expr3</a>	expr4
	expr4 &amp;&amp; expr4 ...	logical AND
</div>
<div class="old-help-para"><a href="eval.html#expr4">expr4</a>	expr5
	expr5 == expr5		equal
	expr5 != expr5		not equal
	expr5 &gt;	 expr5		greater than
	expr5 &gt;= expr5		greater than or equal
	expr5 &lt;	 expr5		smaller than
	expr5 &lt;= expr5		smaller than or equal
	expr5 =~ expr5		regexp matches
	expr5 !~ expr5		regexp doesn't match
</div>
<div class="old-help-para">	expr5 ==? expr5		equal, ignoring case
	expr5 ==# expr5		equal, match case
	etc.			As above, append ? for ignoring case, # for
				matching case
</div>
<div class="old-help-para">	expr5 is expr5		same <a href="eval.html#List">List</a>, <a href="eval.html#Dictionary">Dictionary</a> or <a href="eval.html#Blob">Blob</a> instance
	expr5 isnot expr5	different <a href="eval.html#List">List</a>, <a href="eval.html#Dictionary">Dictionary</a> or <a href="eval.html#Blob">Blob</a>
				instance
</div>
<div class="old-help-para"><a href="eval.html#expr5">expr5</a>	expr6
	expr6 +	 expr6 ...	number addition, list or blob concatenation
	expr6 -	 expr6 ...	number subtraction
	expr6 .	 expr6 ...	string concatenation
	expr6 .. expr6 ...	string concatenation
</div>
<div class="old-help-para"><a href="eval.html#expr6">expr6</a>	expr7
	expr7 *	 expr7 ...	number multiplication
	expr7 /	 expr7 ...	number division
	expr7 %	 expr7 ...	number modulo
</div>
<div class="old-help-para"><a href="eval.html#expr7">expr7</a>	expr8
	! expr7			logical NOT
<div class="help-li">expr7			unary minus </div><div class="help-li">expr7			unary plus </div></div>
<div class="old-help-para"><a href="eval.html#expr8">expr8</a>	expr9
	expr8[expr1]		byte of a String or item of a <a href="eval.html#List">List</a>
	expr8[expr1 : expr1]	substring of a String or sublist of a <a href="eval.html#List">List</a>
	expr8.name		entry in a <a href="eval.html#Dictionary">Dictionary</a>
	expr8(expr1, ...)	function call with <a href="eval.html#Funcref">Funcref</a> variable
	expr8-&gt;name(expr1, ...)	<a href="eval.html#method">method</a> call
</div>
<div class="old-help-para"><a href="eval.html#expr9">expr9</a>	number			number constant
	"string"		string constant, backslash is special
	<a href="v:null#'string'">'string'</a>		string constant, ' is doubled
	[expr1, ...]		<a href="eval.html#List">List</a>
	<code>{expr1:}</code> expr1, ...}	<a href="eval.html#Dictionary">Dictionary</a>
	#<code>{key:}</code> expr1, ...}	<a href="eval.html#Dictionary">Dictionary</a>
	&amp;option			option value
	(expr1)			nested expression
	variable		internal variable
	va<code>{ria}</code>ble		internal variable with curly braces
	$VAR			environment variable
	@r			contents of register
	function(expr1, ...)	function call
	func<code>{ti}</code>on(expr1, ...)	function call with curly braces
	<code>{args}</code> -&gt; expr1}		lambda expression
</div>
<div class="old-help-para">"..." indicates that the operations in this level can be concatenated.
Example:<pre>&amp;nu || &amp;list &amp;&amp; &amp;shell == "csh"
</pre>
All expressions within one level are parsed from left to right.
</div>
<div class="old-help-para">expr1							<a name="expr1"></a><span class="help-tag-right">expr1</span> <a name="ternary"></a><span class="help-tag">ternary</span> <a name="E109"></a><span class="help-tag">E109</span>
-----
</div>
<div class="old-help-para">expr2 ? expr1 : expr1
</div>
<div class="old-help-para">The expression before the is evaluated to a number.  If it evaluates to
<a href="eval.html#TRUE">TRUE</a>, the result is the value of the expression between the and,
otherwise the result is the value of the expression after the.
Example:<pre>:echo lnum == 1 ? "top" : lnum
</pre>
Since the first expression is an "expr2", it cannot contain another ?:.  The
other two expressions can, thus allow for recursive use of ?:.
Example:<pre>:echo lnum == 1 ? "top" : lnum == 1000 ? "last" : lnum
</pre>
To keep this readable, using <a href="repeat.html#line-continuation">line-continuation</a> is suggested:<pre>:echo lnum == 1
:\        ? "top"
:\        : lnum == 1000
:\                ? "last"
:\                : lnum
</pre>
You should always put a space before the, otherwise it can be mistaken for
use in a variable such as "a:1".
</div>
<div class="old-help-para">expr2 and expr3						<a name="expr2"></a><span class="help-tag-right">expr2</span> <a name="expr3"></a><span class="help-tag">expr3</span>
---------------
</div>
<div class="old-help-para">expr3 || expr3 ..	logical OR		<a name="expr-barbar"></a><span class="help-tag-right">expr-barbar</span>
expr4 &amp;&amp; expr4 ..	logical AND		<a name="expr-%26%26"></a><span class="help-tag-right">expr-&amp;&amp;</span>
</div>
<div class="old-help-para">The "||" and "&amp;&amp;" operators take one argument on each side.  The arguments
are (converted to) Numbers.  The result is:
</div>
<div class="old-help-para"><div class="help-column_heading">input			 output</div><div class="help-column_heading">n1	n2		n1 || n2	n1 &amp;&amp; n2</div><a href="eval.html#FALSE">FALSE</a>	<a href="eval.html#FALSE">FALSE</a>		<a href="eval.html#FALSE">FALSE</a>		<a href="eval.html#FALSE">FALSE</a>
<a href="eval.html#FALSE">FALSE</a>	<a href="eval.html#TRUE">TRUE</a>		<a href="eval.html#TRUE">TRUE</a>		<a href="eval.html#FALSE">FALSE</a>
<a href="eval.html#TRUE">TRUE</a>	<a href="eval.html#FALSE">FALSE</a>		<a href="eval.html#TRUE">TRUE</a>		<a href="eval.html#FALSE">FALSE</a>
<a href="eval.html#TRUE">TRUE</a>	<a href="eval.html#TRUE">TRUE</a>		<a href="eval.html#TRUE">TRUE</a>		<a href="eval.html#TRUE">TRUE</a>
</div>
<div class="old-help-para">The operators can be concatenated, for example:<pre>&amp;nu || &amp;list &amp;&amp; &amp;shell == "csh"
</pre>
Note that "&amp;&amp;" takes precedence over "||", so this has the meaning of:<pre>&amp;nu || (&amp;list &amp;&amp; &amp;shell == "csh")
</pre>
Once the result is known, the expression "short-circuits", that is, further
arguments are not evaluated.  This is like what happens in C.  For example:<pre>let a = 1
echo a || b
</pre>
This is valid even if there is no variable called "b" because "a" is <a href="eval.html#TRUE">TRUE</a>,
so the result must be <a href="eval.html#TRUE">TRUE</a>.  Similarly below:<pre>echo exists("b") &amp;&amp; b == "yes"
</pre>
This is valid whether "b" has been defined or not.  The second clause will
only be evaluated if "b" has been defined.
</div>
<div class="old-help-para">expr4							<a name="expr4"></a><span class="help-tag-right">expr4</span>
-----
</div>
<div class="old-help-para">expr5 <code>{cmp}</code> expr5
</div>
<div class="old-help-para">Compare two expr5 expressions, resulting in a 0 if it evaluates to false, or 1
if it evaluates to true.
</div>
<div class="old-help-para">			<a name="expr-%3D%3D"></a><span class="help-tag-right">expr-==</span>  <a name="expr-%21%3D"></a><span class="help-tag">expr-!=</span>  <a name="expr-%3E"></a><span class="help-tag">expr-&gt;</span>	 <a name="expr-%3E%3D"></a><span class="help-tag-right">expr-&gt;=</span>
			<a name="expr-%3C"></a><span class="help-tag-right">expr-&lt;</span>   <a name="expr-%3C%3D"></a><span class="help-tag">expr-&lt;=</span>  <a name="expr-%3D~"></a><span class="help-tag">expr-=~</span>  <a name="expr-%21~"></a><span class="help-tag">expr-!~</span>
			<a name="expr-%3D%3D%23"></a><span class="help-tag-right">expr-==#</span> <a name="expr-%21%3D%23"></a><span class="help-tag">expr-!=#</span> <a name="expr-%3E%23"></a><span class="help-tag">expr-&gt;#</span>  <a name="expr-%3E%3D%23"></a><span class="help-tag">expr-&gt;=#</span>
			<a name="expr-%3C%23"></a><span class="help-tag-right">expr-&lt;#</span>  <a name="expr-%3C%3D%23"></a><span class="help-tag">expr-&lt;=#</span> <a name="expr-%3D~%23"></a><span class="help-tag">expr-=~#</span> <a name="expr-%21~%23"></a><span class="help-tag">expr-!~#</span>
			<a name="expr-%3D%3D%3F"></a><span class="help-tag-right">expr-==?</span> <a name="expr-%21%3D%3F"></a><span class="help-tag">expr-!=?</span> <a name="expr-%3E%3F"></a><span class="help-tag">expr-&gt;?</span>  <a name="expr-%3E%3D%3F"></a><span class="help-tag">expr-&gt;=?</span>
			<a name="expr-%3C%3F"></a><span class="help-tag-right">expr-&lt;?</span>  <a name="expr-%3C%3D%3F"></a><span class="help-tag">expr-&lt;=?</span> <a name="expr-%3D~%3F"></a><span class="help-tag">expr-=~?</span> <a name="expr-%21~%3F"></a><span class="help-tag">expr-!~?</span>
			<a name="expr-is"></a><span class="help-tag-right">expr-is</span> <a name="expr-isnot"></a><span class="help-tag">expr-isnot</span> <a name="expr-is%23"></a><span class="help-tag">expr-is#</span> <a name="expr-isnot%23"></a><span class="help-tag">expr-isnot#</span>
			<a name="expr-is%3F"></a><span class="help-tag-right">expr-is?</span> <a name="expr-isnot%3F"></a><span class="help-tag">expr-isnot?</span>
<div class="help-column_heading">use <a href="options.html#'ignorecase'">'ignorecase'</a>    match case	   ignore case</div>equal			==		==#		==?
not equal		!=		!=#		!=?
greater than		&gt;		&gt;#		&gt;?
greater than or equal	&gt;=		&gt;=#		&gt;=?
smaller than		&lt;		&lt;#		&lt;?
smaller than or equal	&lt;=		&lt;=#		&lt;=?
regexp matches		=~		=~#		=~?
regexp doesn't match	!~		!~#		!~?
same instance		is		is#		is?
different instance	isnot		isnot#		isnot?
</div>
<div class="old-help-para">Examples:
"abc" ==# "Abc"	  evaluates to 0
"abc" ==? "Abc"	  evaluates to 1
"abc" == "Abc"	  evaluates to 1 if <a href="options.html#'ignorecase'">'ignorecase'</a> is set, 0 otherwise
</div>
<div class="old-help-para">							<a name="E691"></a><span class="help-tag-right">E691</span> <a name="E692"></a><span class="help-tag">E692</span>
A <a href="eval.html#List">List</a> can only be compared with a <a href="eval.html#List">List</a> and only "equal", "not equal",
"is" and "isnot" can be used.  This compares the values of the list,
recursively.  Ignoring case means case is ignored when comparing item values.
</div>
<div class="old-help-para">							<a name="E735"></a><span class="help-tag-right">E735</span> <a name="E736"></a><span class="help-tag">E736</span>
A <a href="eval.html#Dictionary">Dictionary</a> can only be compared with a <a href="eval.html#Dictionary">Dictionary</a> and only "equal", "not
equal", "is" and "isnot" can be used.  This compares the key/values of the
<a href="eval.html#Dictionary">Dictionary</a> recursively.  Ignoring case means case is ignored when comparing
item values.
</div>
<div class="old-help-para">							<a name="E694"></a><span class="help-tag-right">E694</span>
A <a href="eval.html#Funcref">Funcref</a> can only be compared with a <a href="eval.html#Funcref">Funcref</a> and only "equal", "not
equal", "is" and "isnot" can be used.  Case is never ignored.  Whether
arguments or a Dictionary are bound (with a partial) matters.  The
Dictionaries must also be equal (or the same, in case of "is") and the
arguments must be equal (or the same).
</div>
<div class="old-help-para">To compare Funcrefs to see if they refer to the same function, ignoring bound
Dictionary and arguments, use <a href="builtin.html#get()">get()</a> to get the function name:<pre>if get(Part1, 'name') == get(Part2, 'name')
   " Part1 and Part2 refer to the same function
</pre>
Using "is" or "isnot" with a <a href="eval.html#List">List</a>, <a href="eval.html#Dictionary">Dictionary</a> or <a href="eval.html#Blob">Blob</a> checks whether
the expressions are referring to the same <a href="eval.html#List">List</a>, <a href="eval.html#Dictionary">Dictionary</a> or <a href="eval.html#Blob">Blob</a>
instance.  A copy of a <a href="eval.html#List">List</a> is different from the original <a href="eval.html#List">List</a>.  When
using "is" without a <a href="eval.html#List">List</a>, <a href="eval.html#Dictionary">Dictionary</a> or <a href="eval.html#Blob">Blob</a>, it is equivalent to
using "equal", using "isnot" is equivalent to using "not equal".  Except that
a different type means the values are different:<pre>echo 4 == '4'
1
echo 4 is '4'
0
echo 0 is []
0
</pre>
"is#"/"isnot#" and "is?"/"isnot?" can be used to match and ignore case.
</div>
<div class="old-help-para">When comparing a String with a Number, the String is converted to a Number,
and the comparison is done on Numbers.  This means that:<pre>echo 0 == 'x'
1
</pre>
because converted to a Number is zero.  However:<pre>echo [0] == ['x']
0
</pre>
Inside a List or Dictionary this conversion is not used.
</div>
<div class="old-help-para">When comparing two Strings, this is done with strcmp() or stricmp().  This
results in the mathematical difference (comparing byte values), not
necessarily the alphabetical difference in the local language.
</div>
<div class="old-help-para">When using the operators with a trailing, or the short version and
<a href="options.html#'ignorecase'">'ignorecase'</a> is off, the comparing is done with strcmp(): case matters.
</div>
<div class="old-help-para">When using the operators with a trailing, or the short version and
<a href="options.html#'ignorecase'">'ignorecase'</a> is set, the comparing is done with stricmp(): case is ignored.
</div>
<div class="old-help-para"><a href="options.html#'smartcase'">'smartcase'</a> is not used.
</div>
<div class="old-help-para">The "=~" and "!~" operators match the lefthand argument with the righthand
argument, which is used as a pattern.  See <a href="pattern.html#pattern">pattern</a> for what a pattern is.
This matching is always done like <a href="options.html#'magic'">'magic'</a> was set and <a href="options.html#'cpoptions'">'cpoptions'</a> is empty, no
matter what the actual value of <a href="options.html#'magic'">'magic'</a> or <a href="options.html#'cpoptions'">'cpoptions'</a> is.  This makes scripts
portable.  To avoid backslashes in the regexp pattern to be doubled, use a
single-quote string, see <a href="eval.html#literal-string">literal-string</a>.
Since a string is considered to be a single line, a multi-line pattern
(containing \n, backslash-n) will not match.  However, a literal NL character
can be matched like an ordinary character.  Examples:
	"foo\nbar" =~ "\n"	evaluates to 1
	"foo\nbar" =~ "\\n"	evaluates to 0
</div>
<div class="old-help-para">expr5 and expr6						<a name="expr5"></a><span class="help-tag-right">expr5</span> <a name="expr6"></a><span class="help-tag">expr6</span>
---------------
expr6 + expr6   Number addition, <a href="eval.html#List">List</a> or <a href="eval.html#Blob">Blob</a> concatenation	<a name="expr-%2B"></a><span class="help-tag">expr-+</span>
expr6 - expr6   Number subtraction				<a name="expr--"></a><span class="help-tag-right">expr--</span>
expr6 . expr6   String concatenation				<a name="expr-."></a><span class="help-tag-right">expr-.</span>
expr6 .. expr6  String concatenation				<a name="expr-.."></a><span class="help-tag-right">expr-..</span>
</div>
<div class="old-help-para">For <a href="eval.html#Lists">Lists</a> only "+" is possible and then both expr6 must be a list.  The
result is a new list with the two lists Concatenated.
</div>
<div class="old-help-para">For String concatenation ".." is preferred, since "." is ambiguous, it is also
used for <a href="eval.html#Dict">Dict</a> member access and floating point numbers.
</div>
<div class="old-help-para">expr7 * expr7  Number multiplication				<a name="expr-star"></a><span class="help-tag-right">expr-star</span>
expr7 / expr7  Number division					<a name="expr-%2F"></a><span class="help-tag-right">expr-/</span>
expr7 % expr7  Number modulo					<a name="expr-%25"></a><span class="help-tag-right">expr-%</span>
</div>
<div class="old-help-para">For all, except "." and "..", Strings are converted to Numbers.
For bitwise operators see <a href="builtin.html#and()">and()</a>, <a href="builtin.html#or()">or()</a> and <a href="builtin.html#xor()">xor()</a>.
</div>
<div class="old-help-para">Note the difference between "+" and ".":
	"123" + "456" = 579
	"123" . "456" = "123456"
</div>
<div class="old-help-para">Since has the same precedence as and, you need to read:<pre>1 . 90 + 90.0
</pre>
As:<pre>(1 . 90) + 90.0
</pre>
That works, since the String "190" is automatically converted to the Number
190, which can be added to the Float 90.0.  However:<pre>1 . 90 * 90.0
</pre>
Should be read as:<pre>1 . (90 * 90.0)
</pre>
Since has lower precedence than.  This does NOT work, since this
attempts to concatenate a Float and a String.
</div>
<div class="old-help-para">When dividing a Number by zero the result depends on the value:
	  0 / 0  = -0x80000000	(like NaN for Float)
	 &gt;0 / 0  =  0x7fffffff	(like positive infinity)
	 &lt;0 / 0  = -0x7fffffff	(like negative infinity)
	(before Vim 7.2 it was always 0x7fffffff)
</div>
<div class="old-help-para">When 64-bit Number support is enabled:
	  0 / 0  = -0x8000000000000000	(like NaN for Float)
	 &gt;0 / 0  =  0x7fffffffffffffff	(like positive infinity)
	 &lt;0 / 0  = -0x7fffffffffffffff	(like negative infinity)
</div>
<div class="old-help-para">When the righthand side of is zero, the result is 0.
</div>
<div class="old-help-para">None of these work for <a href="eval.html#Funcref">Funcref</a>s.
</div>
<div class="old-help-para">. and % do not work for Float. <a name="E804"></a><span class="help-tag">E804</span>
</div>
<div class="old-help-para">expr7							<a name="expr7"></a><span class="help-tag-right">expr7</span>
-----
! expr7			logical NOT		<a name="expr-%21"></a><span class="help-tag-right">expr-!</span>
<div class="help-li">expr7			unary minus		<a name="expr-unary--"></a><span class="help-tag-right">expr-unary--</span> </div><div class="help-li">expr7			unary plus		<a name="expr-unary-%2B"></a><span class="help-tag-right">expr-unary-+</span> </div></div>
<div class="old-help-para">For <a href="eval.html#TRUE">TRUE</a> becomes <a href="eval.html#FALSE">FALSE</a>, <a href="eval.html#FALSE">FALSE</a> becomes <a href="eval.html#TRUE">TRUE</a> (one).
For the sign of the number is changed.
For the number is unchanged.  Note: "++" has no effect.
</div>
<div class="old-help-para">A String will be converted to a Number first.
</div>
<div class="old-help-para">These three can be repeated and mixed.  Examples:
	!-1	    == 0
	!!8	    == 1
	--9	    == 9
</div>
<div class="old-help-para">expr8							<a name="expr8"></a><span class="help-tag-right">expr8</span>
-----
This expression is either <a href="eval.html#expr9">expr9</a> or a sequence of the alternatives below,
in any order.  E.g., these are all possible:
	expr8[expr1].name
	expr8.name[expr1]
	expr8(expr1, ...)[expr1].name
	expr8-&gt;(expr1, ...)[expr1]
Evaluation is always from left to right.
</div>
<div class="old-help-para">expr8[expr1]		item of String or <a href="eval.html#List">List</a>	<a name="expr-%5B%5D"></a><span class="help-tag">expr-[]</span> <a name="E111"></a><span class="help-tag">E111</span>
							<a name="subscript"></a><span class="help-tag-right">subscript</span>
In legacy Vim script:
If expr8 is a Number or String this results in a String that contains the
expr1'th single byte from expr8.  expr8 is used as a String (a number is
automatically converted to a String), expr1 as a Number.  This doesn't
recognize multibyte encodings, see <code>byteidx()</code> for an alternative, or use
<code>split()</code> to turn the string into a list of characters.  Example, to get the
byte under the cursor:<pre>:let c = getline(".")[col(".") - 1]
</pre>
Index zero gives the first byte.  This is like it works in C.  Careful:
text column numbers start with one!  Example, to get the byte under the
cursor:<pre>:let c = getline(".")[col(".") - 1]
</pre>
If the length of the String is less than the index, the result is an empty
String.  A negative index always results in an empty string (reason: backward
compatibility).  Use [-1:] to get the last byte.
</div>
<div class="old-help-para">If expr8 is a <a href="eval.html#List">List</a> then it results the item at index expr1.  See <a href="eval.html#list-index">list-index</a>
for possible index values.  If the index is out of range this results in an
error.  Example:<pre>:let item = mylist[-1]                " get last item
</pre>
Generally, if a <a href="eval.html#List">List</a> index is equal to or higher than the length of the
<a href="eval.html#List">List</a>, or more negative than the length of the <a href="eval.html#List">List</a>, this results in an
error.
</div>
<div class="old-help-para">expr8[expr1a : expr1b]	substring or <a href="eval.html#sublist">sublist</a>		<a name="expr-%5B%3A%5D"></a><span class="help-tag-right">expr-[:]</span> <a name="substring"></a><span class="help-tag">substring</span>
</div>
<div class="old-help-para">If expr8 is a String this results in the substring with the bytes or
characters from expr1a to and including expr1b.  expr8 is used as a String,
expr1a and expr1b are used as a Number.
</div>
<div class="old-help-para">In legacy Vim script the indexes are byte indexes.  This doesn't recognize
multibyte encodings, see <a href="builtin.html#byteidx()">byteidx()</a> for computing the indexes.  If expr8 is
a Number it is first converted to a String.
</div>
<div class="old-help-para">If expr1a is omitted zero is used.  If expr1b is omitted the length of the
string minus one is used.
</div>
<div class="old-help-para">A negative number can be used to measure from the end of the string.  -1 is
the last character, -2 the last but one, etc.
</div>
<div class="old-help-para">If an index goes out of range for the string characters are omitted.  If
expr1b is smaller than expr1a the result is an empty string.
</div>
<div class="old-help-para">Examples:<pre>:let c = name[-1:]                " last byte of a string
:let c = name[0:-1]                " the whole string
:let c = name[-2:-2]                " last but one byte of a string
:let s = line(".")[4:]                " from the fifth byte to the end
:let s = s[:-3]                        " remove last two bytes
</pre>
							<a name="slice"></a><span class="help-tag-right">slice</span>
If expr8 is a <a href="eval.html#List">List</a> this results in a new <a href="eval.html#List">List</a> with the items indicated by
the indexes expr1a and expr1b.  This works like with a String, as explained
just above. Also see <a href="eval.html#sublist">sublist</a> below.  Examples:<pre>:let l = mylist[:3]                " first four items
:let l = mylist[4:4]                " List with one item
:let l = mylist[:]                " shallow copy of a List
</pre>
If expr8 is a <a href="eval.html#Blob">Blob</a> this results in a new <a href="eval.html#Blob">Blob</a> with the bytes in the
indexes expr1a and expr1b, inclusive.  Examples:<pre>:let b = 0zDEADBEEF
:let bs = b[1:2]                " 0zADBE
:let bs = b[]                        " copy of 0zDEADBEEF
</pre>
Using expr8[expr1] or expr8[expr1a : expr1b] on a <a href="eval.html#Funcref">Funcref</a> results in an
error.
</div>
<div class="old-help-para">Watch out for confusion between a namespace and a variable followed by a colon
for a sublist:<pre>mylist[n:]     " uses variable n
mylist[s:]     " uses namespace s:, error!
</pre>
expr8.name		entry in a <a href="eval.html#Dictionary">Dictionary</a>		<a name="expr-entry"></a><span class="help-tag-right">expr-entry</span>
</div>
<div class="old-help-para">If expr8 is a <a href="eval.html#Dictionary">Dictionary</a> and it is followed by a dot, then the following
name will be used as a key in the <a href="eval.html#Dictionary">Dictionary</a>.  This is just like:
expr8[name].
</div>
<div class="old-help-para">The name must consist of alphanumeric characters, just like a variable name,
but it may start with a number.  Curly braces cannot be used.
</div>
<div class="old-help-para">There must not be white space before or after the dot.
</div>
<div class="old-help-para">Examples:<pre>:let dict = {"one": 1, 2: "two"}
:echo dict.one                " shows "1"
:echo dict.2                " shows "two"
:echo dict .2                " error because of space before the dot
</pre>
Note that the dot is also used for String concatenation.  To avoid confusion
always put spaces around the dot for String concatenation.
</div>
<div class="old-help-para">expr8(expr1, ...)	<a href="eval.html#Funcref">Funcref</a> function call
</div>
<div class="old-help-para">When expr8 is a <a href="eval.html#Funcref">Funcref</a> type variable, invoke the function it refers to.
</div>
<div class="old-help-para">expr8-&gt;name([args])	method call			<a name="method"></a><span class="help-tag-right">method</span> <a name="-%3E"></a><span class="help-tag">-&gt;</span>
expr8-&gt;<code>{lambda}</code>([args])
</div>
<div class="old-help-para">							<a name="E260"></a><span class="help-tag-right">E260</span> <a name="E276"></a><span class="help-tag">E276</span>
For methods that are also available as global functions this is the same as:<pre>name(expr8 [, args])
</pre>
There can also be methods specifically for the type of "expr8".
</div>
<div class="old-help-para">This allows for chaining, passing the value that one method returns to the
next method:<pre>mylist-&gt;filter(filterexpr)-&gt;map(mapexpr)-&gt;sort()-&gt;join()
</pre>
Example of using a lambda:<pre>GetPercentage()-&gt;{x -&gt; x * 100}()-&gt;printf('%d%%')
</pre>
When using -&gt; the <a href="eval.html#expr7">expr7</a> operators will be applied first, thus:<pre>-1.234-&gt;string()
</pre>
Is equivalent to:<pre>(-1.234)-&gt;string()
</pre>
And NOT:<pre>-(1.234-&gt;string())
</pre>
							<a name="E274"></a><span class="help-tag-right">E274</span>
"-&gt;name(" must not contain white space.  There can be white space before the
"-&gt;" and after the "(", thus you can split the lines like this:<pre>mylist
\ -&gt;filter(filterexpr)
\ -&gt;map(mapexpr)
\ -&gt;sort()
\ -&gt;join()
</pre>
When using the lambda form there must be no white space between the } and the
(.
</div>
<div class="old-help-para">							<a name="expr9"></a><span class="help-tag-right">expr9</span>
number
------
number			number constant			<a name="expr-number"></a><span class="help-tag-right">expr-number</span>
</div>
<div class="old-help-para">			<a name="0x"></a><span class="help-tag-right">0x</span> <a name="hex-number"></a><span class="help-tag">hex-number</span> <a name="0o"></a><span class="help-tag">0o</span> <a name="octal-number"></a><span class="help-tag">octal-number</span> <a name="binary-number"></a><span class="help-tag">binary-number</span>
Decimal, Hexadecimal (starting with 0x or 0X), Binary (starting with 0b or 0B)
and Octal (starting with 0, 0o or 0O).
</div>
<div class="old-help-para">						<a name="floating-point-format"></a><span class="help-tag-right">floating-point-format</span>
Floating point numbers can be written in two forms:
</div>
<div class="old-help-para">	[-+]<code>{N}</code>.<code>{M}</code>
	[-+]<code>{N}</code>.<code>{M}</code>[eE][-+]<code>{exp}</code>
</div>
<div class="old-help-para"><code>{N}</code> and <code>{M}</code> are numbers.  Both <code>{N}</code> and <code>{M}</code> must be present and can only
contain digits.
[-+] means there is an optional plus or minus sign.
<code>{exp}</code> is the exponent, power of 10.
Only a decimal point is accepted, not a comma.  No matter what the current
locale is.
</div>
<div class="old-help-para">Examples:
	123.456
	+0.0001
	55.0
	-0.123
	1.234e03
	1.0E-6
	-3.1416e+88
</div>
<div class="old-help-para">These are INVALID:
	3.		empty <code>{M}</code>
	1e40		missing .<code>{M}</code>
</div>
<div class="old-help-para">Rationale:
Before floating point was introduced, the text "123.456" was interpreted as
the two numbers "123" and "456", both converted to a string and concatenated,
resulting in the string "123456".  Since this was considered pointless, and we
could not find it intentionally being used in Vim scripts, this backwards
incompatibility was accepted in favor of being able to use the normal notation
for floating point numbers.
</div>
<div class="old-help-para">							<a name="float-pi"></a><span class="help-tag-right">float-pi</span> <a name="float-e"></a><span class="help-tag">float-e</span>
A few useful values to copy&amp;paste:<pre>:let pi = 3.14159265359
:let e  = 2.71828182846
</pre>
Or, if you don't want to write them in as floating-point literals, you can
also use functions, like the following:<pre>:let pi = acos(-1.0)
:let e  = exp(1.0)
</pre>
						<a name="floating-point-precision"></a><span class="help-tag-right">floating-point-precision</span>
The precision and range of floating points numbers depends on what "double"
means in the library Vim was compiled with.  There is no way to change this at
runtime.
</div>
<div class="old-help-para">The default for displaying a <a href="eval.html#Float">Float</a> is to use 6 decimal places, like using
printf("%g", f).  You can select something else when using the <a href="builtin.html#printf()">printf()</a>
function.  Example:<pre>:echo printf('%.15e', atan(1))
</pre>
	7.853981633974483e-01
</div>
<div class="old-help-para">string					<a name="string"></a><span class="help-tag-right">string</span> <a name="String"></a><span class="help-tag">String</span> <a name="expr-string"></a><span class="help-tag">expr-string</span> <a name="E114"></a><span class="help-tag">E114</span>
------
"string"		string constant		<a name="expr-quote"></a><span class="help-tag-right">expr-quote</span>
</div>
<div class="old-help-para">Note that double quotes are used.
</div>
<div class="old-help-para">A string constant accepts these special characters:
\...	three-digit octal number (e.g., "\316")
\..	two-digit octal number (must be followed by non-digit)
\.	one-digit octal number (must be followed by non-digit)
\x..	byte specified with two hex numbers (e.g., "\x1f")
\x.	byte specified with one hex number (must be followed by non-hex char)
\X..	same as \x..
\X.	same as \x.
\u....	character specified with up to 4 hex numbers, stored as UTF-8
	(e.g., "\u02a4")
\U....	same as \u but allows up to 8 hex numbers.
\b	backspace &lt;BS&gt;
\e	escape &lt;Esc&gt;
\f	formfeed 0x0C
\n	newline &lt;NL&gt;
\r	return &lt;CR&gt;
\t	tab &lt;Tab&gt;
\\	backslash
\"	double quote
\&lt;xxx&gt;	Special key named "xxx".  e.g. "\&lt;C-W&gt;" for CTRL-W.  This is for use
	in mappings, the 0x80 byte is escaped.
	To use the double quote character it must be escaped: "&lt;M-\"&gt;".
	Don't use &lt;Char-xxxx&gt; to get a UTF-8 character, use \uxxxx as
	mentioned above.
\&lt;*xxx&gt;	Like \&lt;xxx&gt; but prepends a modifier instead of including it in the
	character.  E.g. "\&lt;C-w&gt;" is one character 0x17 while "\&lt;*C-w&gt;" is four
	bytes: 3 for the CTRL modifier and then character "W".
</div>
<div class="old-help-para">Note that "\xff" is stored as the byte 255, which may be invalid in some
encodings.  Use "\u00ff" to store character 255 correctly as UTF-8.
</div>
<div class="old-help-para">Note that "\000" and "\x00" force the end of the string.
</div>
<div class="old-help-para">blob-literal				<a name="blob-literal"></a><span class="help-tag-right">blob-literal</span> <a name="E973"></a><span class="help-tag">E973</span>
------------
</div>
<div class="old-help-para">Hexadecimal starting with 0z or 0Z, with an arbitrary number of bytes.
The sequence must be an even number of hex characters.  Example:<pre>:let b = 0zFF00ED015DAF
</pre>
literal-string						<a name="literal-string"></a><span class="help-tag-right">literal-string</span> <a name="E115"></a><span class="help-tag">E115</span>
---------------
<a href="v:null#'string'">'string'</a>		string constant			<a name="expr-'"></a><span class="help-tag-right">expr-'</span>
</div>
<div class="old-help-para">Note that single quotes are used.
</div>
<div class="old-help-para">This string is taken as it is.  No backslashes are removed or have a special
meaning.  The only exception is that two quotes stand for one quote.
</div>
<div class="old-help-para">Single quoted strings are useful for patterns, so that backslashes do not need
to be doubled.  These two commands are equivalent:<pre>if a =~ "\\s*"
if a =~ '\s*'
</pre>
option						<a name="expr-option"></a><span class="help-tag-right">expr-option</span> <a name="E112"></a><span class="help-tag">E112</span> <a name="E113"></a><span class="help-tag">E113</span>
------
&amp;option			option value, local value if possible
&amp;g:option		global option value
&amp;l:option		local option value
</div>
<div class="old-help-para">Examples:<pre>echo "tabstop is " .. &amp;tabstop
if &amp;expandtab
</pre>
Any option name can be used here.  See <a href="options.html#options">options</a>.  When using the local value
and there is no buffer-local or window-local value, the global value is used
anyway.
</div>
<div class="old-help-para">register						<a name="expr-register"></a><span class="help-tag-right">expr-register</span> <a name="%40r"></a><span class="help-tag">@r</span>
--------
@r			contents of register
</div>
<div class="old-help-para">The result is the contents of the named register, as a single string.
Newlines are inserted where required.  To get the contents of the unnamed
register use @" or @@.  See <a href="change.html#registers">registers</a> for an explanation of the available
registers.
</div>
<div class="old-help-para">When using the register you get the expression itself, not what it
evaluates to.  Use <a href="builtin.html#eval()">eval()</a> to evaluate it.
</div>
<div class="old-help-para">nesting							<a name="expr-nesting"></a><span class="help-tag-right">expr-nesting</span> <a name="E110"></a><span class="help-tag">E110</span>
-------
(expr1)			nested expression
</div>
<div class="old-help-para">environment variable					<a name="expr-env"></a><span class="help-tag-right">expr-env</span>
--------------------
$VAR			environment variable
</div>
<div class="old-help-para">The String value of any environment variable.  When it is not defined, the
result is an empty string.
</div>
<div class="old-help-para">The functions <code>getenv()</code> and <code>setenv()</code> can also be used and work for
environment variables with non-alphanumeric names.
The function <code>environ()</code> can be used to get a Dict with all environment
variables.
</div>
<div class="old-help-para">						<a name="expr-env-expand"></a><span class="help-tag-right">expr-env-expand</span>
Note that there is a difference between using $VAR directly and using
expand("$VAR").  Using it directly will only expand environment variables that
are known inside the current Vim session.  Using expand() will first try using
the environment variables known inside the current Vim session.  If that
fails, a shell will be used to expand the variable.  This can be slow, but it
does expand all variables that the shell knows about.  Example:<pre>:echo $shell
:echo expand("$shell")
</pre>
The first one probably doesn't echo anything, the second echoes the $shell
variable (if your shell supports it).
</div>
<div class="old-help-para">internal variable					<a name="expr-variable"></a><span class="help-tag-right">expr-variable</span>
-----------------
variable		internal variable
See below <a href="eval.html#internal-variables">internal-variables</a>.
</div>
<div class="old-help-para">function call		<a name="expr-function"></a><span class="help-tag-right">expr-function</span> <a name="E116"></a><span class="help-tag">E116</span> <a name="E118"></a><span class="help-tag">E118</span> <a name="E119"></a><span class="help-tag">E119</span> <a name="E120"></a><span class="help-tag">E120</span>
-------------
function(expr1, ...)	function call
See below <a href="eval.html#functions">functions</a>.
</div>
<div class="old-help-para">lambda expression				<a name="expr-lambda"></a><span class="help-tag-right">expr-lambda</span> <a name="lambda"></a><span class="help-tag">lambda</span>
-----------------
<code>{args}</code> -&gt; expr1}		lambda expression
</div>
<div class="old-help-para">A lambda expression creates a new unnamed function which returns the result of
evaluating <a href="eval.html#expr1">expr1</a>.  Lambda expressions differ from <a href="eval.html#user-function">user-function</a>s in
the following ways:
</div>
<div class="old-help-para">1. The body of the lambda expression is an <a href="eval.html#expr1">expr1</a> and not a sequence of <a href="intro.html#Ex">Ex</a>
   commands.
2. The prefix "a:" should not be used for arguments.  E.g.:<pre>:let F = {arg1, arg2 -&gt; arg1 - arg2}
:echo F(5, 2)
</pre>
	3
</div>
<div class="old-help-para">The arguments are optional.  Example:<pre>:let F = {-&gt; 'error function'}
:echo F('ignored')
</pre>
	error function
							<a name="closure"></a><span class="help-tag-right">closure</span>
Lambda expressions can access outer scope variables and arguments.  This is
often called a closure.  Example where "i" and "a:arg" are used in a lambda
while they already exist in the function scope.  They remain valid even after
the function returns:<pre>:function Foo(arg)
:  let i = 3
:  return {x -&gt; x + i - a:arg}
:endfunction
:let Bar = Foo(4)
:echo Bar(6)
</pre>
	5
Note that the variables must exist in the outer scope before the lambda is
defined for this to work.  See also <a href="userfunc.html#%3Afunc-closure">:func-closure</a>.
</div>
<div class="old-help-para">Lambda and closure support can be checked with:<pre>if has('lambda')
</pre>
Examples for using a lambda expression with <a href="builtin.html#sort()">sort()</a>, <a href="builtin.html#map()">map()</a> and <a href="builtin.html#filter()">filter()</a>:<pre>:echo map([1, 2, 3], {idx, val -&gt; val + 1})
</pre>
	[2, 3, 4]<pre>:echo sort([3,7,2,1,4], {a, b -&gt; a - b})
</pre>
	[1, 2, 3, 4, 7]
</div>
<div class="old-help-para">The lambda expression is also useful for jobs and timers:<pre>:let timer = timer_start(500,
                \ {-&gt; execute("echo 'Handler called'", "")},
                \ {'repeat': 3})
</pre>
	Handler called
	Handler called
	Handler called
</div>
<div class="old-help-para">Note that it is possible to cause memory to be used and not freed if the
closure is referenced by the context it depends on:<pre>function Function()
   let x = 0
   let F = {-&gt; x}
 endfunction
</pre>
The closure uses "x" from the function scope, and "F" in that same scope
refers to the closure.  This cycle results in the memory not being freed.
Recommendation: don't do this.
</div>
<div class="old-help-para">Notice how execute() is used to execute an Ex command.  That's ugly though.
</div>
<div class="old-help-para">Lambda expressions have internal names like.  If you get an error
for a lambda expression, you can find what it is with the following command:<pre>:function &lt;lambda&gt;42
</pre>
See also: <a href="eval.html#numbered-function">numbered-function</a>
</div>
<a name="_-3.-internal-variable-"></a><h2 class="help-heading">3. Internal variable<span class="help-heading-tags">				<a name="internal-variables"></a><span class="help-tag">internal-variables</span> <a name="E461"></a><span class="help-tag">E461</span></span></h2>
<div class="old-help-para">An internal variable name can be made up of letters, digits and.  But it
cannot start with a digit.  It's also possible to use curly braces, see
<a href="eval.html#curly-braces-names">curly-braces-names</a>.
</div>
<div class="old-help-para">An internal variable is created with the ":let" command <a href="eval.html#%3Alet">:let</a>.
An internal variable is explicitly destroyed with the ":unlet" command
<a href="eval.html#%3Aunlet">:unlet</a>.
Using a name that is not an internal variable or refers to a variable that has
been destroyed results in an error.
</div>
<div class="old-help-para">						<a name="variable-scope"></a><span class="help-tag-right">variable-scope</span>
There are several name spaces for variables.  Which one is to be used is
specified by what is prepended:
</div>
<div class="old-help-para">		(nothing) In a function: local to a function; otherwise: global
<a href="eval.html#buffer-variable">buffer-variable</a>    b:	  Local to the current buffer.
<a href="eval.html#window-variable">window-variable</a>    w:	  Local to the current window.
<a href="eval.html#tabpage-variable">tabpage-variable</a>   t:	  Local to the current tab page.
<a href="eval.html#global-variable">global-variable</a>    g:	  Global.
<a href="eval.html#local-variable">local-variable</a>     l:	  Local to a function.
<a href="eval.html#script-variable">script-variable</a>    s:	  Local to a <a href="repeat.html#%3Asource">:source</a>ed Vim script.
<a href="userfunc.html#function-argument">function-argument</a>  a:	  Function argument (only inside a function).
<a href="eval.html#vim-variable">vim-variable</a>       v:	  Global, predefined by Vim.
</div>
<div class="old-help-para">The scope name by itself can be used as a <a href="eval.html#Dictionary">Dictionary</a>.  For example, to
delete all script-local variables:<pre>:for k in keys(s:)
:    unlet s:[k]
:endfor
</pre>
						<a name="buffer-variable"></a><span class="help-tag-right">buffer-variable</span> <a name="b%3Avar"></a><span class="help-tag">b:var</span> <a name="b%3A"></a><span class="help-tag">b:</span>
A variable name that is preceded with "b:" is local to the current buffer.
Thus you can have several "b:foo" variables, one for each buffer.
This kind of variable is deleted when the buffer is wiped out or deleted with
<a href="windows.html#%3Abdelete">:bdelete</a>.
</div>
<div class="old-help-para">One local buffer variable is predefined:
					<a name="b%3Achangedtick"></a><span class="help-tag-right">b:changedtick</span> <a name="changetick"></a><span class="help-tag">changetick</span>
b:changedtick	The total number of changes to the current buffer.  It is
		incremented for each change.  An undo command is also a change
		in this case.  Resetting <a href="options.html#'modified'">'modified'</a> when writing the buffer is
		also counted.
		This can be used to perform an action only when the buffer has
		changed.  Example:<pre>:if my_changedtick != b:changedtick
:        let my_changedtick = b:changedtick
:        call My_Update()
:endif
</pre>
		You cannot change or delete the b:changedtick variable.
</div>
<div class="old-help-para">						<a name="window-variable"></a><span class="help-tag-right">window-variable</span> <a name="w%3Avar"></a><span class="help-tag">w:var</span> <a name="w%3A"></a><span class="help-tag">w:</span>
A variable name that is preceded with "w:" is local to the current window.  It
is deleted when the window is closed.
</div>
<div class="old-help-para">						<a name="tabpage-variable"></a><span class="help-tag-right">tabpage-variable</span> <a name="t%3Avar"></a><span class="help-tag">t:var</span> <a name="t%3A"></a><span class="help-tag">t:</span>
A variable name that is preceded with "t:" is local to the current tab page,
It is deleted when the tab page is closed.
</div>
<div class="old-help-para">						<a name="global-variable"></a><span class="help-tag-right">global-variable</span> <a name="g%3Avar"></a><span class="help-tag">g:var</span> <a name="g%3A"></a><span class="help-tag">g:</span>
Inside functions global variables are accessed with "g:".  Omitting this will
access a variable local to a function.  But "g:" can also be used in any other
place if you like.
</div>
<div class="old-help-para">						<a name="local-variable"></a><span class="help-tag-right">local-variable</span> <a name="l%3Avar"></a><span class="help-tag">l:var</span> <a name="l%3A"></a><span class="help-tag">l:</span>
Inside functions local variables are accessed without prepending anything.
But you can also prepend "l:" if you like.  However, without prepending "l:"
you may run into reserved variable names.  For example "count".  By itself it
refers to "v:count".  Using "l:count" you can have a local variable with the
same name.
</div>
<div class="old-help-para">						<a name="script-variable"></a><span class="help-tag-right">script-variable</span> <a name="s%3Avar"></a><span class="help-tag">s:var</span>
In a Vim script variables starting with "s:" can be used.  They cannot be
accessed from outside of the scripts, thus are local to the script.
</div>
<div class="old-help-para">They can be used in:
<div class="help-li">commands executed while the script is sourced </div><div class="help-li">functions defined in the script </div><div class="help-li">autocommands defined in the script </div><div class="help-li">functions and autocommands defined in functions and autocommands which were defined in the script (recursively)</div><div class="help-li">user defined commands defined in the script Thus not in:</div><div class="help-li">other scripts sourced from this one </div><div class="help-li">mappings </div><div class="help-li">menus </div><div class="help-li">etc. </div></div>
<div class="old-help-para">Script variables can be used to avoid conflicts with global variable names.
Take this example:<pre>let s:counter = 0
function MyCounter()
  let s:counter = s:counter + 1
  echo s:counter
endfunction
command Tick call MyCounter()
</pre>
You can now invoke "Tick" from any script, and the "s:counter" variable in
that script will not be changed, only the "s:counter" in the script where
"Tick" was defined is used.
</div>
<div class="old-help-para">Another example that does the same:<pre>let s:counter = 0
command Tick let s:counter = s:counter + 1 | echo s:counter
</pre>
When calling a function and invoking a user-defined command, the context for
script variables is set to the script where the function or command was
defined.
</div>
<div class="old-help-para">The script variables are also available when a function is defined inside a
function that is defined in a script.  Example:<pre>let s:counter = 0
function StartCounting(incr)
  if a:incr
    function MyCounter()
      let s:counter = s:counter + 1
    endfunction
  else
    function MyCounter()
      let s:counter = s:counter - 1
    endfunction
  endif
endfunction
</pre>
This defines the MyCounter() function either for counting up or counting down
when calling StartCounting().  It doesn't matter from where StartCounting() is
called, the s:counter variable will be accessible in MyCounter().
</div>
<div class="old-help-para">When the same script is sourced again it will use the same script variables.
They will remain valid as long as Vim is running.  This can be used to
maintain a counter:<pre>if !exists("s:counter")
  let s:counter = 1
  echo "script executed for the first time"
else
  let s:counter = s:counter + 1
  echo "script executed " .. s:counter .. " times now"
endif
</pre>
Note that this means that filetype plugins don't get a different set of script
variables for each buffer.  Use local buffer variables instead <a href="eval.html#b%3Avar">b:var</a>.
</div>
<a name="_predefined-vim-variables-"></a><h3 class="help-heading">PREDEFINED VIM VARIABLES			<a name="vim-variable"></a><span class="help-tag-right">vim-variable</span> <a name="v%3Avar"></a><span class="help-tag">v:var</span> <a name="v%3A"></a><span class="help-tag">v:</span></h3>
<div class="old-help-para">								<a name="E963"></a><span class="help-tag-right">E963</span>
Some variables can be set by the user, but the type cannot be changed.
</div>
<div class="old-help-para">					<a name="v%3Aargv"></a><span class="help-tag-right">v:argv</span> <a name="argv-variable"></a><span class="help-tag">argv-variable</span>
v:argv		The command line arguments Vim was invoked with.  This is a
		list of strings.  The first item is the Vim command.
		See <a href="eval.html#v%3Aprogpath">v:progpath</a> for the command with full path.
</div>
<div class="old-help-para">					<a name="v%3Abeval_col"></a><span class="help-tag-right">v:beval_col</span> <a name="beval_col-variable"></a><span class="help-tag">beval_col-variable</span>
v:beval_col	The number of the column, over which the mouse pointer is.
		This is the byte index in the <a href="eval.html#v%3Abeval_lnum">v:beval_lnum</a> line.
		Only valid while evaluating the <a href="vim_diff.html#'balloonexpr'">'balloonexpr'</a> option.
</div>
<div class="old-help-para">					<a name="v%3Abeval_bufnr"></a><span class="help-tag-right">v:beval_bufnr</span> <a name="beval_bufnr-variable"></a><span class="help-tag">beval_bufnr-variable</span>
v:beval_bufnr	The number of the buffer, over which the mouse pointer is. Only
		valid while evaluating the <a href="vim_diff.html#'balloonexpr'">'balloonexpr'</a> option.
</div>
<div class="old-help-para">					<a name="v%3Abeval_lnum"></a><span class="help-tag-right">v:beval_lnum</span> <a name="beval_lnum-variable"></a><span class="help-tag">beval_lnum-variable</span>
v:beval_lnum	The number of the line, over which the mouse pointer is. Only
		valid while evaluating the <a href="vim_diff.html#'balloonexpr'">'balloonexpr'</a> option.
</div>
<div class="old-help-para">					<a name="v%3Abeval_text"></a><span class="help-tag-right">v:beval_text</span> <a name="beval_text-variable"></a><span class="help-tag">beval_text-variable</span>
v:beval_text	The text under or after the mouse pointer.  Usually a word as
		it is useful for debugging a C program.  <a href="options.html#'iskeyword'">'iskeyword'</a> applies,
		but a dot and "-&gt;" before the position is included.  When on a
 the text before it is used, including the matching and
		word before it.  When on a Visual area within one line the
		highlighted text is used.  Also see <a href="cmdline.html#%3Ccexpr%3E">&lt;cexpr&gt;</a>.
		Only valid while evaluating the <a href="vim_diff.html#'balloonexpr'">'balloonexpr'</a> option.
</div>
<div class="old-help-para">					<a name="v%3Abeval_winnr"></a><span class="help-tag-right">v:beval_winnr</span> <a name="beval_winnr-variable"></a><span class="help-tag">beval_winnr-variable</span>
v:beval_winnr	The number of the window, over which the mouse pointer is. Only
		valid while evaluating the <a href="vim_diff.html#'balloonexpr'">'balloonexpr'</a> option.  The first
		window has number zero (unlike most other places where a
		window gets a number).
</div>
<div class="old-help-para">					<a name="v%3Abeval_winid"></a><span class="help-tag-right">v:beval_winid</span> <a name="beval_winid-variable"></a><span class="help-tag">beval_winid-variable</span>
v:beval_winid	The <a href="windows.html#window-ID">window-ID</a> of the window, over which the mouse pointer
		is.  Otherwise like v:beval_winnr.
</div>
<div class="old-help-para">					<a name="v%3Achar"></a><span class="help-tag-right">v:char</span> <a name="char-variable"></a><span class="help-tag">char-variable</span>
v:char		Argument for evaluating <a href="options.html#'formatexpr'">'formatexpr'</a> and used for the typed
		character when using &lt;expr&gt; in an abbreviation <a href="map.html#%3Amap-%3Cexpr%3E">:map-&lt;expr&gt;</a>.
		It is also used by the <a href="autocmd.html#InsertCharPre">InsertCharPre</a> and <a href="autocmd.html#InsertEnter">InsertEnter</a> events.
</div>
<div class="old-help-para">			<a name="v%3Acharconvert_from"></a><span class="help-tag-right">v:charconvert_from</span> <a name="charconvert_from-variable"></a><span class="help-tag">charconvert_from-variable</span>
v:charconvert_from
		The name of the character encoding of a file to be converted.
		Only valid while evaluating the <a href="options.html#'charconvert'">'charconvert'</a> option.
</div>
<div class="old-help-para">			<a name="v%3Acharconvert_to"></a><span class="help-tag-right">v:charconvert_to</span> <a name="charconvert_to-variable"></a><span class="help-tag">charconvert_to-variable</span>
v:charconvert_to
		The name of the character encoding of a file after conversion.
		Only valid while evaluating the <a href="options.html#'charconvert'">'charconvert'</a> option.
</div>
<div class="old-help-para">					<a name="v%3Acmdarg"></a><span class="help-tag-right">v:cmdarg</span> <a name="cmdarg-variable"></a><span class="help-tag">cmdarg-variable</span>
v:cmdarg	This variable is used for two purposes:
		1. The extra arguments given to a file read/write command.
		   Currently these are "++enc=" and "++ff=".  This variable is
		   set before an autocommand event for a file read/write
		   command is triggered.  There is a leading space to make it
		   possible to append this variable directly after the
		   read/write command.  Note: The "+cmd" argument isn't
		   included here, because it will be executed anyway.
		2. When printing a PostScript file with ":hardcopy" this is
		   the argument for the ":hardcopy" command.  This can be used
		   in <a href="options.html#'printexpr'">'printexpr'</a>.
</div>
<div class="old-help-para">						<a name="v%3Acollate"></a><span class="help-tag-right">v:collate</span> <a name="collate-variable"></a><span class="help-tag">collate-variable</span>
v:collate	The current locale setting for collation order of the runtime
		environment.  This allows Vim scripts to be aware of the
		current locale encoding.  Technical: it's the value of
		LC_COLLATE.  When not using a locale the value is "C".
		This variable can not be set directly, use the <a href="mlang.html#%3Alanguage">:language</a>
		command.
		See <a href="mlang.html#multi-lang">multi-lang</a>.
</div>
<div class="old-help-para">					<a name="v%3Acmdbang"></a><span class="help-tag-right">v:cmdbang</span> <a name="cmdbang-variable"></a><span class="help-tag">cmdbang-variable</span>
v:cmdbang	Set like v:cmdarg for a file read/write command.  When a "!"
		was used the value is 1, otherwise it is 0.  Note that this
		can only be used in autocommands.  For user commands <a href="map.html#%3Cbang%3E">&lt;bang&gt;</a>
		can be used.
</div>
<div class="old-help-para">				<a name="v%3Acompleted_item"></a><span class="help-tag-right">v:completed_item</span> <a name="completed_item-variable"></a><span class="help-tag">completed_item-variable</span>
v:completed_item
		Dictionary containing the most recent <a href="insert.html#complete-items">complete-items</a> after
		<a href="autocmd.html#CompleteDone">CompleteDone</a>.  Empty if the completion failed, or after
		leaving and re-entering insert mode.
		Note: Plugins can modify the value to emulate the builtin
		<a href="autocmd.html#CompleteDone">CompleteDone</a> event behavior.
</div>
<div class="old-help-para">					<a name="v%3Acount"></a><span class="help-tag-right">v:count</span> <a name="count-variable"></a><span class="help-tag">count-variable</span>
v:count		The count given for the last Normal mode command.  Can be used
		to get the count before a mapping.  Read-only.  Example:<pre>:map _x :&lt;C-U&gt;echo "the count is " .. v:count&lt;CR&gt;
</pre>
		Note: The &lt;C-U&gt; is required to remove the line range that you
		get when typing after a count.
		When there are two counts, as in "3d2w", they are multiplied,
		just like what happens in the command, "d6w" for the example.
		Also used for evaluating the <a href="options.html#'formatexpr'">'formatexpr'</a> option.
</div>
<div class="old-help-para">					<a name="v%3Acount1"></a><span class="help-tag-right">v:count1</span> <a name="count1-variable"></a><span class="help-tag">count1-variable</span>
v:count1	Just like "v:count", but defaults to one when no count is
		used.
</div>
<div class="old-help-para">						<a name="v%3Actype"></a><span class="help-tag-right">v:ctype</span> <a name="ctype-variable"></a><span class="help-tag">ctype-variable</span>
v:ctype		The current locale setting for characters of the runtime
		environment.  This allows Vim scripts to be aware of the
		current locale encoding.  Technical: it's the value of
		LC_CTYPE.  When not using a locale the value is "C".
		This variable can not be set directly, use the <a href="mlang.html#%3Alanguage">:language</a>
		command.
		See <a href="mlang.html#multi-lang">multi-lang</a>.
</div>
<div class="old-help-para">					<a name="v%3Adying"></a><span class="help-tag-right">v:dying</span> <a name="dying-variable"></a><span class="help-tag">dying-variable</span>
v:dying		Normally zero.  When a deadly signal is caught it's set to
		one.  When multiple signals are caught the number increases.
		Can be used in an autocommand to check if Vim didn't
		terminate normally. <code>{only}</code> works on Unix}
		Example:<pre>:au VimLeave * if v:dying | echo "\nAAAAaaaarrrggghhhh!!!\n" | endif
</pre>
		Note: if another deadly signal is caught when v:dying is one,
		VimLeave autocommands will not be executed.
</div>
<div class="old-help-para">					<a name="v%3Aexiting"></a><span class="help-tag-right">v:exiting</span> <a name="exiting-variable"></a><span class="help-tag">exiting-variable</span>
v:exiting	Exit code, or <a href="eval.html#v%3Anull">v:null</a> before invoking the <a href="autocmd.html#VimLeavePre">VimLeavePre</a>
		and <a href="autocmd.html#VimLeave">VimLeave</a> autocmds.  See <a href="editing.html#%3Aq">:q</a>, <a href="editing.html#%3Ax">:x</a> and <a href="quickfix.html#%3Acquit">:cquit</a>.
		Example:<pre>:au VimLeave * echo "Exit value is " .. v:exiting
                *v:echospace* *echospace-variable*
</pre>
v:echospace	Number of screen cells that can be used for an <code>:echo</code> message
		in the last screen line before causing the <a href="message.html#hit-enter-prompt">hit-enter-prompt</a>.
		Depends on <a href="options.html#'showcmd'">'showcmd'</a>, <a href="options.html#'ruler'">'ruler'</a> and <a href="options.html#'columns'">'columns'</a>.  You need to
		check <a href="options.html#'cmdheight'">'cmdheight'</a> for whether there are full-width lines
		available above the last line.
</div>
<div class="old-help-para">					<a name="v%3Aerrmsg"></a><span class="help-tag-right">v:errmsg</span> <a name="errmsg-variable"></a><span class="help-tag">errmsg-variable</span>
v:errmsg	Last given error message.
		Modifiable (can be set).
		Example:<pre>:let v:errmsg = ""
:silent! next
:if v:errmsg != ""
:  ... handle error
</pre>
				<a name="v%3Aerrors"></a><span class="help-tag-right">v:errors</span> <a name="errors-variable"></a><span class="help-tag">errors-variable</span> <a name="assert-return"></a><span class="help-tag">assert-return</span>
v:errors	Errors found by assert functions, such as <a href="testing.html#assert_true()">assert_true()</a>.
		This is a list of strings.
		The assert functions append an item when an assert fails.
		The return value indicates this: a one is returned if an item
		was added to v:errors, otherwise zero is returned.
		To remove old results make it empty:<pre>:let v:errors = []
</pre>
		If v:errors is set to anything but a list it is made an empty
		list by the assert function.
</div>
<div class="old-help-para">					<a name="v%3Aevent"></a><span class="help-tag-right">v:event</span> <a name="event-variable"></a><span class="help-tag">event-variable</span>
v:event		Dictionary of event data for the current <a href="autocmd.html#autocommand">autocommand</a>.  Valid
		only during the event lifetime; storing or passing v:event is
		invalid!  Copy it instead:<pre>au TextYankPost * let g:foo = deepcopy(v:event)
</pre>
		Keys vary by event; see the documentation for the specific
		event, e.g. <a href="autocmd.html#DirChanged">DirChanged</a> or <a href="autocmd.html#TextYankPost">TextYankPost</a>.
<div class="help-column_heading">KEY		DESCRIPTION</div>			abort		Whether the event triggered during
					an aborting condition (e.g. <a href="cmdline.html#c_Esc">c_Esc</a> or
					<a href="cmdline.html#c_CTRL-C">c_CTRL-C</a> for <a href="autocmd.html#CmdlineLeave">CmdlineLeave</a>).
			chan		<a href="channel.html#channel-id">channel-id</a> or 0 for "internal".
			cmdlevel	Level of cmdline.
			cmdtype		Type of cmdline, <a href="cmdline.html#cmdline-char">cmdline-char</a>.
			cwd		Current working directory.
			inclusive	Motion is <a href="motion.html#inclusive">inclusive</a>, else exclusive.
			scope		Event-specific scope name.
			operator	Current <a href="motion.html#operator">operator</a>.  Also set for Ex
					commands (unlike <a href="eval.html#v%3Aoperator">v:operator</a>). For
					example if <a href="autocmd.html#TextYankPost">TextYankPost</a> is triggered
					by the <a href="change.html#%3Ayank">:yank</a> Ex command then
					<code>v:event.operator</code> is "y".
			regcontents	Text stored in the register as a
					<a href="builtin.html#readfile()">readfile()</a>-style list of lines.
			regname		Requested register (e.g "x" for "xyy)
					or the empty string for an unnamed
					operation.
			regtype		Type of register as returned by
					<a href="builtin.html#getregtype()">getregtype()</a>.
			visual		Selection is visual (as opposed to,
					e.g., via motion).
			completed_item    Current selected complete item on
					<a href="autocmd.html#CompleteChanged">CompleteChanged</a>, Is <code>{}</code> when no complete
					item selected.
			height 		Height of popup menu on <a href="autocmd.html#CompleteChanged">CompleteChanged</a>
			width   	width of popup menu on <a href="autocmd.html#CompleteChanged">CompleteChanged</a>
			row  	 	Row count of popup menu on <a href="autocmd.html#CompleteChanged">CompleteChanged</a>,
					relative to screen.
			col  	 	Col count of popup menu on <a href="autocmd.html#CompleteChanged">CompleteChanged</a>,
					relative to screen.
			size 		Total number of completion items on
					<a href="autocmd.html#CompleteChanged">CompleteChanged</a>.
			scrollbar 	Is <a href="eval.html#v%3Atrue">v:true</a> if popup menu have scrollbar, or
					<a href="eval.html#v%3Afalse">v:false</a> if not.
			changed_window 	Is <a href="eval.html#v%3Atrue">v:true</a> if the the event fired
					while changing window (or tab) on <a href="autocmd.html#DirChanged">DirChanged</a>.
			status		Job status or exit code, -1 means "unknown". <a href="autocmd.html#TermClose">TermClose</a>
</div>
<div class="old-help-para">					<a name="v%3Aexception"></a><span class="help-tag-right">v:exception</span> <a name="exception-variable"></a><span class="help-tag">exception-variable</span>
v:exception	The value of the exception most recently caught and not
		finished.  See also <a href="eval.html#v%3Athrowpoint">v:throwpoint</a> and <a href="eval.html#throw-variables">throw-variables</a>.
		Example:<pre>:try
:  throw "oops"
:catch /.*/
:  echo "caught " .. v:exception
:endtry
</pre>
		Output: "caught oops".
</div>
<div class="old-help-para">					<a name="v%3Afalse"></a><span class="help-tag-right">v:false</span> <a name="false-variable"></a><span class="help-tag">false-variable</span>
v:false		Special value used to put "false" in JSON and msgpack.  See
		<a href="builtin.html#json_encode()">json_encode()</a>.  This value is converted to "v:false" when used
		as a String (e.g. in <a href="eval.html#expr5">expr5</a> with string concatenation
		operator) and to zero when used as a Number (e.g. in <a href="eval.html#expr5">expr5</a>
		or <a href="eval.html#expr7">expr7</a> when used with numeric operators). Read-only.
</div>
<div class="old-help-para">					<a name="v%3Afcs_reason"></a><span class="help-tag-right">v:fcs_reason</span> <a name="fcs_reason-variable"></a><span class="help-tag">fcs_reason-variable</span>
v:fcs_reason	The reason why the <a href="autocmd.html#FileChangedShell">FileChangedShell</a> event was triggered.
		Can be used in an autocommand to decide what to do and/or what
		to set v:fcs_choice to.  Possible values:
			deleted		file no longer exists
			conflict	file contents, mode or timestamp was
					changed and buffer is modified
			changed		file contents has changed
			mode		mode of file changed
			time		only file timestamp changed
</div>
<div class="old-help-para">					<a name="v%3Afcs_choice"></a><span class="help-tag-right">v:fcs_choice</span> <a name="fcs_choice-variable"></a><span class="help-tag">fcs_choice-variable</span>
v:fcs_choice	What should happen after a <a href="autocmd.html#FileChangedShell">FileChangedShell</a> event was
		triggered.  Can be used in an autocommand to tell Vim what to
		do with the affected buffer:
			reload		Reload the buffer (does not work if
					the file was deleted).
			edit		Reload the buffer and detect the
					values for options such as
					<a href="options.html#'fileformat'">'fileformat'</a>, <a href="options.html#'fileencoding'">'fileencoding'</a>, <a href="options.html#'binary'">'binary'</a>
					(does not work if the file was
					deleted).
			ask		Ask the user what to do, as if there
					was no autocommand.  Except that when
					only the timestamp changed nothing
					will happen.
			&lt;empty&gt;		Nothing, the autocommand should do
					everything that needs to be done.
		The default is empty.  If another (invalid) value is used then
		Vim behaves like it is empty, there is no warning message.
</div>
<div class="old-help-para">					<a name="v%3Afname"></a><span class="help-tag-right">v:fname</span> <a name="fname-variable"></a><span class="help-tag">fname-variable</span>
v:fname		When evaluating <a href="options.html#'includeexpr'">'includeexpr'</a>: the file name that was
		detected.  Empty otherwise.
</div>
<div class="old-help-para">					<a name="v%3Afname_in"></a><span class="help-tag-right">v:fname_in</span> <a name="fname_in-variable"></a><span class="help-tag">fname_in-variable</span>
v:fname_in	The name of the input file.  Valid while evaluating:
<div class="help-column_heading">option		used for</div>			<a href="options.html#'charconvert'">'charconvert'</a>	file to be converted
			<a href="options.html#'diffexpr'">'diffexpr'</a>	original file
			<a href="options.html#'patchexpr'">'patchexpr'</a>	original file
			<a href="options.html#'printexpr'">'printexpr'</a>	file to be printed
		And set to the swap file name for <a href="autocmd.html#SwapExists">SwapExists</a>.
</div>
<div class="old-help-para">					<a name="v%3Afname_out"></a><span class="help-tag-right">v:fname_out</span> <a name="fname_out-variable"></a><span class="help-tag">fname_out-variable</span>
v:fname_out	The name of the output file.  Only valid while
		evaluating:
<div class="help-column_heading">option		used for</div>			<a href="options.html#'charconvert'">'charconvert'</a>	resulting converted file (*)
			<a href="options.html#'diffexpr'">'diffexpr'</a>	output of diff
			<a href="options.html#'patchexpr'">'patchexpr'</a>	resulting patched file
		(*) When doing conversion for a write command (e.g., ":w
		file") it will be equal to v:fname_in.  When doing conversion
		for a read command (e.g., ":e file") it will be a temporary
		file and different from v:fname_in.
</div>
<div class="old-help-para">					<a name="v%3Afname_new"></a><span class="help-tag-right">v:fname_new</span> <a name="fname_new-variable"></a><span class="help-tag">fname_new-variable</span>
v:fname_new	The name of the new version of the file.  Only valid while
		evaluating <a href="options.html#'diffexpr'">'diffexpr'</a>.
</div>
<div class="old-help-para">					<a name="v%3Afname_diff"></a><span class="help-tag-right">v:fname_diff</span> <a name="fname_diff-variable"></a><span class="help-tag">fname_diff-variable</span>
v:fname_diff	The name of the diff (patch) file.  Only valid while
		evaluating <a href="options.html#'patchexpr'">'patchexpr'</a>.
</div>
<div class="old-help-para">					<a name="v%3Afolddashes"></a><span class="help-tag-right">v:folddashes</span> <a name="folddashes-variable"></a><span class="help-tag">folddashes-variable</span>
v:folddashes	Used for <a href="options.html#'foldtext'">'foldtext'</a>: dashes representing foldlevel of a closed
		fold.
		Read-only in the <a href="eval.html#sandbox">sandbox</a>. <a href="fold.html#fold-foldtext">fold-foldtext</a>
</div>
<div class="old-help-para">					<a name="v%3Afoldlevel"></a><span class="help-tag-right">v:foldlevel</span> <a name="foldlevel-variable"></a><span class="help-tag">foldlevel-variable</span>
v:foldlevel	Used for <a href="options.html#'foldtext'">'foldtext'</a>: foldlevel of closed fold.
		Read-only in the <a href="eval.html#sandbox">sandbox</a>. <a href="fold.html#fold-foldtext">fold-foldtext</a>
</div>
<div class="old-help-para">					<a name="v%3Afoldend"></a><span class="help-tag-right">v:foldend</span> <a name="foldend-variable"></a><span class="help-tag">foldend-variable</span>
v:foldend	Used for <a href="options.html#'foldtext'">'foldtext'</a>: last line of closed fold.
		Read-only in the <a href="eval.html#sandbox">sandbox</a>. <a href="fold.html#fold-foldtext">fold-foldtext</a>
</div>
<div class="old-help-para">					<a name="v%3Afoldstart"></a><span class="help-tag-right">v:foldstart</span> <a name="foldstart-variable"></a><span class="help-tag">foldstart-variable</span>
v:foldstart	Used for <a href="options.html#'foldtext'">'foldtext'</a>: first line of closed fold.
		Read-only in the <a href="eval.html#sandbox">sandbox</a>. <a href="fold.html#fold-foldtext">fold-foldtext</a>
</div>
<div class="old-help-para">					<a name="v%3Ahlsearch"></a><span class="help-tag-right">v:hlsearch</span> <a name="hlsearch-variable"></a><span class="help-tag">hlsearch-variable</span>
v:hlsearch	Variable that indicates whether search highlighting is on.
		Setting it makes sense only if <a href="options.html#'hlsearch'">'hlsearch'</a> is enabled. Setting
		this variable to zero acts like the <a href="pattern.html#%3Anohlsearch">:nohlsearch</a> command,
		setting it to one acts like<pre>let &amp;hlsearch = &amp;hlsearch
</pre>
		Note that the value is restored when returning from a
		function. <a href="userfunc.html#function-search-undo">function-search-undo</a>.
</div>
<div class="old-help-para">					<a name="v%3Ainsertmode"></a><span class="help-tag-right">v:insertmode</span> <a name="insertmode-variable"></a><span class="help-tag">insertmode-variable</span>
v:insertmode	Used for the <a href="autocmd.html#InsertEnter">InsertEnter</a> and <a href="autocmd.html#InsertChange">InsertChange</a> autocommand
		events.  Values:
			i	Insert mode
			r	Replace mode
			v	Virtual Replace mode
</div>
<div class="old-help-para">						<a name="v%3Akey"></a><span class="help-tag-right">v:key</span> <a name="key-variable"></a><span class="help-tag">key-variable</span>
v:key		Key of the current item of a <a href="eval.html#Dictionary">Dictionary</a>.  Only valid while
		evaluating the expression used with <a href="builtin.html#map()">map()</a> and <a href="builtin.html#filter()">filter()</a>.
		Read-only.
</div>
<div class="old-help-para">						<a name="v%3Alang"></a><span class="help-tag-right">v:lang</span> <a name="lang-variable"></a><span class="help-tag">lang-variable</span>
v:lang		The current locale setting for messages of the runtime
		environment.  This allows Vim scripts to be aware of the
		current language.  Technical: it's the value of LC_MESSAGES.
		The value is system dependent.
		This variable can not be set directly, use the <a href="mlang.html#%3Alanguage">:language</a>
		command.
		It can be different from <a href="eval.html#v%3Actype">v:ctype</a> when messages are desired
		in a different language than what is used for character
		encoding.  See <a href="mlang.html#multi-lang">multi-lang</a>.
</div>
<div class="old-help-para">						<a name="v%3Alc_time"></a><span class="help-tag-right">v:lc_time</span> <a name="lc_time-variable"></a><span class="help-tag">lc_time-variable</span>
v:lc_time	The current locale setting for time messages of the runtime
		environment.  This allows Vim scripts to be aware of the
		current language.  Technical: it's the value of LC_TIME.
		This variable can not be set directly, use the <a href="mlang.html#%3Alanguage">:language</a>
		command.  See <a href="mlang.html#multi-lang">multi-lang</a>.
</div>
<div class="old-help-para">						<a name="v%3Alnum"></a><span class="help-tag-right">v:lnum</span> <a name="lnum-variable"></a><span class="help-tag">lnum-variable</span>
v:lnum		Line number for the <a href="options.html#'foldexpr'">'foldexpr'</a> <a href="fold.html#fold-expr">fold-expr</a>, <a href="options.html#'formatexpr'">'formatexpr'</a> and
		<a href="options.html#'indentexpr'">'indentexpr'</a> expressions, tab page number for <a href="options.html#'guitablabel'">'guitablabel'</a>
		and <a href="options.html#'guitabtooltip'">'guitabtooltip'</a>.  Only valid while one of these
		expressions is being evaluated.  Read-only when in the
		<a href="eval.html#sandbox">sandbox</a>.
</div>
<div class="old-help-para">						<a name="v%3Alua"></a><span class="help-tag-right">v:lua</span> <a name="lua-variable"></a><span class="help-tag">lua-variable</span>
v:lua		Prefix for calling Lua functions from expressions.
		See <a href="lua.html#v%3Alua-call">v:lua-call</a> for more information.
</div>
<div class="old-help-para">					<a name="v%3Amouse_win"></a><span class="help-tag-right">v:mouse_win</span> <a name="mouse_win-variable"></a><span class="help-tag">mouse_win-variable</span>
v:mouse_win	Window number for a mouse click obtained with <a href="builtin.html#getchar()">getchar()</a>.
		First window has number 1, like with <a href="builtin.html#winnr()">winnr()</a>.  The value is
		zero when there was no mouse button click.
</div>
<div class="old-help-para">					<a name="v%3Amouse_winid"></a><span class="help-tag-right">v:mouse_winid</span> <a name="mouse_winid-variable"></a><span class="help-tag">mouse_winid-variable</span>
v:mouse_winid	<a href="windows.html#window-ID">window-ID</a> for a mouse click obtained with <a href="builtin.html#getchar()">getchar()</a>.
		The value is zero when there was no mouse button click.
</div>
<div class="old-help-para">					<a name="v%3Amouse_lnum"></a><span class="help-tag-right">v:mouse_lnum</span> <a name="mouse_lnum-variable"></a><span class="help-tag">mouse_lnum-variable</span>
v:mouse_lnum	Line number for a mouse click obtained with <a href="builtin.html#getchar()">getchar()</a>.
		This is the text line number, not the screen line number.  The
		value is zero when there was no mouse button click.
</div>
<div class="old-help-para">					<a name="v%3Amouse_col"></a><span class="help-tag-right">v:mouse_col</span> <a name="mouse_col-variable"></a><span class="help-tag">mouse_col-variable</span>
v:mouse_col	Column number for a mouse click obtained with <a href="builtin.html#getchar()">getchar()</a>.
		This is the screen column number, like with <a href="builtin.html#virtcol()">virtcol()</a>.  The
		value is zero when there was no mouse button click.
</div>
<div class="old-help-para">				<a name="v%3Amsgpack_types"></a><span class="help-tag-right">v:msgpack_types</span> <a name="msgpack_types-variable"></a><span class="help-tag">msgpack_types-variable</span>
v:msgpack_types	Dictionary containing msgpack types used by <a href="builtin.html#msgpackparse()">msgpackparse()</a>
		and <a href="builtin.html#msgpackdump()">msgpackdump()</a>. All types inside dictionary are fixed
		(not editable) empty lists. To check whether some list is one
		of msgpack types, use <a href="motion.html#is">is</a> operator.
</div>
<div class="old-help-para">					<a name="v%3Anull"></a><span class="help-tag-right">v:null</span> <a name="null-variable"></a><span class="help-tag">null-variable</span>
v:null		Special value used to put "null" in JSON and NIL in msgpack.
		See <a href="builtin.html#json_encode()">json_encode()</a>.  This value is converted to "v:null" when
		used as a String (e.g. in <a href="eval.html#expr5">expr5</a> with string concatenation
		operator) and to zero when used as a Number (e.g. in <a href="eval.html#expr5">expr5</a>
		or <a href="eval.html#expr7">expr7</a> when used with numeric operators). Read-only.
		In some places <code>v:null</code> can be used for a List, Dict, etc.
		that is not set.  That is slightly different than an empty
		List, Dict, etc.
</div>
<div class="old-help-para">					<a name="v%3Anumbermax"></a><span class="help-tag-right">v:numbermax</span> <a name="numbermax-variable"></a><span class="help-tag">numbermax-variable</span>
v:numbermax	Maximum value of a number.
</div>
<div class="old-help-para">					<a name="v%3Anumbermin"></a><span class="help-tag-right">v:numbermin</span> <a name="numbermin-variable"></a><span class="help-tag">numbermin-variable</span>
v:numbermin	Minimum value of a number (negative).
</div>
<div class="old-help-para">					<a name="v%3Anumbersize"></a><span class="help-tag-right">v:numbersize</span> <a name="numbersize-variable"></a><span class="help-tag">numbersize-variable</span>
v:numbersize	Number of bits in a Number.  This is normally 64, but on some
		systems it may be 32.
</div>
<div class="old-help-para">					<a name="v%3Aoldfiles"></a><span class="help-tag-right">v:oldfiles</span> <a name="oldfiles-variable"></a><span class="help-tag">oldfiles-variable</span>
v:oldfiles	List of file names that is loaded from the <a href="starting.html#shada">shada</a> file on
		startup.  These are the files that Vim remembers marks for.
		The length of the List is limited by the ' argument of the
		<a href="options.html#'shada'">'shada'</a> option (default is 100).
		When the <a href="starting.html#shada">shada</a> file is not used the List is empty.
		Also see <a href="starting.html#%3Aoldfiles">:oldfiles</a> and <a href="cmdline.html#c_%23%3C">c_#&lt;</a>.
		The List can be modified, but this has no effect on what is
		stored in the <a href="starting.html#shada">shada</a> file later.  If you use values other
		than String this will cause trouble.
</div>
<div class="old-help-para">						    <a name="v%3Aoption_new"></a><span class="help-tag-right">v:option_new</span>
v:option_new    New value of the option. Valid while executing an <a href="autocmd.html#OptionSet">OptionSet</a>
		autocommand.
						    <a name="v%3Aoption_old"></a><span class="help-tag-right">v:option_old</span>
v:option_old    Old value of the option. Valid while executing an <a href="autocmd.html#OptionSet">OptionSet</a>
		autocommand. Depending on the command used for setting and the
		kind of option this is either the local old value or the
		global old value.
						    <a name="v%3Aoption_oldlocal"></a><span class="help-tag-right">v:option_oldlocal</span>
v:option_oldlocal
		Old local value of the option. Valid while executing an
		<a href="autocmd.html#OptionSet">OptionSet</a> autocommand.
						    <a name="v%3Aoption_oldglobal"></a><span class="help-tag-right">v:option_oldglobal</span>
v:option_oldglobal
		Old global value of the option. Valid while executing an
		<a href="autocmd.html#OptionSet">OptionSet</a> autocommand.
						    <a name="v%3Aoption_type"></a><span class="help-tag-right">v:option_type</span>
v:option_type   Scope of the set command. Valid while executing an
		<a href="autocmd.html#OptionSet">OptionSet</a> autocommand. Can be either "global" or "local"
						    <a name="v%3Aoption_command"></a><span class="help-tag-right">v:option_command</span>
v:option_command
		Command used to set the option. Valid while executing an
		<a href="autocmd.html#OptionSet">OptionSet</a> autocommand.
<div class="help-column_heading">value		option was set via</div>			"setlocal"	<a href="options.html#%3Asetlocal">:setlocal</a> or ":let l:xxx"
			"setglobal"	<a href="options.html#%3Asetglobal">:setglobal</a> or ":let g:xxx"
			"set"		<a href="options.html#%3Aset">:set</a> or <a href="eval.html#%3Alet">:let</a>
			"modeline"	<a href="options.html#modeline">modeline</a>
					<a name="v%3Aoperator"></a><span class="help-tag-right">v:operator</span> <a name="operator-variable"></a><span class="help-tag">operator-variable</span>
v:operator	The last operator given in Normal mode.  This is a single
		character except for commands starting with &lt;g&gt; or &lt;z&gt;,
		in which case it is two characters.  Best used alongside
		<a href="eval.html#v%3Aprevcount">v:prevcount</a> and <a href="eval.html#v%3Aregister">v:register</a>.  Useful if you want to cancel
		Operator-pending mode and then use the operator, e.g.:<pre>:omap O &lt;Esc&gt;:call MyMotion(v:operator)&lt;CR&gt;
</pre>
		The value remains set until another operator is entered, thus
		don't expect it to be empty.
		v:operator is not set for <a href="change.html#%3Adelete">:delete</a>, <a href="change.html#%3Ayank">:yank</a> or other Ex
		commands.
		Read-only.
</div>
<div class="old-help-para">					<a name="v%3Aprevcount"></a><span class="help-tag-right">v:prevcount</span> <a name="prevcount-variable"></a><span class="help-tag">prevcount-variable</span>
v:prevcount	The count given for the last but one Normal mode command.
		This is the v:count value of the previous command.  Useful if
		you want to cancel Visual or Operator-pending mode and then
		use the count, e.g.:<pre>:vmap % &lt;Esc&gt;:call MyFilter(v:prevcount)&lt;CR&gt;
</pre>
		Read-only.
</div>
<div class="old-help-para">					<a name="v%3Aprofiling"></a><span class="help-tag-right">v:profiling</span> <a name="profiling-variable"></a><span class="help-tag">profiling-variable</span>
v:profiling	Normally zero.  Set to one after using ":profile start".
		See <a href="repeat.html#profiling">profiling</a>.
</div>
<div class="old-help-para">					<a name="v%3Aprogname"></a><span class="help-tag-right">v:progname</span> <a name="progname-variable"></a><span class="help-tag">progname-variable</span>
v:progname	The name by which Nvim was invoked (with path removed).
		Read-only.
</div>
<div class="old-help-para">					<a name="v%3Aprogpath"></a><span class="help-tag-right">v:progpath</span> <a name="progpath-variable"></a><span class="help-tag">progpath-variable</span>
v:progpath	Absolute path to the current running Nvim.
		Read-only.
</div>
<div class="old-help-para">					<a name="v%3Aregister"></a><span class="help-tag-right">v:register</span> <a name="register-variable"></a><span class="help-tag">register-variable</span>
v:register	The name of the register in effect for the current normal mode
		command (regardless of whether that command actually used a
		register).  Or for the currently executing normal mode mapping
		(use this in custom commands that take a register).
		If none is supplied it is the default register, unless
		<a href="options.html#'clipboard'">'clipboard'</a> contains "unnamed" or "unnamedplus", then it is
 or.
		Also see <a href="builtin.html#getreg()">getreg()</a> and <a href="builtin.html#setreg()">setreg()</a>
</div>
<div class="old-help-para">					<a name="v%3Ascrollstart"></a><span class="help-tag-right">v:scrollstart</span> <a name="scrollstart-variable"></a><span class="help-tag">scrollstart-variable</span>
v:scrollstart	String describing the script or function that caused the
		screen to scroll up.  It's only set when it is empty, thus the
		first reason is remembered.  It is set to "Unknown" for a
		typed command.
		This can be used to find out why your script causes the
		hit-enter prompt.
</div>
<div class="old-help-para">					<a name="v%3Aservername"></a><span class="help-tag-right">v:servername</span> <a name="servername-variable"></a><span class="help-tag">servername-variable</span>
v:servername	Primary listen-address of the current Nvim instance, the first
		item returned by <a href="builtin.html#serverlist()">serverlist()</a>.  Can be set by |--listen| or
		<a href="deprecated.html#%24NVIM_LISTEN_ADDRESS">$NVIM_LISTEN_ADDRESS</a> (deprecated) at startup.
		See also <a href="builtin.html#serverstart()">serverstart()</a> <a href="builtin.html#serverstop()">serverstop()</a>.
		Read-only.
</div>
<div class="old-help-para">								       <a name="%24NVIM"></a><span class="help-tag-right">$NVIM</span>
		$NVIM is set by <a href="nvim_terminal_emulator.html#terminal">terminal</a> and <a href="builtin.html#jobstart()">jobstart()</a>, and is thus
		a hint that the current environment is a subprocess of Nvim.
		Example:<pre>if $NVIM
  echo nvim_get_chan_info(v:parent)
endif
</pre>
		Note the contents of $NVIM may change in the future.
</div>
<div class="old-help-para">v:searchforward			<a name="v%3Asearchforward"></a><span class="help-tag-right">v:searchforward</span> <a name="searchforward-variable"></a><span class="help-tag">searchforward-variable</span>
		Search direction:  1 after a forward search, 0 after a
		backward search.  It is reset to forward when directly setting
		the last search pattern, see <a href="change.html#quote%2F">quote/</a>.
		Note that the value is restored when returning from a
		function. <a href="userfunc.html#function-search-undo">function-search-undo</a>.
		Read-write.
</div>
<div class="old-help-para">					<a name="v%3Ashell_error"></a><span class="help-tag-right">v:shell_error</span> <a name="shell_error-variable"></a><span class="help-tag">shell_error-variable</span>
v:shell_error	Result of the last shell command.  When non-zero, the last
		shell command had an error.  When zero, there was no problem.
		This only works when the shell returns the error code to Vim.
		The value -1 is often used when the command could not be
		executed.  Read-only.
		Example:<pre>:!mv foo bar
:if v:shell_error
:  echo 'could not rename "foo" to "bar"!'
:endif
</pre>
					<a name="v%3Astatusmsg"></a><span class="help-tag-right">v:statusmsg</span> <a name="statusmsg-variable"></a><span class="help-tag">statusmsg-variable</span>
v:statusmsg	Last given status message.
		Modifiable (can be set).
</div>
<div class="old-help-para">					<a name="v%3Astderr"></a><span class="help-tag-right">v:stderr</span> <a name="stderr-variable"></a><span class="help-tag">stderr-variable</span>
v:stderr	<a href="channel.html#channel-id">channel-id</a> corresponding to stderr. The value is always 2;
		use this variable to make your code more descriptive.
		Unlike stdin and stdout (see <a href="builtin.html#stdioopen()">stdioopen()</a>), stderr is always
		open for writing. Example:<pre>:call chansend(v:stderr, "error: toaster empty\n")
</pre>
					<a name="v%3Aswapname"></a><span class="help-tag-right">v:swapname</span> <a name="swapname-variable"></a><span class="help-tag">swapname-variable</span>
v:swapname	Only valid when executing <a href="autocmd.html#SwapExists">SwapExists</a> autocommands: Name of
		the swap file found.  Read-only.
</div>
<div class="old-help-para">					<a name="v%3Aswapchoice"></a><span class="help-tag-right">v:swapchoice</span> <a name="swapchoice-variable"></a><span class="help-tag">swapchoice-variable</span>
v:swapchoice	<a href="autocmd.html#SwapExists">SwapExists</a> autocommands can set this to the selected choice
		for handling an existing swap file:
	Open read-only
	Edit anyway
	Recover
	Delete swapfile
	Quit
	Abort
		The value should be a single-character string.  An empty value
		results in the user being asked, as would happen when there is
		no SwapExists autocommand.  The default is empty.
</div>
<div class="old-help-para">					<a name="v%3Aswapcommand"></a><span class="help-tag-right">v:swapcommand</span> <a name="swapcommand-variable"></a><span class="help-tag">swapcommand-variable</span>
v:swapcommand	Normal mode command to be executed after a file has been
		opened.  Can be used for a <a href="autocmd.html#SwapExists">SwapExists</a> autocommand to have
		another Vim open the file and jump to the right place.  For
		example, when jumping to a tag the value is ":tag tagname\r".
		For ":edit +cmd file" the value is ":cmd\r".
</div>
<div class="old-help-para">				<a name="v%3At_TYPE"></a><span class="help-tag-right">v:t_TYPE</span> <a name="v%3At_bool"></a><span class="help-tag">v:t_bool</span> <a name="t_bool-variable"></a><span class="help-tag">t_bool-variable</span>
v:t_bool	Value of <a href="eval.html#Boolean">Boolean</a> type.  Read-only.  See: <a href="builtin.html#type()">type()</a>
					<a name="v%3At_dict"></a><span class="help-tag-right">v:t_dict</span> <a name="t_dict-variable"></a><span class="help-tag">t_dict-variable</span>
v:t_dict	Value of <a href="eval.html#Dictionary">Dictionary</a> type.  Read-only.  See: <a href="builtin.html#type()">type()</a>
					<a name="v%3At_float"></a><span class="help-tag-right">v:t_float</span> <a name="t_float-variable"></a><span class="help-tag">t_float-variable</span>
v:t_float	Value of <a href="eval.html#Float">Float</a> type.  Read-only.  See: <a href="builtin.html#type()">type()</a>
					<a name="v%3At_func"></a><span class="help-tag-right">v:t_func</span> <a name="t_func-variable"></a><span class="help-tag">t_func-variable</span>
v:t_func	Value of <a href="eval.html#Funcref">Funcref</a> type.  Read-only.  See: <a href="builtin.html#type()">type()</a>
					<a name="v%3At_list"></a><span class="help-tag-right">v:t_list</span> <a name="t_list-variable"></a><span class="help-tag">t_list-variable</span>
v:t_list	Value of <a href="eval.html#List">List</a> type.  Read-only.  See: <a href="builtin.html#type()">type()</a>
					<a name="v%3At_number"></a><span class="help-tag-right">v:t_number</span> <a name="t_number-variable"></a><span class="help-tag">t_number-variable</span>
v:t_number	Value of <a href="eval.html#Number">Number</a> type.  Read-only.  See: <a href="builtin.html#type()">type()</a>
					<a name="v%3At_string"></a><span class="help-tag-right">v:t_string</span> <a name="t_string-variable"></a><span class="help-tag">t_string-variable</span>
v:t_string	Value of <a href="eval.html#String">String</a> type.  Read-only.  See: <a href="builtin.html#type()">type()</a>
					<a name="v%3At_blob"></a><span class="help-tag-right">v:t_blob</span> <a name="t_blob-variable"></a><span class="help-tag">t_blob-variable</span>
v:t_blob	Value of <a href="eval.html#Blob">Blob</a> type.  Read-only.  See: <a href="builtin.html#type()">type()</a>
</div>
<div class="old-help-para">				<a name="v%3Atermresponse"></a><span class="help-tag-right">v:termresponse</span> <a name="termresponse-variable"></a><span class="help-tag">termresponse-variable</span>
v:termresponse	The escape sequence returned by the terminal for the DA
		(request primary device attributes) control sequence.  It is
		set when Vim receives an escape sequence that starts with ESC
		[ or CSI and ends in a, with only digits, and in
		between.
		When this option is set, the TermResponse autocommand event is
		fired, so that you can react to the response from the
		terminal.
		The response from a new xterm is: "&lt;Esc&gt;[ Pp ; Pv ; Pc c".  Pp
		is the terminal type: 0 for vt100 and 1 for vt220.  Pv is the
		patch level (since this was introduced in patch 95, it's
		always 95 or bigger).  Pc is always zero.
</div>
<div class="old-help-para">					<a name="v%3Atesting"></a><span class="help-tag-right">v:testing</span> <a name="testing-variable"></a><span class="help-tag">testing-variable</span>
v:testing	Must be set before using <code>test_garbagecollect_now()</code>.
</div>
<div class="old-help-para">				<a name="v%3Athis_session"></a><span class="help-tag-right">v:this_session</span> <a name="this_session-variable"></a><span class="help-tag">this_session-variable</span>
v:this_session	Full filename of the last loaded or saved session file.
		Empty when no session file has been saved.  See <a href="starting.html#%3Amksession">:mksession</a>.
		Modifiable (can be set).
</div>
<div class="old-help-para">					<a name="v%3Athrowpoint"></a><span class="help-tag-right">v:throwpoint</span> <a name="throwpoint-variable"></a><span class="help-tag">throwpoint-variable</span>
v:throwpoint	The point where the exception most recently caught and not
		finished was thrown.  Not set when commands are typed.  See
		also <a href="eval.html#v%3Aexception">v:exception</a> and <a href="eval.html#throw-variables">throw-variables</a>.
		Example:<pre>:try
:  throw "oops"
:catch /.*/
:  echo "Exception from" v:throwpoint
:endtry
</pre>
		Output: "Exception from test.vim, line 2"
</div>
<div class="old-help-para">					<a name="v%3Atrue"></a><span class="help-tag-right">v:true</span> <a name="true-variable"></a><span class="help-tag">true-variable</span>
v:true		Special value used to put "true" in JSON and msgpack.  See
		<a href="builtin.html#json_encode()">json_encode()</a>.  This value is converted to "v:true" when used
		as a String (e.g. in <a href="eval.html#expr5">expr5</a> with string concatenation
		operator) and to one when used as a Number (e.g. in <a href="eval.html#expr5">expr5</a> or
		<a href="eval.html#expr7">expr7</a> when used with numeric operators). Read-only.
</div>
<div class="old-help-para">						<a name="v%3Aval"></a><span class="help-tag-right">v:val</span> <a name="val-variable"></a><span class="help-tag">val-variable</span>
v:val		Value of the current item of a <a href="eval.html#List">List</a> or <a href="eval.html#Dictionary">Dictionary</a>.  Only
		valid while evaluating the expression used with <a href="builtin.html#map()">map()</a> and
		<a href="builtin.html#filter()">filter()</a>.  Read-only.
</div>
<div class="old-help-para">					<a name="v%3Aversion"></a><span class="help-tag-right">v:version</span> <a name="version-variable"></a><span class="help-tag">version-variable</span>
v:version	Vim version number: major version times 100 plus minor
		version.  Vim 5.0 is 500, Vim 5.1 is 501.
		Read-only.
		Use <a href="builtin.html#has()">has()</a> to check the Nvim (not Vim) version:<pre>:if has("nvim-0.2.1")
</pre>
</div>
<div class="old-help-para">				<a name="v%3Avim_did_enter"></a><span class="help-tag-right">v:vim_did_enter</span> <a name="vim_did_enter-variable"></a><span class="help-tag">vim_did_enter-variable</span>
v:vim_did_enter	0 during startup, 1 just before <a href="autocmd.html#VimEnter">VimEnter</a>.
		Read-only.
</div>
<div class="old-help-para">					<a name="v%3Awarningmsg"></a><span class="help-tag-right">v:warningmsg</span> <a name="warningmsg-variable"></a><span class="help-tag">warningmsg-variable</span>
v:warningmsg	Last given warning message.
		Modifiable (can be set).
</div>
<div class="old-help-para">					<a name="v%3Awindowid"></a><span class="help-tag-right">v:windowid</span> <a name="windowid-variable"></a><span class="help-tag">windowid-variable</span>
v:windowid	Application-specific window "handle" which may be set by any
		attached UI. Defaults to zero.
		Note: For Nvim <a href="windows.html#windows">windows</a> use <a href="builtin.html#winnr()">winnr()</a> or <a href="builtin.html#win_getid()">win_getid()</a>, see
		<a href="windows.html#window-ID">window-ID</a>.
</div>
<a name="_-4.-builtin-functions-"></a><h2 class="help-heading">4. Builtin Functions<span class="help-heading-tags">				<a name="vim-function"></a><span class="help-tag">vim-function</span> <a name="functions"></a><span class="help-tag">functions</span></span></h2>
<div class="old-help-para">The Vimscript subsystem (referred to as "eval" internally) provides builtin
functions.  Scripts can also define <a href="eval.html#user-function">user-function</a>s.
</div>
<div class="old-help-para">See <a href="usr_41.html#function-list">function-list</a> to browse functions by topic.
</div>
<div class="old-help-para">The alphabetic list of all builtin functions and details are in a separate
help file: <a href="builtin.html#builtin-functions">builtin-functions</a>.
</div>
<a name="_-5.-defining-functions-"></a><h2 class="help-heading">5. Defining functions<span class="help-heading-tags">					<a name="user-function"></a><span class="help-tag">user-function</span></h2>
<div class="old-help-para">New functions can be defined.  These can be called just like builtin
functions.  The function takes arguments, executes a sequence of Ex commands
and can return a value.
</div>
<div class="old-help-para">You can find most information about defining functions in <a href="userfunc.html#userfunc.txt">userfunc.txt</a>.
</div>
<a name="_-6.-curly-braces-names-"></a><h2 class="help-heading">6. Curly braces names<span class="help-heading-tags">					<a name="curly-braces-names"></a><span class="help-tag">curly-braces-names</span></h2>
<div class="old-help-para">In most places where you can use a variable, you can use a "curly braces name"
variable.  This is a regular variable name with one or more expressions
wrapped in braces {} like this:<pre>my_{adjective}_variable
</pre>
When Vim encounters this, it evaluates the expression inside the braces, puts
that in place of the expression, and re-interprets the whole as a variable
name.  So in the above example, if the variable "adjective" was set to
"noisy", then the reference would be to "my_noisy_variable", whereas if
"adjective" was set to "quiet", then it would be to "my_quiet_variable".
</div>
<div class="old-help-para">One application for this is to create a set of variables governed by an option
value.  For example, the statement<pre>echo my_{&amp;background}_message
</pre>
would output the contents of "my_dark_message" or "my_light_message" depending
on the current value of <a href="options.html#'background'">'background'</a>.
</div>
<div class="old-help-para">You can use multiple brace pairs:<pre>echo my_{adverb}_{adjective}_message
</pre>
..or even nest them:<pre>echo my_{ad{end_of_word}}_message
</pre>
where "end_of_word" is either "verb" or "jective".
</div>
<div class="old-help-para">However, the expression inside the braces must evaluate to a valid single
variable name, e.g. this is invalid:<pre>:let foo='a + b'
:echo c{foo}d
</pre>
.. since the result of expansion is "ca + bd", which is not a variable name.
</div>
<div class="old-help-para">						<a name="curly-braces-function-names"></a><span class="help-tag-right">curly-braces-function-names</span>
You can call and define functions by an evaluated name in a similar way.
Example:<pre>:let func_end='whizz'
:call my_func_{func_end}(parameter)
</pre>
This would call the function "my_func_whizz(parameter)".
</div>
<div class="old-help-para">This does NOT work:<pre>:let i = 3
:let @{i} = ''  " error
:echo @{i}      " error
</pre>
==============================================================================
7. Commands						<a name="expression-commands"></a><span class="help-tag-right">expression-commands</span>
</div>
<div class="old-help-para">:let <code>{var-name}</code> = <code>{expr1}</code>				<a name="%3Alet"></a><span class="help-tag-right">:let</span> <a name="E18"></a><span class="help-tag">E18</span>
			Set internal variable <code>{var-name}</code> to the result of the
			expression <code>{expr1}</code>.  The variable will get the type
			from the <code>{expr}</code>.  If <code>{var-name}</code> didn't exist yet, it
			is created.
</div>
<div class="old-help-para">:let <code>{var-name}</code>[<code>{idx}</code>] = <code>{expr1}</code>			<a name="E689"></a><span class="help-tag-right">E689</span>
			Set a list item to the result of the expression
			<code>{expr1}</code>.  <code>{var-name}</code> must refer to a list and <code>{idx}</code>
			must be a valid index in that list.  For nested list
			the index can be repeated.
			This cannot be used to add an item to a <a href="eval.html#List">List</a>.
			This cannot be used to set a byte in a String.  You
			can do that like this:<pre>:let var = var[0:2] .. 'X' .. var[4:]
</pre>
			When <code>{var-name}</code> is a <a href="eval.html#Blob">Blob</a> then <code>{idx}</code> can be the
			length of the blob, in which case one byte is
			appended.
</div>
<div class="old-help-para">							<a name="E711"></a><span class="help-tag-right">E711</span> <a name="E719"></a><span class="help-tag">E719</span>
:let <code>{var-name}</code>[<code>{idx1}</code>:<code>{idx2}</code>] = <code>{expr1}</code>		<a name="E708"></a><span class="help-tag-right">E708</span> <a name="E709"></a><span class="help-tag">E709</span> <a name="E710"></a><span class="help-tag">E710</span>
			Set a sequence of items in a <a href="eval.html#List">List</a> to the result of
			the expression <code>{expr1}</code>, which must be a list with the
			correct number of items.
			<code>{idx1}</code> can be omitted, zero is used instead.
			<code>{idx2}</code> can be omitted, meaning the end of the list.
			When the selected range of items is partly past the
			end of the list, items will be added.
</div>
<div class="old-help-para">			<a name="%3Alet%2B%3D"></a><span class="help-tag-right">:let+=</span> <a name="%3Alet-%3D"></a><span class="help-tag">:let-=</span> <a name="%3Aletstar%3D"></a><span class="help-tag">:letstar=</span>
			<a name="%3Alet%2F%3D"></a><span class="help-tag-right">:let/=</span> <a name="%3Alet%25%3D"></a><span class="help-tag">:let%=</span> <a name="%3Alet.%3D"></a><span class="help-tag">:let.=</span> <a name="%3Alet..%3D"></a><span class="help-tag">:let..=</span> <a name="E734"></a><span class="help-tag">E734</span>
:let <code>{var}</code> += <code>{expr1}</code>	Like ":let <code>{var}</code> = <code>{var}</code> + <code>{expr1}</code>".
:let <code>{var}</code> -= <code>{expr1}</code>	Like ":let <code>{var}</code> = <code>{var}</code> - <code>{expr1}</code>".
:let <code>{var}</code>= <code>{expr1}</code>	Like ":let <code>{var}</code> = <code>{var}</code> * <code>{expr1}</code>".
:let <code>{var}</code> /= <code>{expr1}</code>	Like ":let <code>{var}</code> = <code>{var}</code> / <code>{expr1}</code>".
:let <code>{var}</code> %= <code>{expr1}</code>	Like ":let <code>{var}</code> = <code>{var}</code> % <code>{expr1}</code>".
:let <code>{var}</code> .= <code>{expr1}</code>	Like ":let <code>{var}</code> = <code>{var}</code> . <code>{expr1}</code>".
:let <code>{var}</code> ..= <code>{expr1}</code>	Like ":let <code>{var}</code> = <code>{var}</code> .. <code>{expr1}</code>".
			These fail if <code>{var}</code> was not set yet and when the type
			of <code>{var}</code> and <code>{expr1}</code> don't fit the operator.
</div>
<div class="old-help-para">:let $<code>{env-name}</code> = <code>{expr1}</code>			<a name="%3Alet-environment"></a><span class="help-tag-right">:let-environment</span> <a name="%3Alet-%24"></a><span class="help-tag">:let-$</span>
			Set environment variable <code>{env-name}</code> to the result of
			the expression <code>{expr1}</code>.  The type is always String.
:let $<code>{env-name}</code> .= <code>{expr1}</code>
			Append <code>{expr1}</code> to the environment variable <code>{env-name}</code>.
			If the environment variable didn't exist yet this
			works like "=".
</div>
<div class="old-help-para">:let @<code>{reg-name}</code> = <code>{expr1}</code>			<a name="%3Alet-register"></a><span class="help-tag-right">:let-register</span> <a name="%3Alet-%40"></a><span class="help-tag">:let-@</span>
			Write the result of the expression <code>{expr1}</code> in register
			<code>{reg-name}</code>.  <code>{reg-name}</code> must be a single letter, and
			must be the name of a writable register (see
			<a href="change.html#registers">registers</a>).  "@@" can be used for the unnamed
			register, "@/" for the search pattern.
			If the result of <code>{expr1}</code> ends in a &lt;CR&gt; or &lt;NL&gt;, the
			register will be linewise, otherwise it will be set to
			charwise.
			This can be used to clear the last search pattern:<pre>:let @/ = ""
</pre>
			This is different from searching for an empty string,
			that would match everywhere.
</div>
<div class="old-help-para">:let @<code>{reg-name}</code> .= <code>{expr1}</code>
			Append <code>{expr1}</code> to register <code>{reg-name}</code>.  If the
			register was empty it's like setting it to <code>{expr1}</code>.
</div>
<div class="old-help-para">:let &amp;<code>{option-name}</code> = <code>{expr1}</code>			<a name="%3Alet-option"></a><span class="help-tag-right">:let-option</span> <a name="%3Alet-%26"></a><span class="help-tag">:let-&amp;</span>
			Set option <code>{option-name}</code> to the result of the
			expression <code>{expr1}</code>.  A String or Number value is
			always converted to the type of the option.
			For an option local to a window or buffer the effect
			is just like using the <a href="options.html#%3Aset">:set</a> command: both the local
			value and the global value are changed.
			Example:<pre>:let &amp;path = &amp;path .. ',/usr/local/include'
</pre>
:let &amp;<code>{option-name}</code> .= <code>{expr1}</code>
			For a string option: Append <code>{expr1}</code> to the value.
			Does not insert a comma like <a href="options.html#%3Aset%2B%3D">:set+=</a>.
</div>
<div class="old-help-para">:let &amp;<code>{option-name}</code> += <code>{expr1}</code>
:let &amp;<code>{option-name}</code> -= <code>{expr1}</code>
			For a number or boolean option: Add or subtract
			<code>{expr1}</code>.
</div>
<div class="old-help-para">:let &amp;l:<code>{option-name}</code> = <code>{expr1}</code>
:let &amp;l:<code>{option-name}</code> .= <code>{expr1}</code>
:let &amp;l:<code>{option-name}</code> += <code>{expr1}</code>
:let &amp;l:<code>{option-name}</code> -= <code>{expr1}</code>
			Like above, but only set the local value of an option
			(if there is one).  Works like <a href="options.html#%3Asetlocal">:setlocal</a>.
</div>
<div class="old-help-para">:let &amp;g:<code>{option-name}</code> = <code>{expr1}</code>
:let &amp;g:<code>{option-name}</code> .= <code>{expr1}</code>
:let &amp;g:<code>{option-name}</code> += <code>{expr1}</code>
:let &amp;g:<code>{option-name}</code> -= <code>{expr1}</code>
			Like above, but only set the global value of an option
			(if there is one).  Works like <a href="options.html#%3Asetglobal">:setglobal</a>.
</div>
<div class="old-help-para">:let [<code>{name1}</code>, <code>{name2}</code>, ...] = <code>{expr1}</code>		<a name="%3Alet-unpack"></a><span class="help-tag-right">:let-unpack</span> <a name="E687"></a><span class="help-tag">E687</span> <a name="E688"></a><span class="help-tag">E688</span>
			<code>{expr1}</code> must evaluate to a <a href="eval.html#List">List</a>.  The first item in
			the list is assigned to <code>{name1}</code>, the second item to
			<code>{name2}</code>, etc.
			The number of names must match the number of items in
			the <a href="eval.html#List">List</a>.
			Each name can be one of the items of the ":let"
			command as mentioned above.
			Example:<pre>:let [s, item] = GetItem(s)
</pre>
			Detail: <code>{expr1}</code> is evaluated first, then the
			assignments are done in sequence.  This matters if
			<code>{name2}</code> depends on <code>{name1}</code>.  Example:<pre>:let x = [0, 1]
:let i = 0
:let [i, x[i]] = [1, 2]
:echo x
</pre>
			The result is [0, 2].
</div>
<div class="old-help-para">:let [<code>{name1}</code>, <code>{name2}</code>, ...] .= <code>{expr1}</code>
:let [<code>{name1}</code>, <code>{name2}</code>, ...] += <code>{expr1}</code>
:let [<code>{name1}</code>, <code>{name2}</code>, ...] -= <code>{expr1}</code>
			Like above, but append/add/subtract the value for each
			<a href="eval.html#List">List</a> item.
</div>
<div class="old-help-para">:let [<code>{name}</code>, ..., ; <code>{lastname}</code>] = <code>{expr1}</code>				<a name="E452"></a><span class="help-tag-right">E452</span>
			Like <a href="eval.html#%3Alet-unpack">:let-unpack</a> above, but the <a href="eval.html#List">List</a> may have more
			items than there are names.  A list of the remaining
			items is assigned to <code>{lastname}</code>.  If there are no
			remaining items <code>{lastname}</code> is set to an empty list.
			Example:<pre>:let [a, b; rest] = ["aval", "bval", 3, 4]
</pre>
:let [<code>{name}</code>, ..., ; <code>{lastname}</code>] .= <code>{expr1}</code>
:let [<code>{name}</code>, ..., ; <code>{lastname}</code>] += <code>{expr1}</code>
:let [<code>{name}</code>, ..., ; <code>{lastname}</code>] -= <code>{expr1}</code>
			Like above, but append/add/subtract the value for each
			<a href="eval.html#List">List</a> item.
</div>
<div class="old-help-para">						<a name="%3Alet%3D%3C%3C"></a><span class="help-tag-right">:let=&lt;&lt;</span> <a name="%3Alet-heredoc"></a><span class="help-tag">:let-heredoc</span>
						<a name="E990"></a><span class="help-tag-right">E990</span> <a name="E991"></a><span class="help-tag">E991</span> <a name="E172"></a><span class="help-tag">E172</span> <a name="E221"></a><span class="help-tag">E221</span>
:let <code>{var-name}</code> =&lt;&lt; [trim] <code>{endmarker}</code>
text...
text...
<code>{endmarker}</code>
			Set internal variable <code>{var-name}</code> to a <a href="eval.html#List">List</a>
			containing the lines of text bounded by the string
			<code>{endmarker}</code>. The lines of text is used as a
			<a href="eval.html#literal-string">literal-string</a>.
			<code>{endmarker}</code> must not contain white space.
			<code>{endmarker}</code> cannot start with a lower case character.
			The last line should end only with the <code>{endmarker}</code>
			string without any other character.  Watch out for
			white space after <code>{endmarker}</code>!
</div>
<div class="old-help-para">			Without "trim" any white space characters in the lines
			of text are preserved.  If "trim" is specified before
			<code>{endmarker}</code>, then indentation is stripped so you can
			do:<pre>let text =&lt;&lt; trim END
   if ok
     echo 'done'
   endif
END
</pre>
			Results in: <code>["if ok", "  echo 'done'", "endif"]</code>
			The marker must line up with "let" and the indentation
			of the first line is removed from all the text lines.
			Specifically: all the leading indentation exactly
			matching the leading indentation of the first
			non-empty text line is stripped from the input lines.
			All leading indentation exactly matching the leading
			indentation before <code>let</code> is stripped from the line
			containing <code>{endmarker}</code>.  Note that the difference
			between space and tab matters here.
</div>
<div class="old-help-para">			If <code>{var-name}</code> didn't exist yet, it is created.
			Cannot be followed by another command, but can be
			followed by a comment.
</div>
<div class="old-help-para">			To avoid line continuation to be applied, consider
			adding to <a href="options.html#'cpoptions'">'cpoptions'</a>:<pre>set cpo+=C
let var =&lt;&lt; END
   \ leading backslash
END
set cpo-=C
</pre>
			Examples:<pre>let var1 =&lt;&lt; END
Sample text 1
    Sample text 2
Sample text 3
END
let data =&lt;&lt; trim DATA
        1 2 3 4
        5 6 7 8
DATA
</pre>
								<a name="E121"></a><span class="help-tag-right">E121</span>
:let <code>{var-name}</code>	..	List the value of variable <code>{var-name}</code>.  Multiple
			variable names may be given.  Special names recognized
			here:				<a name="E738"></a><span class="help-tag-right">E738</span>
			  g:	global variables
			  b:	local buffer variables
			  w:	local window variables
			  t:	local tab page variables
			  s:	script-local variables
			  l:	local function variables
			  v:	Vim variables.
</div>
<div class="old-help-para">:let			List the values of all variables.  The type of the
			variable is indicated before the value:
			    &lt;nothing&gt;	String
				#	Number
				*	Funcref
</div>
<div class="old-help-para">:unl[et][!] <code>{name}</code> ...				<a name="%3Aunlet"></a><span class="help-tag-right">:unlet</span> <a name="%3Aunl"></a><span class="help-tag">:unl</span> <a name="E108"></a><span class="help-tag">E108</span> <a name="E795"></a><span class="help-tag">E795</span>
			Remove the internal variable <code>{name}</code>.  Several variable
			names can be given, they are all removed.  The name
			may also be a <a href="eval.html#List">List</a> or <a href="eval.html#Dictionary">Dictionary</a> item.
			With [!] no error message is given for non-existing
			variables.
			One or more items from a <a href="eval.html#List">List</a> can be removed:<pre>:unlet list[3]          " remove fourth item
:unlet list[3:]   " remove fourth item to last
</pre>
			One item from a <a href="eval.html#Dictionary">Dictionary</a> can be removed at a time:<pre>:unlet dict['two']
:unlet dict.two
</pre>
			This is especially useful to clean up used global
			variables and script-local variables (these are not
			deleted when the script ends).  Function-local
			variables are automatically deleted when the function
			ends.
</div>
<div class="old-help-para">:unl[et] $<code>{env-name}</code> ...			<a name="%3Aunlet-environment"></a><span class="help-tag-right">:unlet-environment</span> <a name="%3Aunlet-%24"></a><span class="help-tag">:unlet-$</span>
			Remove environment variable <code>{env-name}</code>.
			Can mix <code>{name}</code> and $<code>{env-name}</code> in one :unlet command.
			No error message is given for a non-existing
			variable, also without !.
			If the system does not support deleting an environment
			variable, it is made empty.
</div>
<div class="old-help-para">						<a name="%3Acons"></a><span class="help-tag-right">:cons</span> <a name="%3Aconst"></a><span class="help-tag">:const</span>
:cons[t] <code>{var-name}</code> = <code>{expr1}</code>
:cons[t] [<code>{name1}</code>, <code>{name2}</code>, ...] = <code>{expr1}</code>
:cons[t] [<code>{name}</code>, ..., ; <code>{lastname}</code>] = <code>{expr1}</code>
			Similar to <a href="eval.html#%3Alet">:let</a>, but additionally lock the variable
			after setting the value.  This is the same as locking
			the variable with <a href="eval.html#%3Alockvar">:lockvar</a> just after <a href="eval.html#%3Alet">:let</a>, thus:<pre>:const x = 1
</pre>
			is equivalent to:<pre>:let x = 1
:lockvar! x
</pre>
			This is useful if you want to make sure the variable
			is not modified.  If the value is a List or Dictionary
			literal then the items also cannot be changed:<pre>const ll = [1, 2, 3]
let ll[1] = 5  " Error!
</pre>
			Nested references are not locked:<pre>let lvar = ['a']
const lconst = [0, lvar]
let lconst[0] = 2  " Error!
let lconst[1][0] = 'b'  " OK
</pre>
							<a name="E995"></a><span class="help-tag-right">E995</span>
			<a href="eval.html#%3Aconst">:const</a> does not allow to for changing a variable.<pre>:let x = 1
:const x = 2  " Error!
</pre>
							<a name="E996"></a><span class="help-tag-right">E996</span>
			Note that environment variables, option values and
			register values cannot be used here, since they cannot
			be locked.
</div>
<div class="old-help-para">:cons[t]
:cons[t] <code>{var-name}</code>
			If no argument is given or only <code>{var-name}</code> is given,
			the behavior is the same as <a href="eval.html#%3Alet">:let</a>.
</div>
<div class="old-help-para">:lockv[ar][!] [depth] <code>{name}</code> ...			<a name="%3Alockvar"></a><span class="help-tag-right">:lockvar</span> <a name="%3Alockv"></a><span class="help-tag">:lockv</span>
			Lock the internal variable <code>{name}</code>.  Locking means that
			it can no longer be changed (until it is unlocked).
			A locked variable can be deleted:<pre>:lockvar v
:let v = 'asdf'          " fails!
:unlet v          " works
</pre>
							<a name="E741"></a><span class="help-tag-right">E741</span> <a name="E940"></a><span class="help-tag">E940</span>
			If you try to change a locked variable you get an
			error message: "E741: Value is locked: <code>{name}</code>".
			If you try to lock or unlock a built-in variable you
			will get an error message "E940: Cannot lock or unlock
			variable <code>{name}</code>".
</div>
<div class="old-help-para">			[depth] is relevant when locking a <a href="eval.html#List">List</a> or
			<a href="eval.html#Dictionary">Dictionary</a>.  It specifies how deep the locking goes:
				1	Lock the <a href="eval.html#List">List</a> or <a href="eval.html#Dictionary">Dictionary</a> itself,
					cannot add or remove items, but can
					still change their values.
				2	Also lock the values, cannot change
					the items.  If an item is a <a href="eval.html#List">List</a> or
					<a href="eval.html#Dictionary">Dictionary</a>, cannot add or remove
					items, but can still change the
					values.
				3	Like 2 but for the <a href="eval.html#List">List</a> /
					<a href="eval.html#Dictionary">Dictionary</a> in the <a href="eval.html#List">List</a> /
					<a href="eval.html#Dictionary">Dictionary</a>, one level deeper.
			The default [depth] is 2, thus when <code>{name}</code> is a <a href="eval.html#List">List</a>
			or <a href="eval.html#Dictionary">Dictionary</a> the values cannot be changed.
								<a name="E743"></a><span class="help-tag-right">E743</span>
			For unlimited depth use [!] and omit [depth].
			However, there is a maximum depth of 100 to catch
			loops.
</div>
<div class="old-help-para">			Note that when two variables refer to the same <a href="eval.html#List">List</a>
			and you lock one of them, the <a href="eval.html#List">List</a> will also be
			locked when used through the other variable.
			Example:<pre>:let l = [0, 1, 2, 3]
:let cl = l
:lockvar l
:let cl[1] = 99                " won't work!
</pre>
			You may want to make a copy of a list to avoid this.
			See <a href="builtin.html#deepcopy()">deepcopy()</a>.
</div>
<div class="old-help-para">:unlo[ckvar][!] [depth] <code>{name}</code> ...			<a name="%3Aunlockvar"></a><span class="help-tag-right">:unlockvar</span> <a name="%3Aunlo"></a><span class="help-tag">:unlo</span>
			Unlock the internal variable <code>{name}</code>.  Does the
			opposite of <a href="eval.html#%3Alockvar">:lockvar</a>.
</div>
<div class="old-help-para">:if <code>{expr1}</code>			<a name="%3Aif"></a><span class="help-tag-right">:if</span> <a name="%3Aend"></a><span class="help-tag">:end</span> <a name="%3Aendif"></a><span class="help-tag">:endif</span> <a name="%3Aen"></a><span class="help-tag">:en</span> <a name="E171"></a><span class="help-tag">E171</span> <a name="E579"></a><span class="help-tag">E579</span> <a name="E580"></a><span class="help-tag">E580</span>
:en[dif]		Execute the commands until the next matching <code>:else</code>
			or <code>:endif</code> if <code>{expr1}</code> evaluates to non-zero.
			Although the short forms work, it is recommended to
			always use <code>:endif</code> to avoid confusion and to make
			auto-indenting work properly.
</div>
<div class="old-help-para">			From Vim version 4.5 until 5.0, every Ex command in
			between the <code>:if</code> and <code>:endif</code> is ignored.  These two
			commands were just to allow for future expansions in a
			backward compatible way.  Nesting was allowed.  Note
			that any <code>:else</code> or <code>:elseif</code> was ignored, the <code>else</code>
			part was not executed either.
</div>
<div class="old-help-para">			You can use this to remain compatible with older
			versions:<pre>:if version &gt;= 500
:  version-5-specific-commands
:endif
</pre>
			The commands still need to be parsed to find the
			<code>endif</code>.  Sometimes an older Vim has a problem with a
			new command.  For example, <code>:silent</code> is recognized as
			a <code>:substitute</code> command.  In that case <code>:execute</code> can
			avoid problems:<pre>:if version &gt;= 600
:  execute "silent 1,$delete"
:endif
</pre>
			NOTE: The <code>:append</code> and <code>:insert</code> commands don't work
			properly in between <code>:if</code> and <code>:endif</code>.
</div>
<div class="old-help-para">						<a name="%3Aelse"></a><span class="help-tag-right">:else</span> <a name="%3Ael"></a><span class="help-tag">:el</span> <a name="E581"></a><span class="help-tag">E581</span> <a name="E583"></a><span class="help-tag">E583</span>
:el[se]			Execute the commands until the next matching <code>:else</code>
			or <code>:endif</code> if they previously were not being
			executed.
</div>
<div class="old-help-para">					<a name="%3Aelseif"></a><span class="help-tag-right">:elseif</span> <a name="%3Aelsei"></a><span class="help-tag">:elsei</span> <a name="E582"></a><span class="help-tag">E582</span> <a name="E584"></a><span class="help-tag">E584</span>
:elsei[f] <code>{expr1}</code>	Short for <code>:else</code> <code>:if</code>, with the addition that there
			is no extra <code>:endif</code>.
</div>
<div class="old-help-para">:wh[ile] <code>{expr1}</code>			<a name="%3Awhile"></a><span class="help-tag-right">:while</span> <a name="%3Aendwhile"></a><span class="help-tag">:endwhile</span> <a name="%3Awh"></a><span class="help-tag">:wh</span> <a name="%3Aendw"></a><span class="help-tag">:endw</span>
						<a name="E170"></a><span class="help-tag-right">E170</span> <a name="E585"></a><span class="help-tag">E585</span> <a name="E588"></a><span class="help-tag">E588</span> <a name="E733"></a><span class="help-tag">E733</span>
:endw[hile]		Repeat the commands between <code>:while</code> and <code>:endwhile</code>,
			as long as <code>{expr1}</code> evaluates to non-zero.
			When an error is detected from a command inside the
			loop, execution continues after the <code>endwhile</code>.
			Example:<pre>:let lnum = 1
:while lnum &lt;= line("$")
   :call FixLine(lnum)
   :let lnum = lnum + 1
:endwhile
</pre>
			NOTE: The <code>:append</code> and <code>:insert</code> commands don't work
			properly inside a <code>:while</code> and <code>:for</code> loop.
</div>
<div class="old-help-para">:for <code>{var}</code> in <code>{object}</code>					<a name="%3Afor"></a><span class="help-tag-right">:for</span> <a name="E690"></a><span class="help-tag">E690</span> <a name="E732"></a><span class="help-tag">E732</span>
:endfo[r]						<a name="%3Aendfo"></a><span class="help-tag-right">:endfo</span> <a name="%3Aendfor"></a><span class="help-tag">:endfor</span>
			Repeat the commands between <code>:for</code> and <code>:endfor</code> for
			each item in <code>{object}</code>.  <code>{object}</code> can be a <a href="eval.html#List">List</a>,
			a <a href="eval.html#Blob">Blob</a> or a <a href="eval.html#String">String</a>.
</div>
<div class="old-help-para">			Variable <code>{var}</code> is set to the value of each item.
</div>
<div class="old-help-para">			When an error is detected for a command inside the
			loop, execution continues after the <code>endfor</code>.
			Changing <code>{object}</code> inside the loop affects what items
			are used.  Make a copy if this is unwanted:<pre>:for item in copy(mylist)
</pre>
			When <code>{object}</code> is a <a href="eval.html#List">List</a> and not making a copy, Vim
			stores a reference to the next item in the <a href="eval.html#List">List</a>
			before executing the commands with the current item.
			Thus the current item can be removed without effect.
			Removing any later item means it will not be found.
			Thus the following example works (an inefficient way
			to make a <a href="eval.html#List">List</a> empty):<pre>for item in mylist
   call remove(mylist, 0)
endfor
</pre>
			Note that reordering the <a href="eval.html#List">List</a> (e.g., with sort() or
			reverse()) may have unexpected effects.
</div>
<div class="old-help-para">			When <code>{object}</code> is a <a href="eval.html#Blob">Blob</a>, Vim always makes a copy to
			iterate over.  Unlike with <a href="eval.html#List">List</a>, modifying the
			<a href="eval.html#Blob">Blob</a> does not affect the iteration.
</div>
<div class="old-help-para">			When <code>{object}</code> is a <a href="eval.html#String">String</a> each item is a string with
			one character, plus any combining characters.
</div>
<div class="old-help-para">:for [<code>{var1}</code>, <code>{var2}</code>, ...] in <code>{listlist}</code>
:endfo[r]
			Like <code>:for</code> above, but each item in <code>{listlist}</code> must be
			a list, of which each item is assigned to <code>{var1}</code>,
			<code>{var2}</code>, etc.  Example:<pre>:for [lnum, col] in [[1, 3], [2, 5], [3, 8]]
   :echo getline(lnum)[col]
:endfor
</pre>
						<a name="%3Acontinue"></a><span class="help-tag-right">:continue</span> <a name="%3Acon"></a><span class="help-tag">:con</span> <a name="E586"></a><span class="help-tag">E586</span>
:con[tinue]		When used inside a <code>:while</code> or <code>:for</code> loop, jumps back
			to the start of the loop.
</div>
<div class="old-help-para">			If it is used after a <code>:try</code> inside the loop but
			before the matching <code>:finally</code> (if present), the
			commands following the <code>:finally</code> up to the matching
			<code>:endtry</code> are executed first.  This process applies to
			all nested <code>:try</code>s inside the loop.  The outermost
			<code>:endtry</code> then jumps back to the start of the loop.
</div>
<div class="old-help-para">						<a name="%3Abreak"></a><span class="help-tag-right">:break</span> <a name="%3Abrea"></a><span class="help-tag">:brea</span> <a name="E587"></a><span class="help-tag">E587</span>
:brea[k]		When used inside a <code>:while</code> or <code>:for</code> loop, skips to
			the command after the matching <code>:endwhile</code> or
			<code>:endfor</code>.
			If it is used after a <code>:try</code> inside the loop but
			before the matching <code>:finally</code> (if present), the
			commands following the <code>:finally</code> up to the matching
			<code>:endtry</code> are executed first.  This process applies to
			all nested <code>:try</code>s inside the loop.  The outermost
			<code>:endtry</code> then jumps to the command after the loop.
</div>
<div class="old-help-para">:try				<a name="%3Atry"></a><span class="help-tag-right">:try</span> <a name="%3Aendt"></a><span class="help-tag">:endt</span> <a name="%3Aendtry"></a><span class="help-tag">:endtry</span> <a name="E600"></a><span class="help-tag">E600</span> <a name="E601"></a><span class="help-tag">E601</span> <a name="E602"></a><span class="help-tag">E602</span>
:endt[ry]		Change the error handling for the commands between
			<code>:try</code> and <code>:endtry</code> including everything being
			executed across <code>:source</code> commands, function calls,
			or autocommand invocations.
</div>
<div class="old-help-para">			When an error or interrupt is detected and there is
			a <code>:finally</code> command following, execution continues
			after the <code>:finally</code>.  Otherwise, or when the
			<code>:endtry</code> is reached thereafter, the next
			(dynamically) surrounding <code>:try</code> is checked for
			a corresponding <code>:finally</code> etc.  Then the script
			processing is terminated.  Whether a function
			definition has an "abort" argument does not matter.
			Example:<pre>try | call Unknown() | finally | echomsg "cleanup" | endtry
echomsg "not reached"
</pre>
			Moreover, an error or interrupt (dynamically) inside
			<code>:try</code> and <code>:endtry</code> is converted to an exception.  It
			can be caught as if it were thrown by a <code>:throw</code>
			command (see <code>:catch</code>).  In this case, the script
			processing is not terminated.
</div>
<div class="old-help-para">			The value "Vim:Interrupt" is used for an interrupt
			exception.  An error in a Vim command is converted
			to a value of the form "Vim(<code>{command}</code>):<code>{errmsg}</code>",
			other errors are converted to a value of the form
			"Vim:<code>{errmsg}</code>".  <code>{command}</code> is the full command name,
			and <code>{errmsg}</code> is the message that is displayed if the
			error exception is not caught, always beginning with
			the error number.
			Examples:<pre>try | sleep 100 | catch /^Vim:Interrupt$/ | endtry
try | edit | catch /^Vim(edit):E\d\+/ | echo "error" | endtry
</pre>
					<a name="%3Acat"></a><span class="help-tag-right">:cat</span> <a name="%3Acatch"></a><span class="help-tag">:catch</span> <a name="E603"></a><span class="help-tag">E603</span> <a name="E604"></a><span class="help-tag">E604</span> <a name="E605"></a><span class="help-tag">E605</span>
:cat[ch] /<code>{pattern}</code>/	The following commands until the next <code>:catch</code>,
			<code>:finally</code>, or <code>:endtry</code> that belongs to the same
			<code>:try</code> as the <code>:catch</code> are executed when an exception
			matching <code>{pattern}</code> is being thrown and has not yet
			been caught by a previous <code>:catch</code>.  Otherwise, these
			commands are skipped.
			When <code>{pattern}</code> is omitted all errors are caught.
			Examples:<pre>:catch /^Vim:Interrupt$/         " catch interrupts (CTRL-C)
:catch /^Vim\%((\a\+)\)\=:E/         " catch all Vim errors
:catch /^Vim\%((\a\+)\)\=:/         " catch errors and interrupts
:catch /^Vim(write):/                 " catch all errors in :write
:catch /^Vim\%((\a\+)\)\=:E123:/ " catch error E123
:catch /my-exception/                 " catch user exception
:catch /.*/                         " catch everything
:catch                                 " same as /.*/
</pre>
			Another character can be used instead of / around the
			<code>{pattern}</code>, so long as it does not have a special
			meaning (e.g., or) and doesn't occur inside
			<code>{pattern}</code>.
			Information about the exception is available in
			<a href="eval.html#v%3Aexception">v:exception</a>.  Also see <a href="eval.html#throw-variables">throw-variables</a>.
			NOTE: It is not reliable to ":catch" the TEXT of
			an error message because it may vary in different
			locales.
</div>
<div class="old-help-para">					<a name="%3Afina"></a><span class="help-tag-right">:fina</span> <a name="%3Afinally"></a><span class="help-tag">:finally</span> <a name="E606"></a><span class="help-tag">E606</span> <a name="E607"></a><span class="help-tag">E607</span>
:fina[lly]		The following commands until the matching <code>:endtry</code>
			are executed whenever the part between the matching
			<code>:try</code> and the <code>:finally</code> is left:  either by falling
			through to the <code>:finally</code> or by a <code>:continue</code>,
			<code>:break</code>, <code>:finish</code>, or <code>:return</code>, or by an error or
			interrupt or exception (see <code>:throw</code>).
</div>
<div class="old-help-para">							<a name="%3Ath"></a><span class="help-tag-right">:th</span> <a name="%3Athrow"></a><span class="help-tag">:throw</span> <a name="E608"></a><span class="help-tag">E608</span>
:th[row] <code>{expr1}</code>	The <code>{expr1}</code> is evaluated and thrown as an exception.
			If the <code>:throw</code> is used after a <code>:try</code> but before the
			first corresponding <code>:catch</code>, commands are skipped
			until the first <code>:catch</code> matching <code>{expr1}</code> is reached.
			If there is no such <code>:catch</code> or if the <code>:throw</code> is
			used after a <code>:catch</code> but before the <code>:finally</code>, the
			commands following the <code>:finally</code> (if present) up to
			the matching <code>:endtry</code> are executed.  If the <code>:throw</code>
			is after the <code>:finally</code>, commands up to the <code>:endtry</code>
			are skipped.  At the <code>:endtry</code>, this process applies
			again for the next dynamically surrounding <code>:try</code>
			(which may be found in a calling function or sourcing
			script), until a matching <code>:catch</code> has been found.
			If the exception is not caught, the command processing
			is terminated.
			Example:<pre>:try | throw "oops" | catch /^oo/ | echo "caught" | endtry
</pre>
			Note that "catch" may need to be on a separate line
			for when an error causes the parsing to skip the whole
			line and not see the "|" that separates the commands.
</div>
<div class="old-help-para">							<a name="%3Aec"></a><span class="help-tag-right">:ec</span> <a name="%3Aecho"></a><span class="help-tag">:echo</span>
:ec[ho] <code>{expr1}</code> ..	Echoes each <code>{expr1}</code>, with a space in between.  The
			first <code>{expr1}</code> starts on a new line.
			Also see <a href="cmdline.html#%3Acomment">:comment</a>.
			Use "\n" to start a new line.  Use "\r" to move the
			cursor to the first column.
			Uses the highlighting set by the <code>:echohl</code> command.
			Cannot be followed by a comment.
			Example:<pre>:echo "the value of 'shell' is" &amp;shell
</pre>
							<a name="%3Aecho-redraw"></a><span class="help-tag-right">:echo-redraw</span>
			A later redraw may make the message disappear again.
			And since Vim mostly postpones redrawing until it's
			finished with a sequence of commands this happens
			quite often.  To avoid that a command from before the
			<code>:echo</code> causes a redraw afterwards (redraws are often
			postponed until you type something), force a redraw
			with the <code>:redraw</code> command.  Example:<pre>:new | redraw | echo "there is a new window"
</pre>
							<a name="%3Aecho-self-refer"></a><span class="help-tag-right">:echo-self-refer</span>
			When printing nested containers echo prints second
			occurrence of the self-referencing container using
			"[...@level]" (self-referencing <a href="eval.html#List">List</a>) or
			"<code>{...@level}</code>" (self-referencing <a href="eval.html#Dict">Dict</a>):<pre>:let l = []
:call add(l, l)
:let l2 = []
:call add(l2, [l2])
:echo l l2
</pre>
			echoes "[[...@0]] [[[...@0]]]". Echoing "[l]" will
			echo "[[[...@1]]]" because l first occurs at second
			level.
</div>
<div class="old-help-para">							<a name="%3Aechon"></a><span class="help-tag-right">:echon</span>
:echon <code>{expr1}</code> ..	Echoes each <code>{expr1}</code>, without anything added.  Also see
			<a href="cmdline.html#%3Acomment">:comment</a>.
			Uses the highlighting set by the <code>:echohl</code> command.
			Cannot be followed by a comment.
			Example:<pre>:echon "the value of 'shell' is " &amp;shell
</pre>
			Note the difference between using <code>:echo</code>, which is a
			Vim command, and <code>:!echo</code>, which is an external shell
			command:<pre>:!echo %                --&gt; filename
</pre>
			The arguments of ":!" are expanded, see <a href="cmdline.html#%3A_%25">:_%</a>.<pre>:!echo "%"                --&gt; filename or "filename"
</pre>
			Like the previous example.  Whether you see the double
			quotes or not depends on your <a href="options.html#'shell'">'shell'</a>.<pre>:echo %                        --&gt; nothing
</pre>
			The is an illegal character in an expression.<pre>:echo "%"                --&gt; %
</pre>
			This just echoes the character.<pre>:echo expand("%")        --&gt; filename
</pre>
			This calls the expand() function to expand the.
</div>
<div class="old-help-para">							<a name="%3Aechoh"></a><span class="help-tag-right">:echoh</span> <a name="%3Aechohl"></a><span class="help-tag">:echohl</span>
:echoh[l] <code>{name}</code>	Use the highlight group <code>{name}</code> for the following
			<code>:echo</code>, <code>:echon</code> and <code>:echomsg</code> commands.  Also used
			for the <code>input()</code> prompt.  Example:<pre>:echohl WarningMsg | echo "Don't panic!" | echohl None
</pre>
			Don't forget to set the group back to "None",
			otherwise all following echo's will be highlighted.
</div>
<div class="old-help-para">							<a name="%3Aechom"></a><span class="help-tag-right">:echom</span> <a name="%3Aechomsg"></a><span class="help-tag">:echomsg</span>
:echom[sg] <code>{expr1}</code> ..	Echo the expression(s) as a true message, saving the
			message in the <a href="message.html#message-history">message-history</a>.
			Spaces are placed between the arguments as with the
			<code>:echo</code> command.  But unprintable characters are
			displayed, not interpreted.
			The parsing works slightly different from <code>:echo</code>,
			more like <code>:execute</code>.  All the expressions are first
			evaluated and concatenated before echoing anything.
			If expressions does not evaluate to a Number or
			String, string() is used to turn it into a string.
			Uses the highlighting set by the <code>:echohl</code> command.
			Example:<pre>:echomsg "It's a Zizzer Zazzer Zuzz, as you can plainly see."
</pre>
			See <a href="eval.html#%3Aecho-redraw">:echo-redraw</a> to avoid the message disappearing
			when the screen is redrawn.
							<a name="%3Aechoe"></a><span class="help-tag-right">:echoe</span> <a name="%3Aechoerr"></a><span class="help-tag">:echoerr</span>
:echoe[rr] <code>{expr1}</code> ..	Echo the expression(s) as an error message, saving the
			message in the <a href="message.html#message-history">message-history</a>.  When used in a
			script or function the line number will be added.
			Spaces are placed between the arguments as with the
			<code>:echomsg</code> command.  When used inside a try conditional,
			the message is raised as an error exception instead
			(see <a href="eval.html#try-echoerr">try-echoerr</a>).
			Example:<pre>:echoerr "This script just failed!"
</pre>
			If you just want a highlighted message use <code>:echohl</code>.
			And to get a beep:<pre>:exe "normal \&lt;Esc&gt;"
</pre>
							<a name="%3Aeval"></a><span class="help-tag-right">:eval</span>
:eval <code>{expr}</code>		Evaluate <code>{expr}</code> and discard the result.  Example:<pre>:eval Getlist()-&gt;Filter()-&gt;append('$')
</pre>
			The expression is supposed to have a side effect,
			since the resulting value is not used.  In the example
			the <code>append()</code> call appends the List with text to the
			buffer.  This is similar to <code>:call</code> but works with any
			expression.
</div>
<div class="old-help-para">			The command can be shortened to <code>:ev</code> or <code>:eva</code>, but
			these are hard to recognize and therefore not to be
			used.
</div>
<div class="old-help-para">			The command cannot be followed by "|" and another
			command, since "|" is seen as part of the expression.
</div>
<div class="old-help-para">							<a name="%3Aexe"></a><span class="help-tag-right">:exe</span> <a name="%3Aexecute"></a><span class="help-tag">:execute</span>
:exe[cute] <code>{expr1}</code> ..	Executes the string that results from the evaluation
			of <code>{expr1}</code> as an Ex command.
			Multiple arguments are concatenated, with a space in
			between.  To avoid the extra space use the ".."
			operator to concatenate strings into one argument.
			<code>{expr1}</code> is used as the processed command, command line
			editing keys are not recognized.
			Cannot be followed by a comment.
			Examples:<pre>:execute "buffer" nextbuf
:execute "normal" count .. "w"
</pre>
			":execute" can be used to append a command to commands
			that don't accept a.  Example:<pre>:execute '!ls' | echo "theend"
</pre>
			":execute" is also a nice way to avoid having to type
			control characters in a Vim script for a ":normal"
			command:<pre>:execute "normal ixxx\&lt;Esc&gt;"
</pre>
			This has an &lt;Esc&gt; character, see <a href="eval.html#expr-string">expr-string</a>.
</div>
<div class="old-help-para">			Be careful to correctly escape special characters in
			file names.  The <a href="builtin.html#fnameescape()">fnameescape()</a> function can be used
			for Vim commands, <a href="builtin.html#shellescape()">shellescape()</a> for <a href="various.html#%3A%21">:!</a> commands.
			Examples:<pre>:execute "e " .. fnameescape(filename)
:execute "!ls " .. shellescape(filename, 1)
</pre>
			Note: The executed string may be any command-line, but
			starting or ending "if", "while" and "for" does not
			always work, because when commands are skipped the
			":execute" is not evaluated and Vim loses track of
			where blocks start and end.  Also "break" and
			"continue" should not be inside ":execute".
			This example does not work, because the ":execute" is
			not evaluated and Vim does not see the "while", and
			gives an error for finding an ":endwhile":<pre>:if 0
: execute 'while i &gt; 5'
:  echo "test"
: endwhile
:endif
</pre>
			It is allowed to have a "while" or "if" command
			completely in the executed string:<pre>:execute 'while i &lt; 5 | echo i | let i = i + 1 | endwhile'
</pre>
</div>
<div class="old-help-para">							<a name="%3Aexe-comment"></a><span class="help-tag-right">:exe-comment</span>
			":execute", ":echo" and ":echon" cannot be followed by
			a comment directly, because they see the as the
			start of a string.  But, you can use followed by a
			comment.  Example:<pre>:echo "foo" | "this is a comment
</pre>
==============================================================================
8. Exception handling					<a name="exception-handling"></a><span class="help-tag-right">exception-handling</span>
</div>
<div class="old-help-para">The Vim script language comprises an exception handling feature.  This section
explains how it can be used in a Vim script.
</div>
<div class="old-help-para">Exceptions may be raised by Vim on an error or on interrupt, see
<a href="eval.html#catch-errors">catch-errors</a> and <a href="eval.html#catch-interrupt">catch-interrupt</a>.  You can also explicitly throw an
exception by using the ":throw" command, see <a href="eval.html#throw-catch">throw-catch</a>.
</div>
<a name="_try-conditionals-"></a><h3 class="help-heading">TRY CONDITIONALS					<a name="try-conditionals"></a><span class="help-tag-right">try-conditionals</span></h3>
<div class="old-help-para">Exceptions can be caught or can cause cleanup code to be executed.  You can
use a try conditional to specify catch clauses (that catch exceptions) and/or
a finally clause (to be executed for cleanup).
   A try conditional begins with a <a href="eval.html#%3Atry">:try</a> command and ends at the matching
<a href="eval.html#%3Aendtry">:endtry</a> command.  In between, you can use a <a href="eval.html#%3Acatch">:catch</a> command to start
a catch clause, or a <a href="eval.html#%3Afinally">:finally</a> command to start a finally clause.  There may
be none or multiple catch clauses, but there is at most one finally clause,
which must not be followed by any catch clauses.  The lines before the catch
clauses and the finally clause is called a try block.<pre>:try
:        ...
:        ...                                TRY BLOCK
:        ...
:catch /{pattern}/
:        ...
:        ...                                CATCH CLAUSE
:        ...
:catch /{pattern}/
:        ...
:        ...                                CATCH CLAUSE
:        ...
:finally
:        ...
:        ...                                FINALLY CLAUSE
:        ...
:endtry
</pre>
The try conditional allows to watch code for exceptions and to take the
appropriate actions.  Exceptions from the try block may be caught.  Exceptions
from the try block and also the catch clauses may cause cleanup actions.
   When no exception is thrown during execution of the try block, the control
is transferred to the finally clause, if present.  After its execution, the
script continues with the line following the ":endtry".
   When an exception occurs during execution of the try block, the remaining
lines in the try block are skipped.  The exception is matched against the
patterns specified as arguments to the ":catch" commands.  The catch clause
after the first matching ":catch" is taken, other catch clauses are not
executed.  The catch clause ends when the next ":catch", ":finally", or
":endtry" command is reached - whatever is first.  Then, the finally clause
(if present) is executed.  When the ":endtry" is reached, the script execution
continues in the following line as usual.
   When an exception that does not match any of the patterns specified by the
":catch" commands is thrown in the try block, the exception is not caught by
that try conditional and none of the catch clauses is executed.  Only the
finally clause, if present, is taken.  The exception pends during execution of
the finally clause.  It is resumed at the ":endtry", so that commands after
the ":endtry" are not executed and the exception might be caught elsewhere,
see <a href="eval.html#try-nesting">try-nesting</a>.
   When during execution of a catch clause another exception is thrown, the
remaining lines in that catch clause are not executed.  The new exception is
not matched against the patterns in any of the ":catch" commands of the same
try conditional and none of its catch clauses is taken.  If there is, however,
a finally clause, it is executed, and the exception pends during its
execution.  The commands following the ":endtry" are not executed.  The new
exception might, however, be caught elsewhere, see <a href="eval.html#try-nesting">try-nesting</a>.
   When during execution of the finally clause (if present) an exception is
thrown, the remaining lines in the finally clause are skipped.  If the finally
clause has been taken because of an exception from the try block or one of the
catch clauses, the original (pending) exception is discarded.  The commands
following the ":endtry" are not executed, and the exception from the finally
clause is propagated and can be caught elsewhere, see <a href="eval.html#try-nesting">try-nesting</a>.
</div>
<div class="old-help-para">The finally clause is also executed, when a ":break" or ":continue" for
a ":while" loop enclosing the complete try conditional is executed from the
try block or a catch clause.  Or when a ":return" or ":finish" is executed
from the try block or a catch clause of a try conditional in a function or
sourced script, respectively.  The ":break", ":continue", ":return", or
":finish" pends during execution of the finally clause and is resumed when the
":endtry" is reached.  It is, however, discarded when an exception is thrown
from the finally clause.
   When a ":break" or ":continue" for a ":while" loop enclosing the complete
try conditional or when a ":return" or ":finish" is encountered in the finally
clause, the rest of the finally clause is skipped, and the ":break",
":continue", ":return" or ":finish" is executed as usual.  If the finally
clause has been taken because of an exception or an earlier ":break",
":continue", ":return", or ":finish" from the try block or a catch clause,
this pending exception or command is discarded.
</div>
<div class="old-help-para">For examples see <a href="eval.html#throw-catch">throw-catch</a> and <a href="eval.html#try-finally">try-finally</a>.
</div>
<a name="_nesting-of-try-conditionals-"></a><h3 class="help-heading">NESTING	OF TRY CONDITIONALS				<a name="try-nesting"></a><span class="help-tag-right">try-nesting</span></h3>
<div class="old-help-para">Try conditionals can be nested arbitrarily.  That is, a complete try
conditional can be put into the try block, a catch clause, or the finally
clause of another try conditional.  If the inner try conditional does not
catch an exception thrown in its try block or throws a new exception from one
of its catch clauses or its finally clause, the outer try conditional is
checked according to the rules above.  If the inner try conditional is in the
try block of the outer try conditional, its catch clauses are checked, but
otherwise only the finally clause is executed.  It does not matter for
nesting, whether the inner try conditional is directly contained in the outer
one, or whether the outer one sources a script or calls a function containing
the inner try conditional.
</div>
<div class="old-help-para">When none of the active try conditionals catches an exception, just their
finally clauses are executed.  Thereafter, the script processing terminates.
An error message is displayed in case of an uncaught exception explicitly
thrown by a ":throw" command.  For uncaught error and interrupt exceptions
implicitly raised by Vim, the error message(s) or interrupt message are shown
as usual.
</div>
<div class="old-help-para">For examples see <a href="eval.html#throw-catch">throw-catch</a>.
</div>
<a name="_examining-exception-handling-code-"></a><h3 class="help-heading">EXAMINING EXCEPTION HANDLING CODE			<a name="except-examine"></a><span class="help-tag-right">except-examine</span></h3>
<div class="old-help-para">Exception handling code can get tricky.  If you are in doubt what happens, set
<a href="options.html#'verbose'">'verbose'</a> to 13 or use the ":13verbose" command modifier when sourcing your
script file.  Then you see when an exception is thrown, discarded, caught, or
finished.  When using a verbosity level of at least 14, things pending in
a finally clause are also shown.  This information is also given in debug mode
(see <a href="repeat.html#debug-scripts">debug-scripts</a>).
</div>
<a name="_throwing-and-catching-exceptions-"></a><h3 class="help-heading">THROWING AND CATCHING EXCEPTIONS			<a name="throw-catch"></a><span class="help-tag-right">throw-catch</span></h3>
<div class="old-help-para">You can throw any number or string as an exception.  Use the <a href="eval.html#%3Athrow">:throw</a> command
and pass the value to be thrown as argument:<pre>:throw 4711
:throw "string"
</pre>
							<a name="throw-expression"></a><span class="help-tag-right">throw-expression</span>
You can also specify an expression argument.  The expression is then evaluated
first, and the result is thrown:<pre>:throw 4705 + strlen("string")
:throw strpart("strings", 0, 6)
</pre>
An exception might be thrown during evaluation of the argument of the ":throw"
command.  Unless it is caught there, the expression evaluation is abandoned.
The ":throw" command then does not throw a new exception.
   Example:<pre>:function! Foo(arg)
:  try
:    throw a:arg
:  catch /foo/
:  endtry
:  return 1
:endfunction
:
:function! Bar()
:  echo "in Bar"
:  return 4710
:endfunction
:
:throw Foo("arrgh") + Bar()
</pre>
This throws "arrgh", and "in Bar" is not displayed since Bar() is not
executed.<pre>:throw Foo("foo") + Bar()
</pre>
however displays "in Bar" and throws 4711.
</div>
<div class="old-help-para">Any other command that takes an expression as argument might also be
abandoned by an (uncaught) exception during the expression evaluation.  The
exception is then propagated to the caller of the command.
   Example:<pre>:if Foo("arrgh")
:  echo "then"
:else
:  echo "else"
:endif
</pre>
Here neither of "then" or "else" is displayed.
</div>
<div class="old-help-para">							<a name="catch-order"></a><span class="help-tag-right">catch-order</span>
Exceptions can be caught by a try conditional with one or more <a href="eval.html#%3Acatch">:catch</a>
commands, see <a href="eval.html#try-conditionals">try-conditionals</a>.   The values to be caught by each ":catch"
command can be specified as a pattern argument.  The subsequent catch clause
gets executed when a matching exception is caught.
   Example:<pre>:function! Foo(value)
:  try
:    throw a:value
:  catch /^\d\+$/
:    echo "Number thrown"
:  catch /.*/
:    echo "String thrown"
:  endtry
:endfunction
:
:call Foo(0x1267)
:call Foo('string')
</pre>
The first call to Foo() displays "Number thrown", the second "String thrown".
An exception is matched against the ":catch" commands in the order they are
specified.  Only the first match counts.  So you should place the more
specific ":catch" first.  The following order does not make sense:<pre>:  catch /.*/
:    echo "String thrown"
:  catch /^\d\+$/
:    echo "Number thrown"
</pre>
The first ":catch" here matches always, so that the second catch clause is
never taken.
</div>
<div class="old-help-para">							<a name="throw-variables"></a><span class="help-tag-right">throw-variables</span>
If you catch an exception by a general pattern, you may access the exact value
in the variable <a href="eval.html#v%3Aexception">v:exception</a>:<pre>:  catch /^\d\+$/
:    echo "Number thrown.  Value is" v:exception
</pre>
You may also be interested where an exception was thrown.  This is stored in
<a href="eval.html#v%3Athrowpoint">v:throwpoint</a>.  Note that "v:exception" and "v:throwpoint" are valid for the
exception most recently caught as long it is not finished.
   Example:<pre>:function! Caught()
:  if v:exception != ""
:    echo 'Caught "' .. v:exception .. '" in ' .. v:throwpoint
:  else
:    echo 'Nothing caught'
:  endif
:endfunction
:
:function! Foo()
:  try
:    try
:      try
:         throw 4711
:      finally
:         call Caught()
:      endtry
:    catch /.*/
:      call Caught()
:      throw "oops"
:    endtry
:  catch /.*/
:    call Caught()
:  finally
:    call Caught()
:  endtry
:endfunction
:
:call Foo()
</pre>
This displays<pre>Nothing caught
Caught "4711" in function Foo, line 4
Caught "oops" in function Foo, line 10
Nothing caught
</pre>
A practical example:  The following command ":LineNumber" displays the line
number in the script or function where it has been used:<pre>:function! LineNumber()
:    return substitute(v:throwpoint, '.*\D\(\d\+\).*', '\1', "")
:endfunction
:command! LineNumber try | throw "" | catch | echo LineNumber() | endtry
</pre>
							<a name="try-nested"></a><span class="help-tag-right">try-nested</span>
An exception that is not caught by a try conditional can be caught by
a surrounding try conditional:<pre>:try
:  try
:    throw "foo"
:  catch /foobar/
:    echo "foobar"
:  finally
:    echo "inner finally"
:  endtry
:catch /foo/
:  echo "foo"
:endtry
</pre>
The inner try conditional does not catch the exception, just its finally
clause is executed.  The exception is then caught by the outer try
conditional.  The example displays "inner finally" and then "foo".
</div>
<div class="old-help-para">							<a name="throw-from-catch"></a><span class="help-tag-right">throw-from-catch</span>
You can catch an exception and throw a new one to be caught elsewhere from the
catch clause:<pre>:function! Foo()
:  throw "foo"
:endfunction
:
:function! Bar()
:  try
:    call Foo()
:  catch /foo/
:    echo "Caught foo, throw bar"
:    throw "bar"
:  endtry
:endfunction
:
:try
:  call Bar()
:catch /.*/
:  echo "Caught" v:exception
:endtry
</pre>
This displays "Caught foo, throw bar" and then "Caught bar".
</div>
<div class="old-help-para">							<a name="rethrow"></a><span class="help-tag-right">rethrow</span>
There is no real rethrow in the Vim script language, but you may throw
"v:exception" instead:<pre>:function! Bar()
:  try
:    call Foo()
:  catch /.*/
:    echo "Rethrow" v:exception
:    throw v:exception
:  endtry
:endfunction
</pre>
							<a name="try-echoerr"></a><span class="help-tag-right">try-echoerr</span>
Note that this method cannot be used to "rethrow" Vim error or interrupt
exceptions, because it is not possible to fake Vim internal exceptions.
Trying so causes an error exception.  You should throw your own exception
denoting the situation.  If you want to cause a Vim error exception containing
the original error exception value, you can use the <a href="eval.html#%3Aechoerr">:echoerr</a> command:<pre>:try
:  try
:    asdf
:  catch /.*/
:    echoerr v:exception
:  endtry
:catch /.*/
:  echo v:exception
:endtry
</pre>
This code displays
</div>
<div class="old-help-para"><div class="help-column_heading">Vim(echoerr):Vim:E492: Not an editor command:	asdf</div></div>
<a name="_cleanup-code-"></a><h3 class="help-heading">CLEANUP CODE						<a name="try-finally"></a><span class="help-tag-right">try-finally</span></h3>
<div class="old-help-para">Scripts often change global settings and restore them at their end.  If the
user however interrupts the script by pressing CTRL-C, the settings remain in
an inconsistent state.  The same may happen to you in the development phase of
a script when an error occurs or you explicitly throw an exception without
catching it.  You can solve these problems by using a try conditional with
a finally clause for restoring the settings.  Its execution is guaranteed on
normal control flow, on error, on an explicit ":throw", and on interrupt.
(Note that errors and interrupts from inside the try conditional are converted
to exceptions.  When not caught, they terminate the script after the finally
clause has been executed.)
Example:<pre>:try
:  let s:saved_ts = &amp;ts
:  set ts=17
:
:  " Do the hard work here.
:
:finally
:  let &amp;ts = s:saved_ts
:  unlet s:saved_ts
:endtry
</pre>
This method should be used locally whenever a function or part of a script
changes global settings which need to be restored on failure or normal exit of
that function or script part.
</div>
<div class="old-help-para">							<a name="break-finally"></a><span class="help-tag-right">break-finally</span>
Cleanup code works also when the try block or a catch clause is left by
a ":continue", ":break", ":return", or ":finish".
   Example:<pre>:let first = 1
:while 1
:  try
:    if first
:      echo "first"
:      let first = 0
:      continue
:    else
:      throw "second"
:    endif
:  catch /.*/
:    echo v:exception
:    break
:  finally
:    echo "cleanup"
:  endtry
:  echo "still in while"
:endwhile
:echo "end"
</pre>
This displays "first", "cleanup", "second", "cleanup", and "end".<pre>:function! Foo()
:  try
:    return 4711
:  finally
:    echo "cleanup\n"
:  endtry
:  echo "Foo still active"
:endfunction
:
:echo Foo() "returned by Foo"
</pre>
This displays "cleanup" and "4711 returned by Foo".  You don't need to add an
extra ":return" in the finally clause.  (Above all, this would override the
return value.)
</div>
<div class="old-help-para">							<a name="except-from-finally"></a><span class="help-tag-right">except-from-finally</span>
Using either of ":continue", ":break", ":return", ":finish", or ":throw" in
a finally clause is possible, but not recommended since it abandons the
cleanup actions for the try conditional.  But, of course, interrupt and error
exceptions might get raised from a finally clause.
   Example where an error in the finally clause stops an interrupt from
working correctly:<pre>:try
:  try
:    echo "Press CTRL-C for interrupt"
:    while 1
:    endwhile
:  finally
:    unlet novar
:  endtry
:catch /novar/
:endtry
:echo "Script still running"
:sleep 1
</pre>
If you need to put commands that could fail into a finally clause, you should
think about catching or ignoring the errors in these commands, see
<a href="eval.html#catch-errors">catch-errors</a> and <a href="eval.html#ignore-errors">ignore-errors</a>.
</div>
<a name="_catching-errors-"></a><h3 class="help-heading">CATCHING ERRORS						<a name="catch-errors"></a><span class="help-tag-right">catch-errors</span></h3>
<div class="old-help-para">If you want to catch specific errors, you just have to put the code to be
watched in a try block and add a catch clause for the error message.  The
presence of the try conditional causes all errors to be converted to an
exception.  No message is displayed and <a href="eval.html#v%3Aerrmsg">v:errmsg</a> is not set then.  To find
the right pattern for the ":catch" command, you have to know how the format of
the error exception is.
   Error exceptions have the following format:<pre>Vim({cmdname}):{errmsg}
</pre>
or<pre>Vim:{errmsg}
</pre>
{cmdname} is the name of the command that failed; the second form is used when
the command name is not known.  <code>{errmsg}</code> is the error message usually produced
when the error occurs outside try conditionals.  It always begins with
a capital "E", followed by a two or three-digit error number, a colon, and
a space.
</div>
<div class="old-help-para">Examples:
</div>
<div class="old-help-para">The command<pre>:unlet novar
</pre>
normally produces the error message<pre>E108: No such variable: "novar"
</pre>
which is converted inside try conditionals to an exception<pre>Vim(unlet):E108: No such variable: "novar"
</pre>
The command<pre>:dwim
</pre>
normally produces the error message<pre>E492: Not an editor command: dwim
</pre>
which is converted inside try conditionals to an exception<pre>Vim:E492: Not an editor command: dwim
</pre>
You can catch all ":unlet" errors by a<pre>:catch /^Vim(unlet):/
</pre>
or all errors for misspelled command names by a<pre>:catch /^Vim:E492:/
</pre>
Some error messages may be produced by different commands:<pre>:function nofunc
</pre>
and<pre>:delfunction nofunc
</pre>
both produce the error message<pre>E128: Function name must start with a capital: nofunc
</pre>
which is converted inside try conditionals to an exception<pre>Vim(function):E128: Function name must start with a capital: nofunc
</pre>
or<pre>Vim(delfunction):E128: Function name must start with a capital: nofunc
</pre>
respectively.  You can catch the error by its number independently on the
command that caused it if you use the following pattern:<pre>:catch /^Vim(\a\+):E128:/
</pre>
Some commands like<pre>:let x = novar
</pre>
produce multiple error messages, here:<pre>E121: Undefined variable: novar
E15: Invalid expression:  novar
</pre>
Only the first is used for the exception value, since it is the most specific
one (see <a href="eval.html#except-several-errors">except-several-errors</a>).  So you can catch it by<pre>:catch /^Vim(\a\+):E121:/
</pre>
You can catch all errors related to the name "nofunc" by<pre>:catch /\&lt;nofunc\&gt;/
</pre>
You can catch all Vim errors in the ":write" and ":read" commands by<pre>:catch /^Vim(\(write\|read\)):E\d\+:/
</pre>
You can catch all Vim errors by the pattern<pre>:catch /^Vim\((\a\+)\)\=:E\d\+:/
</pre>
							<a name="catch-text"></a><span class="help-tag-right">catch-text</span>
NOTE: You should never catch the error message text itself:<pre>:catch /No such variable/
</pre>
only works in the English locale, but not when the user has selected
a different language by the <a href="mlang.html#%3Alanguage">:language</a> command.  It is however helpful to
cite the message text in a comment:<pre>:catch /^Vim(\a\+):E108:/   " No such variable
</pre>
IGNORING ERRORS						<a name="ignore-errors"></a><span class="help-tag-right">ignore-errors</span>
</div>
<div class="old-help-para">You can ignore errors in a specific Vim command by catching them locally:<pre>:try
:  write
:catch
:endtry
</pre>
But you are strongly recommended NOT to use this simple form, since it could
catch more than you want.  With the ":write" command, some autocommands could
be executed and cause errors not related to writing, for instance:<pre>:au BufWritePre * unlet novar
</pre>
There could even be such errors you are not responsible for as a script
writer: a user of your script might have defined such autocommands.  You would
then hide the error from the user.
   It is much better to use<pre>:try
:  write
:catch /^Vim(write):/
:endtry
</pre>
which only catches real write errors.  So catch only what you'd like to ignore
intentionally.
</div>
<div class="old-help-para">For a single command that does not cause execution of autocommands, you could
even suppress the conversion of errors to exceptions by the ":silent!"
command:<pre>:silent! nunmap k
</pre>
This works also when a try conditional is active.
</div>
<a name="_catching-interrupts-"></a><h3 class="help-heading">CATCHING INTERRUPTS					<a name="catch-interrupt"></a><span class="help-tag-right">catch-interrupt</span></h3>
<div class="old-help-para">When there are active try conditionals, an interrupt (CTRL-C) is converted to
the exception "Vim:Interrupt".  You can catch it like every exception.  The
script is not terminated, then.
   Example:<pre>:function! TASK1()
:  sleep 10
:endfunction
:function! TASK2()
:  sleep 20
:endfunction
:while 1
:  let command = input("Type a command: ")
:  try
:    if command == ""
:      continue
:    elseif command == "END"
:      break
:    elseif command == "TASK1"
:      call TASK1()
:    elseif command == "TASK2"
:      call TASK2()
:    else
:      echo "\nIllegal command:" command
:      continue
:    endif
:  catch /^Vim:Interrupt$/
:    echo "\nCommand interrupted"
:    " Caught the interrupt.  Continue with next prompt.
:  endtry
:endwhile
</pre>
You can interrupt a task here by pressing CTRL-C; the script then asks for
a new command.  If you press CTRL-C at the prompt, the script is terminated.
</div>
<div class="old-help-para">For testing what happens when CTRL-C would be pressed on a specific line in
your script, use the debug mode and execute the <a href="repeat.html#%3Equit">&gt;quit</a> or <a href="repeat.html#%3Einterrupt">&gt;interrupt</a>
command on that line.  See <a href="repeat.html#debug-scripts">debug-scripts</a>.
</div>
<a name="_catching-all-"></a><h3 class="help-heading">CATCHING ALL						<a name="catch-all"></a><span class="help-tag-right">catch-all</span></h3>
<div class="old-help-para">The commands<pre>:catch /.*/
:catch //
:catch
</pre>
catch everything, error exceptions, interrupt exceptions and exceptions
explicitly thrown by the <a href="eval.html#%3Athrow">:throw</a> command.  This is useful at the top level of
a script in order to catch unexpected things.
   Example:<pre>:try
:
:  " do the hard work here
:
:catch /MyException/
:
:  " handle known problem
:
:catch /^Vim:Interrupt$/
:    echo "Script interrupted"
:catch /.*/
:  echo "Internal error (" .. v:exception .. ")"
:  echo " - occurred at " .. v:throwpoint
:endtry
:" end of script
</pre>
Note: Catching all might catch more things than you want.  Thus, you are
strongly encouraged to catch only for problems that you can really handle by
specifying a pattern argument to the ":catch".
   Example: Catching all could make it nearly impossible to interrupt a script
by pressing CTRL-C:<pre>:while 1
:  try
:    sleep 1
:  catch
:  endtry
:endwhile
</pre>
EXCEPTIONS AND AUTOCOMMANDS				<a name="except-autocmd"></a><span class="help-tag-right">except-autocmd</span>
</div>
<div class="old-help-para">Exceptions may be used during execution of autocommands.  Example:<pre>:autocmd User x try
:autocmd User x   throw "Oops!"
:autocmd User x catch
:autocmd User x   echo v:exception
:autocmd User x endtry
:autocmd User x throw "Arrgh!"
:autocmd User x echo "Should not be displayed"
:
:try
:  doautocmd User x
:catch
:  echo v:exception
:endtry
</pre>
This displays "Oops!" and "Arrgh!".
</div>
<div class="old-help-para">							<a name="except-autocmd-Pre"></a><span class="help-tag-right">except-autocmd-Pre</span>
For some commands, autocommands get executed before the main action of the
command takes place.  If an exception is thrown and not caught in the sequence
of autocommands, the sequence and the command that caused its execution are
abandoned and the exception is propagated to the caller of the command.
   Example:<pre>:autocmd BufWritePre * throw "FAIL"
:autocmd BufWritePre * echo "Should not be displayed"
:
:try
:  write
:catch
:  echo "Caught:" v:exception "from" v:throwpoint
:endtry
</pre>
Here, the ":write" command does not write the file currently being edited (as
you can see by checking <a href="options.html#'modified'">'modified'</a>), since the exception from the BufWritePre
autocommand abandons the ":write".  The exception is then caught and the
script displays:<pre>Caught: FAIL from BufWrite Auto commands for "*"
</pre>
							<a name="except-autocmd-Post"></a><span class="help-tag-right">except-autocmd-Post</span>
For some commands, autocommands get executed after the main action of the
command has taken place.  If this main action fails and the command is inside
an active try conditional, the autocommands are skipped and an error exception
is thrown that can be caught by the caller of the command.
   Example:<pre>:autocmd BufWritePost * echo "File successfully written!"
:
:try
:  write /i/m/p/o/s/s/i/b/l/e
:catch
:  echo v:exception
:endtry
</pre>
This just displays:<pre>Vim(write):E212: Can't open file for writing (/i/m/p/o/s/s/i/b/l/e)
</pre>
If you really need to execute the autocommands even when the main action
fails, trigger the event from the catch clause.
   Example:<pre>:autocmd BufWritePre  * set noreadonly
:autocmd BufWritePost * set readonly
:
:try
:  write /i/m/p/o/s/s/i/b/l/e
:catch
:  doautocmd BufWritePost /i/m/p/o/s/s/i/b/l/e
:endtry
</pre>
You can also use ":silent!":<pre>:let x = "ok"
:let v:errmsg = ""
:autocmd BufWritePost * if v:errmsg != ""
:autocmd BufWritePost *   let x = "after fail"
:autocmd BufWritePost * endif
:try
:  silent! write /i/m/p/o/s/s/i/b/l/e
:catch
:endtry
:echo x
</pre>
This displays "after fail".
</div>
<div class="old-help-para">If the main action of the command does not fail, exceptions from the
autocommands will be catchable by the caller of the command:<pre>:autocmd BufWritePost * throw ":-("
:autocmd BufWritePost * echo "Should not be displayed"
:
:try
:  write
:catch
:  echo v:exception
:endtry
</pre>
							<a name="except-autocmd-Cmd"></a><span class="help-tag-right">except-autocmd-Cmd</span>
For some commands, the normal action can be replaced by a sequence of
autocommands.  Exceptions from that sequence will be catchable by the caller
of the command.
   Example:  For the ":write" command, the caller cannot know whether the file
had actually been written when the exception occurred.  You need to tell it in
some way.<pre>:if !exists("cnt")
:  let cnt = 0
:
:  autocmd BufWriteCmd * if &amp;modified
:  autocmd BufWriteCmd *   let cnt = cnt + 1
:  autocmd BufWriteCmd *   if cnt % 3 == 2
:  autocmd BufWriteCmd *     throw "BufWriteCmdError"
:  autocmd BufWriteCmd *   endif
:  autocmd BufWriteCmd *   write | set nomodified
:  autocmd BufWriteCmd *   if cnt % 3 == 0
:  autocmd BufWriteCmd *     throw "BufWriteCmdError"
:  autocmd BufWriteCmd *   endif
:  autocmd BufWriteCmd *   echo "File successfully written!"
:  autocmd BufWriteCmd * endif
:endif
:
:try
:        write
:catch /^BufWriteCmdError$/
:  if &amp;modified
:    echo "Error on writing (file contents not changed)"
:  else
:    echo "Error after writing"
:  endif
:catch /^Vim(write):/
:    echo "Error on writing"
:endtry
</pre>
When this script is sourced several times after making changes, it displays
first<pre>File successfully written!
</pre>
then<pre>Error on writing (file contents not changed)
</pre>
then<pre>Error after writing
</pre>
etc.
</div>
<div class="old-help-para">							<a name="except-autocmd-ill"></a><span class="help-tag-right">except-autocmd-ill</span>
You cannot spread a try conditional over autocommands for different events.
The following code is ill-formed:<pre>:autocmd BufWritePre  * try
:
:autocmd BufWritePost * catch
:autocmd BufWritePost *   echo v:exception
:autocmd BufWritePost * endtry
:
:write
</pre>
EXCEPTION HIERARCHIES AND PARAMETERIZED EXCEPTIONS	<a name="except-hier-param"></a><span class="help-tag">except-hier-param</span>
</div>
<div class="old-help-para">Some programming languages allow to use hierarchies of exception classes or to
pass additional information with the object of an exception class.  You can do
similar things in Vim.
   In order to throw an exception from a hierarchy, just throw the complete
class name with the components separated by a colon, for instance throw the
string "EXCEPT:MATHERR:OVERFLOW" for an overflow in a mathematical library.
   When you want to pass additional information with your exception class, add
it in parentheses, for instance throw the string "EXCEPT:IO:WRITEERR(myfile)"
for an error when writing "myfile".
   With the appropriate patterns in the ":catch" command, you can catch for
base classes or derived classes of your hierarchy.  Additional information in
parentheses can be cut out from <a href="eval.html#v%3Aexception">v:exception</a> with the ":substitute" command.
   Example:<pre>:function! CheckRange(a, func)
:  if a:a &lt; 0
:    throw "EXCEPT:MATHERR:RANGE(" .. a:func .. ")"
:  endif
:endfunction
:
:function! Add(a, b)
:  call CheckRange(a:a, "Add")
:  call CheckRange(a:b, "Add")
:  let c = a:a + a:b
:  if c &lt; 0
:    throw "EXCEPT:MATHERR:OVERFLOW"
:  endif
:  return c
:endfunction
:
:function! Div(a, b)
:  call CheckRange(a:a, "Div")
:  call CheckRange(a:b, "Div")
:  if (a:b == 0)
:    throw "EXCEPT:MATHERR:ZERODIV"
:  endif
:  return a:a / a:b
:endfunction
:
:function! Write(file)
:  try
:    execute "write" fnameescape(a:file)
:  catch /^Vim(write):/
:    throw "EXCEPT:IO(" .. getcwd() .. ", " .. a:file .. "):WRITEERR"
:  endtry
:endfunction
:
:try
:
:  " something with arithmetic and I/O
:
:catch /^EXCEPT:MATHERR:RANGE/
:  let function = substitute(v:exception, '.*(\(\a\+\)).*', '\1', "")
:  echo "Range error in" function
:
:catch /^EXCEPT:MATHERR/        " catches OVERFLOW and ZERODIV
:  echo "Math error"
:
:catch /^EXCEPT:IO/
:  let dir = substitute(v:exception, '.*(\(.\+\),\s*.\+).*', '\1', "")
:  let file = substitute(v:exception, '.*(.\+,\s*\(.\+\)).*', '\1', "")
:  if file !~ '^/'
:    let file = dir .. "/" .. file
:  endif
:  echo 'I/O error for "' .. file .. '"'
:
:catch /^EXCEPT/
:  echo "Unspecified error"
:
:endtry
</pre>
The exceptions raised by Vim itself (on error or when pressing CTRL-C) use
a flat hierarchy:  they are all in the "Vim" class.  You cannot throw yourself
exceptions with the "Vim" prefix; they are reserved for Vim.
   Vim error exceptions are parameterized with the name of the command that
failed, if known.  See <a href="eval.html#catch-errors">catch-errors</a>.
</div>
<a name="_peculiarities"></a><h3 class="help-heading">PECULIARITIES</h3>
<div class="old-help-para">							<a name="except-compat"></a><span class="help-tag-right">except-compat</span>
The exception handling concept requires that the command sequence causing the
exception is aborted immediately and control is transferred to finally clauses
and/or a catch clause.
</div>
<div class="old-help-para">In the Vim script language there are cases where scripts and functions
continue after an error: in functions without the "abort" flag or in a command
after ":silent!", control flow goes to the following line, and outside
functions, control flow goes to the line following the outermost ":endwhile"
or ":endif".  On the other hand, errors should be catchable as exceptions
(thus, requiring the immediate abortion).
</div>
<div class="old-help-para">This problem has been solved by converting errors to exceptions and using
immediate abortion (if not suppressed by ":silent!") only when a try
conditional is active.  This is no restriction since an (error) exception can
be caught only from an active try conditional.  If you want an immediate
termination without catching the error, just use a try conditional without
catch clause.  (You can cause cleanup code being executed before termination
by specifying a finally clause.)
</div>
<div class="old-help-para">When no try conditional is active, the usual abortion and continuation
behavior is used instead of immediate abortion.  This ensures compatibility of
scripts written for Vim 6.1 and earlier.
</div>
<div class="old-help-para">However, when sourcing an existing script that does not use exception handling
commands (or when calling one of its functions) from inside an active try
conditional of a new script, you might change the control flow of the existing
script on error.  You get the immediate abortion on error and can catch the
error in the new script.  If however the sourced script suppresses error
messages by using the ":silent!" command (checking for errors by testing
<a href="eval.html#v%3Aerrmsg">v:errmsg</a> if appropriate), its execution path is not changed.  The error is
not converted to an exception.  (See <a href="various.html#%3Asilent">:silent</a>.)  So the only remaining cause
where this happens is for scripts that don't care about errors and produce
error messages.  You probably won't want to use such code from your new
scripts.
</div>
<div class="old-help-para">							<a name="except-syntax-err"></a><span class="help-tag-right">except-syntax-err</span>
Syntax errors in the exception handling commands are never caught by any of
the ":catch" commands of the try conditional they belong to.  Its finally
clauses, however, is executed.
   Example:<pre>:try
:  try
:    throw 4711
:  catch /\(/
:    echo "in catch with syntax error"
:  catch
:    echo "inner catch-all"
:  finally
:    echo "inner finally"
:  endtry
:catch
:  echo 'outer catch-all caught "' .. v:exception .. '"'
:  finally
:    echo "outer finally"
:endtry
</pre>
This displays:<pre>inner finally
outer catch-all caught "Vim(catch):E54: Unmatched \("
outer finally
</pre>
The original exception is discarded and an error exception is raised, instead.
</div>
<div class="old-help-para">							<a name="except-single-line"></a><span class="help-tag-right">except-single-line</span>
The ":try", ":catch", ":finally", and ":endtry" commands can be put on
a single line, but then syntax errors may make it difficult to recognize the
"catch" line, thus you better avoid this.
   Example:<pre>:try | unlet! foo # | catch | endtry
</pre>
raises an error exception for the trailing characters after the ":unlet!"
argument, but does not see the ":catch" and ":endtry" commands, so that the
error exception is discarded and the "E488: Trailing characters" message gets
displayed.
</div>
<div class="old-help-para">							<a name="except-several-errors"></a><span class="help-tag-right">except-several-errors</span>
When several errors appear in a single command, the first error message is
usually the most specific one and therefore converted to the error exception.
   Example:<pre>echo novar
</pre>
causes<pre>E121: Undefined variable: novar
E15: Invalid expression: novar
</pre>
The value of the error exception inside try conditionals is:<pre>Vim(echo):E121: Undefined variable: novar
</pre>
							<a name="except-syntax-error"></a><span class="help-tag-right">except-syntax-error</span>
But when a syntax error is detected after a normal error in the same command,
the syntax error is used for the exception being thrown.
   Example:<pre>unlet novar #
</pre>
causes<pre>E108: No such variable: "novar"
E488: Trailing characters
</pre>
The value of the error exception inside try conditionals is:<pre>Vim(unlet):E488: Trailing characters
</pre>
This is done because the syntax error might change the execution path in a way
not intended by the user.  Example:<pre>try
    try | unlet novar # | catch | echo v:exception | endtry
catch /.*/
    echo "outer catch:" v:exception
endtry
</pre>
This displays "outer catch: Vim(unlet):E488: Trailing characters", and then
a "E600: Missing :endtry" error message is given, see <a href="eval.html#except-single-line">except-single-line</a>.
</div>
<a name="_-9.-examples-"></a><h2 class="help-heading">9. Examples<span class="help-heading-tags">						<a name="eval-examples"></a><span class="help-tag">eval-examples</span></h2>
<div class="old-help-para"><div class="help-column_heading">Printing in Binary</div><pre>:" The function Nr2Bin() returns the binary string representation of a number.
:func Nr2Bin(nr)
:  let n = a:nr
:  let r = ""
:  while n
:    let r = '01'[n % 2] .. r
:    let n = n / 2
:  endwhile
:  return r
:endfunc
:" The function String2Bin() converts each character in a string to a
:" binary string, separated with dashes.
:func String2Bin(str)
:  let out = ''
:  for ix in range(strlen(a:str))
:    let out = out .. '-' .. Nr2Bin(char2nr(a:str[ix]))
:  endfor
:  return out[1:]
:endfunc
</pre>
Example of its use:<pre>:echo Nr2Bin(32)
</pre>
result: "100000"<pre>:echo String2Bin("32")
</pre>
result: "110011-110010"
</div>
<div class="old-help-para"><div class="help-column_heading">Sorting lines</div></div>
<div class="old-help-para">This example sorts lines with a specific compare function.<pre>:func SortBuffer()
:  let lines = getline(1, '$')
:  call sort(lines, function("Strcmp"))
:  call setline(1, lines)
:endfunction
</pre>
As a one-liner:<pre>:call setline(1, sort(getline(1, '$'), function("Strcmp")))
</pre>
</div>
<div class="old-help-para"><div class="help-column_heading">scanf() replacement</div>							<a name="sscanf"></a><span class="help-tag-right">sscanf</span>
There is no sscanf() function in Vim.  If you need to extract parts from a
line, you can use matchstr() and substitute() to do it.  This example shows
how to get the file name, line number and column number out of a line like
"foobar.txt, 123, 45".<pre>:" Set up the match bit
:let mx='\(\f\+\),\s*\(\d\+\),\s*\(\d\+\)'
:"get the part matching the whole expression
:let l = matchstr(line, mx)
:"get each item out of the match
:let file = substitute(l, mx, '\1', '')
:let lnum = substitute(l, mx, '\2', '')
:let col = substitute(l, mx, '\3', '')
</pre>
The input is in the variable "line", the results in the variables "file",
"lnum" and "col". (idea from Michael Geddes)
</div>
<div class="old-help-para"><div class="help-column_heading">getting the scriptnames in a Dictionary</div>						<a name="scriptnames-dictionary"></a><span class="help-tag-right">scriptnames-dictionary</span>
The <a href="repeat.html#%3Ascriptnames">:scriptnames</a> command can be used to get a list of all script files that
have been sourced.  There is no equivalent function or variable for this
(because it's rarely needed).  In case you need to manipulate the list this
code can be used:<pre>" Get the output of ":scriptnames" in the scriptnames_output variable.
let scriptnames_output = ''
redir =&gt; scriptnames_output
silent scriptnames
redir END
" Split the output into lines and parse each line.        Add an entry to the
" "scripts" dictionary.
let scripts = {}
for line in split(scriptnames_output, "\n")
  " Only do non-blank lines.
  if line =~ '\S'
    " Get the first number in the line.
    let nr = matchstr(line, '\d\+')
    " Get the file name, remove the script number " 123: ".
    let name = substitute(line, '.\+:\s*', '', '')
    " Add an item to the Dictionary
    let scripts[nr] = name
  endif
endfor
unlet scriptnames_output
</pre>
==============================================================================
The sandbox					<a name="eval-sandbox"></a><span class="help-tag-right">eval-sandbox</span> <a name="sandbox"></a><span class="help-tag">sandbox</span>
</div>
<div class="old-help-para">The <a href="options.html#'foldexpr'">'foldexpr'</a>, <a href="options.html#'formatexpr'">'formatexpr'</a>, <a href="options.html#'includeexpr'">'includeexpr'</a>, <a href="options.html#'indentexpr'">'indentexpr'</a>, <a href="options.html#'statusline'">'statusline'</a> and
<a href="options.html#'foldtext'">'foldtext'</a> options may be evaluated in a sandbox.  This means that you are
protected from these expressions having nasty side effects.  This gives some
safety for when these options are set from a modeline.  It is also used when
the command from a tags file is executed and for CTRL-R = in the command line.
The sandbox is also used for the <a href="eval.html#%3Asandbox">:sandbox</a> command.
</div>
<div class="old-help-para">								<a name="E48"></a><span class="help-tag-right">E48</span>
These items are not allowed in the sandbox:
<div class="help-li">changing the buffer text </div><div class="help-li">defining or changing mapping, autocommands, user commands </div><div class="help-li">setting certain options (see <a href="options.html#option-summary">option-summary</a>) </div><div class="help-li">setting certain v: variables (see <a href="eval.html#v%3Avar">v:var</a>)  <a name="E794"></a><span class="help-tag">E794</span> </div><div class="help-li">executing a shell command </div><div class="help-li">reading or writing a file </div><div class="help-li">jumping to another buffer or editing a file </div><div class="help-li">executing Python, Perl, etc. commands This is not guaranteed 100% secure, but it should block most attacks.</div></div>
<div class="old-help-para">							<a name="%3Asan"></a><span class="help-tag-right">:san</span> <a name="%3Asandbox"></a><span class="help-tag">:sandbox</span>
:san[dbox] <code>{cmd}</code>	Execute <code>{cmd}</code> in the sandbox.  Useful to evaluate an
			option that may have been set from a modeline, e.g.
			<a href="options.html#'foldexpr'">'foldexpr'</a>.
</div>
<div class="old-help-para">							<a name="sandbox-option"></a><span class="help-tag-right">sandbox-option</span>
A few options contain an expression.  When this expression is evaluated it may
have to be done in the sandbox to avoid a security risk.  But the sandbox is
restrictive, thus this only happens when the option was set from an insecure
location.  Insecure in this context are:
<div class="help-li">sourcing a .nvimrc or .exrc in the current directory </div><div class="help-li">while executing in the sandbox </div><div class="help-li">value coming from a modeline </div><div class="help-li">executing a function that was defined in the sandbox </div></div>
<div class="old-help-para">Note that when in the sandbox and saving an option value and restoring it, the
option will still be marked as it was set in the sandbox.
</div>
<a name="_-textlock-"></a><h2 class="help-heading">Textlock<span class="help-heading-tags">							<a name="textlock"></a><span class="help-tag">textlock</span></h2>
<div class="old-help-para">In a few situations it is not allowed to change the text in the buffer, jump
to another window and some other things that might confuse or break what Vim
is currently doing.  This mostly applies to things that happen when Vim is
actually doing something else.  For example, evaluating the <a href="vim_diff.html#'balloonexpr'">'balloonexpr'</a> may
happen any moment the mouse cursor is resting at some position.
</div>
<div class="old-help-para">This is not allowed when the textlock is active:
<div class="help-li">changing the buffer text </div><div class="help-li">jumping to another buffer or window </div><div class="help-li">editing another file </div><div class="help-li">closing a window or quitting Vim </div><div class="help-li">etc. </div></div>
<a name="_-command-line-expressions-highlighting-"></a><h2 class="help-heading">Command-line expressions highlighting<span class="help-heading-tags">		<a name="expr-highlight"></a><span class="help-tag">expr-highlight</span></h2>
<div class="old-help-para">Expressions entered by the user in <a href="insert.html#i_CTRL-R_%3D">i_CTRL-R_=</a>, <a href="cmdline.html#c_CTRL-%5C_e">c_CTRL-\_e</a>, <a href="change.html#quote%3D">quote=</a> are
highlighted by the built-in expressions parser.  It uses highlight groups
described in the table below, which may be overridden by colorschemes.
							<a name="hl-NvimInvalid"></a><span class="help-tag-right">hl-NvimInvalid</span>
Besides the "Nvim"-prefixed highlight groups described below, there are
"NvimInvalid"-prefixed highlight groups which have the same meaning but
indicate that the token contains an error or that an error occurred just
before it.  They have mostly the same hierarchy, except that (by default) in
place of any non-Nvim-prefixed group NvimInvalid linking to <code>Error</code> is used
and some other intermediate groups are present.
</div>
<div class="old-help-para"><div class="help-column_heading">Group                              Default link            Colored expression</div><a name="hl-NvimInternalError"></a><span class="help-tag">hl-NvimInternalError</span>               None, red/red           Parser bug
</div>
<div class="old-help-para"><a name="hl-NvimAssignment"></a><span class="help-tag">hl-NvimAssignment</span>                  Operator                Generic assignment
<a name="hl-NvimPlainAssignment"></a><span class="help-tag">hl-NvimPlainAssignment</span>             NvimAssignment          <code>=</code> in <a href="eval.html#%3Alet">:let</a>
<a name="hl-NvimAugmentedAssignment"></a><span class="help-tag">hl-NvimAugmentedAssignment</span>         NvimAssignment          Generic, <code>+=</code>/`-=`/`.=`
<a name="hl-NvimAssignmentWithAddition"></a><span class="help-tag">hl-NvimAssignmentWithAddition</span>      NvimAugmentedAssignment <code>+=</code> in <a href="eval.html#%3Alet%2B%3D">:let+=</a>
<a name="hl-NvimAssignmentWithSubtraction"></a><span class="help-tag">hl-NvimAssignmentWithSubtraction</span>   NvimAugmentedAssignment <code>-=</code> in <a href="eval.html#%3Alet-%3D">:let-=</a>
<a name="hl-NvimAssignmentWithConcatenation"></a><span class="help-tag">hl-NvimAssignmentWithConcatenation</span> NvimAugmentedAssignment <code>.=</code> in <a href="eval.html#%3Alet.%3D">:let.=</a>
</div>
<div class="old-help-para"><a name="hl-NvimOperator"></a><span class="help-tag">hl-NvimOperator</span>                    Operator                Generic operator
</div>
<div class="old-help-para"><a name="hl-NvimUnaryOperator"></a><span class="help-tag">hl-NvimUnaryOperator</span>               NvimOperator            Generic unary op
<a name="hl-NvimUnaryPlus"></a><span class="help-tag">hl-NvimUnaryPlus</span>                   NvimUnaryOperator       <a href="eval.html#expr-unary-%2B">expr-unary-+</a>
<a name="hl-NvimUnaryMinus"></a><span class="help-tag">hl-NvimUnaryMinus</span>                  NvimUnaryOperator       <a href="eval.html#expr-unary--">expr-unary--</a>
<a name="hl-NvimNot"></a><span class="help-tag">hl-NvimNot</span>                         NvimUnaryOperator       <a href="eval.html#expr-%21">expr-!</a>
</div>
<div class="old-help-para"><a name="hl-NvimBinaryOperator"></a><span class="help-tag">hl-NvimBinaryOperator</span>              NvimOperator            Generic binary op
<a name="hl-NvimComparison"></a><span class="help-tag">hl-NvimComparison</span>                  NvimBinaryOperator      Any <a href="eval.html#expr4">expr4</a> operator
<a name="hl-NvimComparisonModifier"></a><span class="help-tag">hl-NvimComparisonModifier</span>          NvimComparison          <code>#</code>/`?` near <a href="eval.html#expr4">expr4</a> op
<a name="hl-NvimBinaryPlus"></a><span class="help-tag">hl-NvimBinaryPlus</span>                  NvimBinaryOperator      <a href="eval.html#expr-%2B">expr-+</a>
<a name="hl-NvimBinaryMinus"></a><span class="help-tag">hl-NvimBinaryMinus</span>                 NvimBinaryOperator      <a href="eval.html#expr--">expr--</a>
<a name="hl-NvimConcat"></a><span class="help-tag">hl-NvimConcat</span>                      NvimBinaryOperator      <a href="eval.html#expr-.">expr-.</a>
<a name="hl-NvimConcatOrSubscript"></a><span class="help-tag">hl-NvimConcatOrSubscript</span>           NvimConcat              <a href="eval.html#expr-.">expr-.</a> or <a href="eval.html#expr-entry">expr-entry</a>
<a name="hl-NvimOr"></a><span class="help-tag">hl-NvimOr</span>                          NvimBinaryOperator      <a href="eval.html#expr-barbar">expr-barbar</a>
<a name="hl-NvimAnd"></a><span class="help-tag">hl-NvimAnd</span>                         NvimBinaryOperator      <a href="eval.html#expr-%26%26">expr-&amp;&amp;</a>
<a name="hl-NvimMultiplication"></a><span class="help-tag">hl-NvimMultiplication</span>              NvimBinaryOperator      <a href="eval.html#expr-star">expr-star</a>
<a name="hl-NvimDivision"></a><span class="help-tag">hl-NvimDivision</span>                    NvimBinaryOperator      <a href="eval.html#expr-%2F">expr-/</a>
<a name="hl-NvimMod"></a><span class="help-tag">hl-NvimMod</span>                         NvimBinaryOperator      <a href="eval.html#expr-%25">expr-%</a>
</div>
<div class="old-help-para"><a name="hl-NvimTernary"></a><span class="help-tag">hl-NvimTernary</span>                     NvimOperator            <code>?</code> in <a href="eval.html#expr1">expr1</a>
<a name="hl-NvimTernaryColon"></a><span class="help-tag">hl-NvimTernaryColon</span>                NvimTernary             <code>:</code> in <a href="eval.html#expr1">expr1</a>
</div>
<div class="old-help-para"><a name="hl-NvimParenthesis"></a><span class="help-tag">hl-NvimParenthesis</span>                 Delimiter               Generic bracket
<a name="hl-NvimLambda"></a><span class="help-tag">hl-NvimLambda</span>                      NvimParenthesis         <code>{</code>/`}` in <a href="eval.html#lambda">lambda</a>
<a name="hl-NvimNestingParenthesis"></a><span class="help-tag">hl-NvimNestingParenthesis</span>          NvimParenthesis         <code>(</code>/`)` in <a href="eval.html#expr-nesting">expr-nesting</a>
<a name="hl-NvimCallingParenthesis"></a><span class="help-tag">hl-NvimCallingParenthesis</span>          NvimParenthesis         <code>(</code>/`)` in <a href="eval.html#expr-function">expr-function</a>
</div>
<div class="old-help-para"><a name="hl-NvimSubscript"></a><span class="help-tag">hl-NvimSubscript</span>                   NvimParenthesis         Generic subscript
<a name="hl-NvimSubscriptBracket"></a><span class="help-tag">hl-NvimSubscriptBracket</span>            NvimSubscript           <code>[</code>/`]` in <a href="eval.html#expr-%5B%5D">expr-[]</a>
<a name="hl-NvimSubscriptColon"></a><span class="help-tag">hl-NvimSubscriptColon</span>              NvimSubscript           <code>:</code> in <a href="eval.html#expr-%5B%3A%5D">expr-[:]</a>
<a name="hl-NvimCurly"></a><span class="help-tag">hl-NvimCurly</span>                       NvimSubscript           <code>{</code>/`}` in
                                                           <a href="eval.html#curly-braces-names">curly-braces-names</a>
</div>
<div class="old-help-para"><a name="hl-NvimContainer"></a><span class="help-tag">hl-NvimContainer</span>                   NvimParenthesis         Generic container
<a name="hl-NvimDict"></a><span class="help-tag">hl-NvimDict</span>                        NvimContainer           <code>{</code>/`}` in <a href="eval.html#dict">dict</a> literal
<a name="hl-NvimList"></a><span class="help-tag">hl-NvimList</span>                        NvimContainer           <code>[</code>/`]` in <a href="eval.html#list">list</a> literal
</div>
<div class="old-help-para"><a name="hl-NvimIdentifier"></a><span class="help-tag">hl-NvimIdentifier</span>                  Identifier              Generic identifier
<a name="hl-NvimIdentifierScope"></a><span class="help-tag">hl-NvimIdentifierScope</span>             NvimIdentifier          Namespace: letter
                                                           before <code>:</code> in
                                                           <a href="eval.html#internal-variables">internal-variables</a>
<a name="hl-NvimIdentifierScopeDelimiter"></a><span class="help-tag">hl-NvimIdentifierScopeDelimiter</span>    NvimIdentifier          <code>:</code> after namespace
                                                           letter
<a name="hl-NvimIdentifierName"></a><span class="help-tag">hl-NvimIdentifierName</span>              NvimIdentifier          Rest of the ident
<a name="hl-NvimIdentifierKey"></a><span class="help-tag">hl-NvimIdentifierKey</span>               NvimIdentifier          Identifier after
                                                           <a href="eval.html#expr-entry">expr-entry</a>
</div>
<div class="old-help-para"><a name="hl-NvimColon"></a><span class="help-tag">hl-NvimColon</span>                       Delimiter               <code>:</code> in <a href="eval.html#dict">dict</a> literal
<a name="hl-NvimComma"></a><span class="help-tag">hl-NvimComma</span>                       Delimiter               <code>,</code> in <a href="eval.html#dict">dict</a> or <a href="eval.html#list">list</a>
                                                           literal or
                                                           <a href="eval.html#expr-function">expr-function</a>
<a name="hl-NvimArrow"></a><span class="help-tag">hl-NvimArrow</span>                       Delimiter               <code>-&gt;</code> in <a href="eval.html#lambda">lambda</a>
</div>
<div class="old-help-para"><a name="hl-NvimRegister"></a><span class="help-tag">hl-NvimRegister</span>                    SpecialChar             <a href="eval.html#expr-register">expr-register</a>
<a name="hl-NvimNumber"></a><span class="help-tag">hl-NvimNumber</span>                      Number                  Non-prefix digits
                                                           in integer
                                                           <a href="eval.html#expr-number">expr-number</a>
<a name="hl-NvimNumberPrefix"></a><span class="help-tag">hl-NvimNumberPrefix</span>                Type                    <code>0</code> for <a href="eval.html#octal-number">octal-number</a>
                                                           <code>0x</code> for <a href="eval.html#hex-number">hex-number</a>
                                                           <code>0b</code> for <a href="eval.html#binary-number">binary-number</a>
<a name="hl-NvimFloat"></a><span class="help-tag">hl-NvimFloat</span>                       NvimNumber              Floating-point
                                                           number
</div>
<div class="old-help-para"><a name="hl-NvimOptionSigil"></a><span class="help-tag">hl-NvimOptionSigil</span>                 Type                    <code>&amp;</code> in <a href="eval.html#expr-option">expr-option</a>
<a name="hl-NvimOptionScope"></a><span class="help-tag">hl-NvimOptionScope</span>                 NvimIdentifierScope     Option scope if any
<a name="hl-NvimOptionScopeDelimiter"></a><span class="help-tag">hl-NvimOptionScopeDelimiter</span>        NvimIdentifierScopeDelimiter
                                                           <code>:</code> after option scope
<a name="hl-NvimOptionName"></a><span class="help-tag">hl-NvimOptionName</span>                  NvimIdentifier          Option name
</div>
<div class="old-help-para"><a name="hl-NvimEnvironmentSigil"></a><span class="help-tag">hl-NvimEnvironmentSigil</span>            NvimOptionSigil         <code>$</code> in <a href="eval.html#expr-env">expr-env</a>
<a name="hl-NvimEnvironmentName"></a><span class="help-tag">hl-NvimEnvironmentName</span>             NvimIdentifier          Env variable name
</div>
<div class="old-help-para"><a name="hl-NvimString"></a><span class="help-tag">hl-NvimString</span>                      String                  Generic string
<a name="hl-NvimStringBody"></a><span class="help-tag">hl-NvimStringBody</span>                  NvimString              Generic string
                                                           literal body
<a name="hl-NvimStringQuote"></a><span class="help-tag">hl-NvimStringQuote</span>                 NvimString              Generic string quote
<a name="hl-NvimStringSpecial"></a><span class="help-tag">hl-NvimStringSpecial</span>               SpecialChar             Generic string
                                                           non-literal body
</div>
<div class="old-help-para"><a name="hl-NvimSingleQuote"></a><span class="help-tag">hl-NvimSingleQuote</span>                 NvimStringQuote         <code>'</code> in <a href="eval.html#expr-'">expr-'</a>
<a name="hl-NvimSingleQuotedBody"></a><span class="help-tag">hl-NvimSingleQuotedBody</span>            NvimStringBody          Literal part of
                                                           <a href="eval.html#expr-'">expr-'</a> string body
<a name="hl-NvimSingleQuotedQuote"></a><span class="help-tag">hl-NvimSingleQuotedQuote</span>           NvimStringSpecial       <code>''</code> inside <a href="eval.html#expr-'">expr-'</a>
                                                           string body
</div>
<div class="old-help-para"><a name="hl-NvimDoubleQuote"></a><span class="help-tag">hl-NvimDoubleQuote</span>                 NvimStringQuote         <code>"</code> in <a href="eval.html#expr-quote">expr-quote</a>
<a name="hl-NvimDoubleQuotedBody"></a><span class="help-tag">hl-NvimDoubleQuotedBody</span>            NvimStringBody          Literal part of
                                                           <a href="eval.html#expr-quote">expr-quote</a> body
<a name="hl-NvimDoubleQuotedEscape"></a><span class="help-tag">hl-NvimDoubleQuotedEscape</span>          NvimStringSpecial       Valid <a href="eval.html#expr-quote">expr-quote</a>
                                                           escape sequence
<a name="hl-NvimDoubleQuotedUnknownEscape"></a><span class="help-tag">hl-NvimDoubleQuotedUnknownEscape</span>   NvimInvalidValue        Unrecognized
                                                           <a href="eval.html#expr-quote">expr-quote</a> escape
                                                           sequence
</div>

  </div>
      <div class="col-narrow toc">
      <div><a href="index.html">Main</a></div>
      <div><a href="vimindex.html">Commands index</a></div>
      <div><a href="quickref.html">Quick reference</a></div>
      <hr/>
  <div class="help-toc-h1"><a href="#_-1.-variables-">
1. Variables						
</a>
</div><div class="help-toc-h1"><a href="#_-2.-expression-syntax-">
2. Expression syntax					
</a>
</div><div class="help-toc-h1"><a href="#_-3.-internal-variable-">
3. Internal variable				
</a>
<div class="help-toc-h2"><a href="#_predefined-vim-variables-">PREDEFINED VIM VARIABLES			</a></div>
</div><div class="help-toc-h1"><a href="#_-4.-builtin-functions-">
4. Builtin Functions				
</a>
</div><div class="help-toc-h1"><a href="#_-5.-defining-functions-">
5. Defining functions					
</a>
</div><div class="help-toc-h1"><a href="#_-6.-curly-braces-names-">
6. Curly braces names					
</a>
<div class="help-toc-h2"><a href="#_try-conditionals-">TRY CONDITIONALS					
</a></div>
<div class="help-toc-h2"><a href="#_nesting-of-try-conditionals-">NESTING	OF TRY CONDITIONALS				
</a></div>
<div class="help-toc-h2"><a href="#_examining-exception-handling-code-">EXAMINING EXCEPTION HANDLING CODE			
</a></div>
<div class="help-toc-h2"><a href="#_throwing-and-catching-exceptions-">THROWING AND CATCHING EXCEPTIONS			
</a></div>
<div class="help-toc-h2"><a href="#_cleanup-code-">CLEANUP CODE						
</a></div>
<div class="help-toc-h2"><a href="#_catching-errors-">CATCHING ERRORS						
</a></div>
<div class="help-toc-h2"><a href="#_catching-interrupts-">CATCHING INTERRUPTS					
</a></div>
<div class="help-toc-h2"><a href="#_catching-all-">CATCHING ALL						
</a></div>
<div class="help-toc-h2"><a href="#_peculiarities">PECULIARITIES</a></div>
</div><div class="help-toc-h1"><a href="#_-9.-examples-">
9. Examples						
</a>
</div><div class="help-toc-h1"><a href="#_-textlock-">
Textlock							
</a>
</div><div class="help-toc-h1"><a href="#_-command-line-expressions-highlighting-">
Command-line expressions highlighting		
</a>
</div></div>
</div>
  <footer>
    <div class="container flex">
      <div class="generator-stats">
        Generated at 2022-10-04 06:04 from <code><a href="https://github.com/neovim/neovim/commit/a93ff5fc696387798c7ba066c11600ae2ce1ce03">a93ff5f</a></code>
      </div>
      <div class="generator-stats">
      parse_errors: 0 (<a href="https://github.com/neovim/neovim/issues/new?labels=bug&title=user+docs+HTML%3A+eval.txt+&body=%60gen_help_html.lua%60+problem+at%3A+https://neovim.io/doc/user/eval.html%0D%0DContext%3A%0D%0D%60%60%60%0DTODO%0D%60%60%60" target="_blank">report docs bug...</a>) | <span title="	Nvim
		  VIM REFERENCE MANUAL	  by Bram Moolenaar
				      Type &lt;a href="various.html#gO"&gt;gO&lt;/a&gt; to see the table of contents.
 vim:tw=78:ts=8:noet:ft=help:norl:">noise_lines: 4</span>
      </div>
    <div>
  </footer>
  </body>
</html>
